import{r as d,j as e,u as He,L as se,S as Ke,M as ue,a as pe,U as ve,b as Se,H as Ge,C as ge,c as be,d as $e,T as Ye,e as G,f as Ve,Z as ae,A as Je,g as qe,B as Xe,h as Ze,i as V,k as he,P as ce,l as Qe,m as ne,n as et,p as tt,q as rt,s as ke,t as Te,v as we,w as st,x as nt,X as De,y as ot,z as it,D as at,E as de,F as lt,G as ct,I as dt,R as Ce,J as mt,K as ut,N as pt,O as K,Q as gt}from"./vendor-B9xoBQ73.js";import{i as ht,g as xt,G as yt,a as ft,d as le,b as Ae,s as Ie,o as jt,w as vt,c as St,e as bt,f as kt}from"./firebase-D27tOi_1.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();const Tt={apiKey:"AIzaSyCO5r-8hPDpEJD2qY2llWyf_gAQXVlu4CU",authDomain:"stop-procrastinating-9ffaf.firebaseapp.com",projectId:"stop-procrastinating-9ffaf",storageBucket:"stop-procrastinating-9ffaf.firebasestorage.app",messagingSenderId:"270312713724",appId:"1:270312713724:web:98e212793206ff87511679",measurementId:"G-KYLVPZXV20"},Ee=ht(Tt),$=xt(Ee),wt=new yt,oe=ft(Ee),c={USER_MOOD:"sp_user_mood",TASKS:"sp_tasks",SCHEDULED_TASKS:"sp_scheduled_tasks",DISTRACTION_LOGS:"sp_distraction_logs",WORK_LOGS:"sp_work_logs",REFLECTIONS:"sp_daily_reflections",USER_STATS:"sp_user_stats",EVENT_LOG:"sp_event_log"},Le=async n=>{if(n)try{const r=le(oe,"users",n.uid),s=await Ae(r);if(s.exists()){const t=s.data(),o=i=>{try{return typeof i=="string"?JSON.parse(i):i}catch{return i}};t.tasks&&N(c.TASKS,o(t.tasks),!0),t.scheduled&&N(c.SCHEDULED_TASKS,o(t.scheduled),!0),t.reflections&&N(c.REFLECTIONS,o(t.reflections),!0),t.stats&&N(c.USER_STATS,o(t.stats),!0),t.mood&&N(c.USER_MOOD,t.mood,!0),t.distractions&&N(c.DISTRACTION_LOGS,o(t.distractions),!0),t.work_logs&&N(c.WORK_LOGS,o(t.work_logs),!0),console.log("Full sync from cloud completed."),window.dispatchEvent(new CustomEvent("sp-data-loaded"))}}catch(r){console.error("Error loading from cloud:",r)}},Ne=async(n,r,s=!1)=>{const t=$.currentUser;if(t)try{const o=le(oe,"users",t.uid);s||window.dispatchEvent(new CustomEvent("sp-sync-start"));const a={[c.TASKS]:"tasks",[c.SCHEDULED_TASKS]:"scheduled",[c.REFLECTIONS]:"reflections",[c.USER_STATS]:"stats",[c.USER_MOOD]:"mood",[c.DISTRACTION_LOGS]:"distractions",[c.WORK_LOGS]:"work_logs"}[n];if(a){const l=typeof r=="object"?JSON.stringify(r):r;await Ie(o,{[a]:l},{merge:!0}),console.log(`Synced ${n} to cloud.`),s||window.dispatchEvent(new CustomEvent("sp-sync-success"))}}catch(o){console.error("Cloud sync failed:",o),s||window.dispatchEvent(new CustomEvent("sp-sync-error",{detail:o}))}},x=(n,r=null)=>{try{const s=localStorage.getItem(n);return s?JSON.parse(s):r}catch(s){return console.error(`Error reading ${n} from storage:`,s),r}},N=(n,r,s=!1)=>{try{localStorage.setItem(n,JSON.stringify(r)),s||Ne(n,r)}catch(t){console.error(`Error writing ${n} to storage:`,t)}},Re=()=>{const n=new Date().toDateString();let r=x(c.USER_STATS,{totalPoints:0,currentStreak:0,longestStreak:0,lastActiveDate:null});if(r.lastActiveDate!==n){const s=new Date;s.setDate(s.getDate()-1),r.lastActiveDate===s.toDateString()?r.currentStreak+=1:r.lastActiveDate===null?r.currentStreak=1:r.currentStreak+=1,r.currentStreak>r.longestStreak&&(r.longestStreak=r.currentStreak),r.lastActiveDate=n,N(c.USER_STATS,r)}return r},me=n=>{let r=x(c.USER_STATS,{totalPoints:0,currentStreak:0,longestStreak:0,lastActiveDate:null});return r.totalPoints+=n,N(c.USER_STATS,r),r},ze=()=>{Object.values(c).forEach(n=>{localStorage.removeItem(n)}),localStorage.removeItem("sp_user_name")},Dt=async()=>{if($.currentUser){window.dispatchEvent(new CustomEvent("sp-sync-start"));try{const r=Object.values(c).map(async s=>{const t=x(s);t!==null&&await Ne(s,t,!0)});return await Promise.all(r),window.dispatchEvent(new CustomEvent("sp-sync-success")),!0}catch(r){return console.error("Force sync failed:",r),window.dispatchEvent(new CustomEvent("sp-sync-error",{detail:r})),!1}}},Be=d.createContext(),Oe=()=>d.useContext(Be),Ct=({children:n})=>{const[r,s]=d.useState(()=>{try{return localStorage.getItem("sp_theme")||"light"}catch{return"light"}});d.useEffect(()=>{const o=document.documentElement;r==="dark"?o.setAttribute("data-theme","dark"):o.removeAttribute("data-theme"),localStorage.setItem("sp_theme",r)},[r]);const t=()=>{s(o=>o==="light"?"dark":"light")};return e.jsx(Be.Provider,{value:{theme:r,toggleTheme:t},children:n})},M=({children:n})=>{const r=He(),s=x(c.USER_STATS,{totalPoints:0,currentStreak:0}),[t,o]=d.useState(null),{theme:i,toggleTheme:a}=Oe();return d.useEffect(()=>{const l=jt($,p=>{o(p)});return()=>l()},[]),e.jsxs("div",{className:"layout-wrapper",style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[e.jsxs("header",{style:{padding:"1rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",background:"var(--header-bg)",color:"var(--color-text-primary)"},children:[e.jsx(se,{to:"/",style:{textDecoration:"none",color:"var(--color-primary)",fontWeight:"bold"},children:"Stop Procrastinating"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",fontSize:"0.875rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[e.jsx("span",{role:"img","aria-label":"streak",children:"ðŸ”¥"}),e.jsxs("span",{children:[s.currentStreak," Days"]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[e.jsx("span",{role:"img","aria-label":"points",children:"âœ¨"}),e.jsxs("span",{children:[s.totalPoints," pts"]})]}),e.jsx(se,{to:"/settings",style:{color:"var(--color-primary)",display:"flex",alignItems:"center"},children:e.jsx(Ke,{size:20})}),e.jsx("button",{onClick:a,style:{background:"none",border:"none",cursor:"pointer",color:"var(--color-primary)",display:"flex",alignItems:"center",padding:"0.25rem"},"aria-label":"Toggle Theme",children:i==="light"?e.jsx(ue,{size:20}):e.jsx(pe,{size:20})}),t?e.jsx(se,{to:"/settings",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginLeft:"0.5rem",textDecoration:"none",color:"inherit"},children:t.photoURL?e.jsx("img",{src:t.photoURL,alt:"User",style:{width:"28px",height:"28px",borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(99, 102, 241, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-primary)"},children:e.jsx(ve,{size:16})})}):e.jsxs(se,{to:"/signin",style:{display:"flex",alignItems:"center",gap:"0.25rem",textDecoration:"none",color:"var(--color-primary)",marginLeft:"0.5rem"},children:[e.jsx(Se,{size:18}),e.jsx("span",{children:"Sign In"})]})]})]}),e.jsx("main",{style:{flex:1,paddingBottom:"2rem"},children:n}),e.jsxs("nav",{style:{position:"fixed",bottom:0,left:0,width:"100%",background:"var(--nav-bg)",borderTop:"1px solid var(--border-color)",display:"flex",justifyContent:"space-around",padding:"0.75rem 0",zIndex:100},children:[e.jsx(re,{to:"/",icon:e.jsx(Ge,{size:20}),label:"Home",active:r.pathname==="/"||r.pathname==="/mood"}),e.jsx(re,{to:"/schedule",icon:e.jsx(ge,{size:20}),label:"Tasks",active:r.pathname==="/schedule"}),e.jsx(re,{to:"/limit",icon:e.jsx(be,{size:20}),label:"Limit",active:r.pathname==="/limit"}),e.jsx(re,{to:"/reflect",icon:e.jsx($e,{size:20}),label:"Reflect",active:r.pathname==="/reflect"}),e.jsx(re,{to:"/analysis",icon:e.jsx(Ye,{size:20}),label:"Analysis",active:r.pathname==="/analysis"})]}),e.jsx("div",{style:{height:"70px"}})]})},re=({to:n,icon:r,label:s,active:t})=>e.jsxs(se,{to:n,style:{display:"flex",flexDirection:"column",alignItems:"center",textDecoration:"none",color:t?"var(--color-primary)":"var(--color-text-secondary)",fontSize:"0.75rem"},children:[r,e.jsx("span",{style:{marginTop:"0.25rem"},children:s})]}),At=(n,r)=>{const s={morning:{attempts:0,completed:0,totalMinutes:0,score:0},afternoon:{attempts:0,completed:0,totalMinutes:0,score:0},evening:{attempts:0,completed:0,totalMinutes:0,score:0},night:{attempts:0,completed:0,totalMinutes:0,score:0}},t=o=>{const i=new Date(o).getHours();return i>=5&&i<12?"morning":i>=12&&i<17?"afternoon":i>=17&&i<21?"evening":"night"};return n.forEach(o=>{if(!o.completedAt)return;const i=t(o.completedAt);s[i].attempts++,s[i].completed++,s[i].totalMinutes+=parseInt(o.timeTaken)||0}),r.forEach(o=>{const i=t(o.date);s[i].attempts++,s[i].completed++,s[i].totalMinutes+=parseInt(o.duration)||0}),Object.keys(s).forEach(o=>{const i=s[o];i.score=i.totalMinutes+i.completed*10}),s},It=n=>{const r={},s={morning:0,afternoon:0,evening:0,night:0};return n.forEach(o=>{r[o.app]=(r[o.app]||0)+1;const i=new Date(o.date).getHours();let a="night";i>=5&&i<12?a="morning":i>=12&&i<17?a="afternoon":i>=17&&i<21&&(a="evening"),s[a]++}),{sortedTriggers:Object.entries(r).sort(([,o],[,i])=>i-o).map(([o,i])=>({app:o,count:i})),timePatterns:s}},_e=()=>{const n=x(c.TASKS,[]),r=x(c.SCHEDULED_TASKS,[]),s=x(c.WORK_LOGS,[]),t=x(c.DISTRACTION_LOGS,[]),o=[...n,...r],i=At(o,s),{sortedTriggers:a,timePatterns:l}=It(t),p=[];let y="morning",v=-1;if(Object.entries(i).forEach(([T,u])=>{u.score>v&&(v=u.score,y=T)}),v>50&&p.push({type:"productivity",text:`You are naturally most productive in the **${y}**. Schedule your hardest tasks then! ðŸš€`,score:v}),a.length>0){const T=a[0];let u="night",h=-1;Object.entries(l).forEach(([A,S])=>{S>h&&(h=S,u=A)}),h>2&&p.push({type:"warning",text:`Watch out for **${T.app}** in the ${u}. It's your top distraction. ðŸ›¡ï¸`,score:h*10})}return p.length===0?{type:"neutral",text:"Keep logging work to unlock Smart Insights! ðŸ§ "}:p[0]},Et=()=>{const n=G(),[r,s]=d.useState("Friend"),[t,o]=d.useState(0),[i,a]=d.useState(0),[l,p]=d.useState("Start your day!"),[y,v]=d.useState(null),[T,u]=d.useState([]),[h,A]=d.useState(null);return d.useEffect(()=>{s(x(c.USER_NAME,"Friend"));const S=x(c.USER_STATS,{currentStreak:0,totalPoints:0});o(S.currentStreak),a(S.totalPoints);const j=()=>{new Date().setHours(0,0,0,0);const O=x(c.DISTRACTION_LOGS,[]).filter(D=>new Date(D.date).toDateString()===new Date().toDateString()),b=O.reduce((D,H)=>D+parseInt(H.duration||0),0),_=O.length,I={};O.forEach(D=>{I[D.app]=(I[D.app]||0)+parseInt(D.duration||0)});const W=Object.entries(I).sort(([,D],[,H])=>H-D).slice(0,3).map(([D,H])=>({name:D,duration:H}));u(W);const w=x(c.TASKS,[]),E=x(c.SCHEDULED_TASKS,[]),R=w.filter(D=>D.completed&&D.completedAt&&new Date(D.completedAt).toDateString()===new Date().toDateString()),P=E.filter(D=>D.completed&&D.completedAt&&new Date(D.completedAt).toDateString()===new Date().toDateString()),g=[...R,...P],z=g.reduce((D,H)=>D+(parseInt(H.timeTaken)||0),0),U=x(c.WORK_LOGS,[]).filter(D=>new Date(D.date).toDateString()===new Date().toDateString()),J=U.reduce((D,H)=>D+parseInt(H.duration||0),0),ie=z+J,q=g.length,te=g.reduce((D,H)=>{if(H.pointsEarned!==void 0)return D+H.pointsEarned;const Fe=parseInt(H.timeTaken)||0;return D+10+Fe},0),Z=U.reduce((D,H)=>D+parseInt(H.duration||0),0),Q=te+Z;let m=0,C=0;const f=ie+b;let B="Ready to start?";if(f>0){const D=Math.round(b/f*100);C=D,m=100-D,m>=80?B="You are on fire! ðŸ”¥ Highly Focused.":m>=50?B="Good flow. Keep working! ðŸ’ª":m>=30?B="Distractions are creeping in. âš ï¸":B="Procrastination is winning. Fight back! ðŸ›¡ï¸"}p(B);const Y=x(c.REFLECTIONS,[]).sort((D,H)=>new Date(H.date)-new Date(D.date))[0],Me=Y?Y.tomorrowGoal:null;A({date:new Date().toISOString(),workScore:m,procrastinationScore:C,tasksDoneCount:q,pointsScored:Q,distractionTime:b,distractionCount:_,tomorrowGoal:Me,isLive:!0})},k=_e();v(k),j()},[]),e.jsx(M,{children:e.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"2rem"},children:[e.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"0.5rem",background:"linear-gradient(135deg, #6366f1 0%, #a855f7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Stop Procrastinating"}),e.jsx("p",{style:{fontSize:"1.2rem",color:"var(--color-text-secondary)",marginBottom:"2rem"},children:"Start small. Be kind to yourself."}),e.jsxs("div",{className:"card",style:{textAlign:"left",marginBottom:"2rem"},children:[e.jsxs("h3",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(Ve,{className:"text-secondary",size:20}),"Your Progress"]}),e.jsx("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-md)",fontWeight:"500",color:"var(--color-primary)"},children:l}),y&&y.type!=="neutral"&&e.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:y.type==="warning"?"#fef2f2":"#f0f9ff",borderRadius:"var(--radius-md)",border:y.type==="warning"?"1px solid #fecaca":"1px solid #bae6fd",fontSize:"0.9rem",display:"flex",gap:"0.5rem",alignItems:"start"},children:[e.jsx(ae,{size:16,style:{marginTop:"2px",color:y.type==="warning"?"#ef4444":"#0284c7"}}),e.jsx("span",{style:{color:y.type==="warning"?"#b91c1c":"#0369a1"},children:y.text.replace(/\*\*/g,"")})]}),e.jsxs("ul",{style:{paddingLeft:"1.5rem",color:"var(--color-text-secondary)",lineHeight:"1.6",marginBottom:"1rem"},children:[e.jsxs("li",{children:[e.jsx("strong",{children:t})," Total Days Active"]}),e.jsxs("li",{children:[e.jsx("strong",{children:i})," Focus Points"]})]}),T.length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"var(--color-text-primary)"},children:"Top Distractions Today:"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.5rem"},children:T.map((S,j)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fef2f2",padding:"0.5rem 0.75rem",borderRadius:"0.5rem",border:"1px solid #fecaca"},children:[e.jsx("span",{style:{color:"#ef4444",fontWeight:"500"},children:S.name}),e.jsxs("span",{style:{fontWeight:"bold",color:"#b91c1c"},children:[S.duration,"m"]})]},j))})]})]}),e.jsx("div",{style:{marginTop:"2rem"},children:e.jsxs("button",{className:"btn-primary",onClick:()=>n("/mood"),children:["Get Started ",e.jsx(Je,{size:18,style:{marginLeft:"0.5rem"}})]})}),h&&e.jsxs("div",{style:{marginTop:"3rem",textAlign:"left"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-text-secondary)"},children:[e.jsx(qe,{size:18}),"Today's Live Snapshot"]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.9rem"},children:[e.jsxs("span",{style:{color:"#15803d",fontWeight:"bold"},children:["Work ",h.workScore,"%"]}),e.jsxs("span",{style:{color:"#b91c1c",fontWeight:"bold"},children:["Procrastinate ",h.procrastinationScore,"%"]})]}),e.jsxs("div",{style:{height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden",display:"flex"},children:[e.jsx("div",{style:{width:`${h.workScore}%`,background:"#22c55e"}}),e.jsx("div",{style:{width:`${h.procrastinationScore}%`,background:"#ef4444"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem",paddingBottom:"1.5rem",borderBottom:"1px solid #f1f5f9"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-primary)"},children:h.tasksDoneCount||0}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-secondary)"},children:"Tasks Done"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-warning)"},children:h.pointsScored||0}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-secondary)"},children:"Points Scored"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"2rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:"Distractions"}),e.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:[h.distractionTime||0,"m"]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:"Count"}),e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:h.distractionCount||0})]})]}),h.tomorrowGoal&&e.jsxs("div",{style:{padding:"1rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-md)"},children:[e.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-primary)",display:"flex",alignItems:"center",gap:"0.25rem",marginBottom:"0.25rem"},children:[e.jsx(ge,{size:14}),new Date(h.date).toDateString()===new Date().toDateString()?"Goal for Tomorrow":"Target set for Today"]}),e.jsx("div",{style:{fontWeight:500},children:h.tomorrowGoal})]})]})]})]})})},Lt=(n,r={})=>{const s=new Date;let t="night";if(r.overrideTimeOfDay)t=r.overrideTimeOfDay;else{const l=s.getHours();l>=5&&l<12?t="morning":l>=12&&l<17?t="afternoon":l>=17&&l<21&&(t="evening")}const{overrideTimeOfDay:o,...i}=r,a=x(c.USER_MOOD,"neutral");return{event_id:crypto.randomUUID(),user_id:$.currentUser?$.currentUser.uid:"local_user",timestamp:s.toISOString(),date:s.toISOString().split("T")[0],time_of_day:t,event_type:n,mood_before:a,payload:i,synced:!1}},ee=(n,r)=>{const s=Lt(n,r),t=x(c.EVENT_LOG,[]);t.push(s),N(c.EVENT_LOG,t),Nt()},Nt=async()=>{const n=$.currentUser;if(!n)return;const r=x(c.EVENT_LOG,[]),s=r.filter(t=>!t.synced);if(s.length!==0)try{const t=vt(oe),o=St(oe,"users",n.uid,"events");s.forEach(a=>{const l=le(o,a.event_id),{synced:p,...y}=a;t.set(l,y)}),await t.commit();const i=r.map(a=>s.find(l=>l.event_id===a.event_id)?{...a,synced:!0}:a);N(c.EVENT_LOG,i),console.log(`Synced ${s.length} events to cloud.`)}catch(t){console.error("Failed to sync events:",t)}},Rt=()=>{const n=G(),r=[{id:"focused",label:"Focused",icon:e.jsx(ae,{size:32}),color:"var(--color-success)",desc:"I'm ready to tackle something big."},{id:"low-energy",label:"Low Energy",icon:e.jsx(Xe,{size:32}),color:"var(--color-warning)",desc:"I need something small and easy."},{id:"bored",label:"Bored",icon:e.jsx(Ze,{size:32}),color:"var(--color-text-accent)",desc:"I need to get interested."}],s=t=>{N(c.USER_MOOD,t),ee("mood_update",{mood:t}),n("/tasks")};return e.jsx(M,{children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem"},children:"How are you feeling right now?"}),e.jsx("div",{style:{display:"grid",gap:"1rem"},children:r.map(t=>e.jsxs("button",{onClick:()=>s(t.id),className:"card",style:{display:"flex",alignItems:"center",gap:"1rem",textAlign:"left",width:"100%",border:"1px solid transparent",cursor:"pointer",transition:"transform 0.2s, border-color 0.2s"},onMouseEnter:o=>{o.currentTarget.style.transform="scale(1.02)",o.currentTarget.style.borderColor=t.color},onMouseLeave:o=>{o.currentTarget.style.transform="scale(1)",o.currentTarget.style.borderColor="transparent"},children:[e.jsx("div",{style:{color:t.color},children:t.icon}),e.jsxs("div",{children:[e.jsx("strong",{style:{display:"block",fontSize:"1.1rem"},children:t.label}),e.jsx("span",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)"},children:t.desc})]})]},t.id))})]})})},zt=()=>{const n=G(),[r,s]=d.useState([]),[t,o]=d.useState(null),[i,a]=d.useState([]),l=p=>{if(window.confirm("Are you sure you want to delete this task?")){const y=r.filter(u=>u.id!==p);s(y);const T=x(c.TASKS,[]).filter(u=>u.id!==p);N(c.TASKS,T)}};return d.useEffect(()=>{const p=x(c.USER_MOOD);o(p);const v=x(c.TASKS,[]).filter(A=>{var S;return!A.completed&&(((S=A.moods)==null?void 0:S.includes(p))||!A.moods||A.moods.length===0)});s(v);const T=x(c.SCHEDULED_TASKS,[]),u=new Date().setHours(0,0,0,0),h=T.filter(A=>{const S=new Date(A.startDate).setHours(0,0,0,0),j=new Date(A.dueDate).setHours(0,0,0,0);return!A.completed&&u>=S&&u<=j});a(h)},[]),e.jsx(M,{children:e.jsxs("div",{className:"container",children:[e.jsxs("button",{onClick:()=>n("/schedule"),style:{background:"transparent",border:"none",color:"var(--color-primary)",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0",fontSize:"1rem",cursor:"pointer",marginBottom:"1rem"},children:[e.jsx(V,{size:20})," Back"]}),i.length>0&&e.jsxs("div",{style:{background:"var(--color-bg-accent)",padding:"1rem",borderRadius:"var(--radius-md)",marginBottom:"1.5rem",border:"1px solid var(--color-primary)"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"start",color:"var(--color-primary)",marginBottom:"0.5rem"},children:[e.jsx(he,{size:20,style:{marginTop:"0.1rem"}}),e.jsxs("strong",{style:{display:"block"},children:["Daily Commitments (",i.length,")"]})]}),i.map(p=>e.jsx("div",{style:{marginLeft:"1.75rem",marginBottom:"0.5rem",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.5rem"},children:e.jsxs("span",{style:{color:"var(--color-text-primary)"},children:["Planned to work on ",e.jsx("strong",{children:p.workToComplete})," for the ",e.jsx("strong",{children:p.name}),"."]})},p.id))]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsx("h2",{children:"Suggested for You"}),e.jsxs("button",{className:"btn-primary",style:{padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},onClick:()=>n("/add-task"),children:[e.jsx(ce,{size:18})," Add Task"]})]}),r.length===0?e.jsxs("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",padding:"2rem"},children:[e.jsxs("p",{children:["No tasks fit your current mood (",t,")."]}),e.jsx("p",{children:"Why not add a small one?"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:r.map(p=>e.jsxs("div",{className:"card",children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 0.25rem",fontSize:"1.25rem"},children:p.title}),e.jsxs("p",{style:{fontSize:"0.9rem",marginBottom:"0.5rem"},children:[e.jsx("strong",{children:"Start with:"})," ",p.smallStep]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-secondary)"},children:p.time&&e.jsxs(e.Fragment,{children:[e.jsx(Qe,{size:16})," ",p.time]})})]})}),e.jsxs("div",{style:{marginTop:"1rem",textAlign:"right"},children:[e.jsx("button",{className:"btn-primary",style:{background:"var(--color-success)",fontSize:"0.9rem"},onClick:()=>n(`/complete/${p.id}`),children:"Task Done (Add Proof)"}),e.jsx("button",{style:{background:"transparent",border:"none",color:"#ef4444",marginLeft:"1rem",cursor:"pointer",padding:"0.5rem"},onClick:()=>l(p.id),"aria-label":"Delete task",children:e.jsx(ne,{size:18})})]})]},p.id))})]})})},Bt=()=>{const n=G(),[r,s]=d.useState({title:"",smallStep:"",moods:[]}),t=[{id:"focused",label:"Focused"},{id:"low-energy",label:"Low Energy"},{id:"bored",label:"Bored"}],o=a=>{a.preventDefault();const l=x(c.TASKS,[]),p={id:Date.now().toString(),...r,completed:!1,createdAt:new Date().toISOString()};N(c.TASKS,[p,...l]),ee("task_create",{task_id:p.id,title:p.title}),n("/tasks")},i=a=>{s(l=>{const p=l.moods.includes(a)?l.moods.filter(y=>y!==a):[...l.moods,a];return{...l,moods:p}})};return e.jsx(M,{children:e.jsxs("div",{className:"container",children:[e.jsxs("button",{onClick:()=>n("/schedule"),style:{background:"transparent",border:"none",color:"var(--color-primary)",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0",fontSize:"1rem",cursor:"pointer",marginBottom:"1rem"},children:[e.jsx(V,{size:20})," Back"]}),e.jsx("h2",{children:"Add a New Task"}),e.jsxs("form",{onSubmit:o,className:"card",children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"Task Name"}),e.jsx("input",{required:!0,value:r.title,onChange:a=>s({...r,title:a.target.value}),placeholder:"e.g. Study Math"})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"Small First Step (Crucial!)"}),e.jsx("input",{required:!0,value:r.smallStep,onChange:a=>s({...r,smallStep:a.target.value}),placeholder:"e.g. Open the textbook to page 50"}),e.jsx("small",{style:{color:"var(--color-text-secondary)"},children:"Just write what you will do in the first 2 minutes."})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{children:"Best for Mood (Optional)"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:t.map(a=>e.jsx("button",{type:"button",onClick:()=>i(a.id),style:{padding:"0.5rem 1rem",borderRadius:"var(--radius-full)",border:"1px solid var(--color-primary)",background:r.moods.includes(a.id)?"var(--color-primary)":"transparent",color:r.moods.includes(a.id)?"white":"var(--color-primary)",fontSize:"0.85rem"},children:a.label},a.id))})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%"},children:"Save Task"})]})]})})},xe=({value:n,onChange:r})=>e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:[["15","30","45","60"].map(s=>e.jsxs("button",{type:"button",onClick:()=>r(s),style:{padding:"0.5rem 1rem",borderRadius:"2rem",border:"1px solid var(--color-primary)",background:n===s?"var(--color-primary)":"transparent",color:n===s?"white":"var(--color-primary)",cursor:"pointer",transition:"all 0.2s"},children:[s,"m"]},s)),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Custom (max 600)",value:n,onChange:s=>{const t=s.target.value;(t===""||/^\d+$/.test(t)&&parseInt(t,10)<=600)&&r(t)},style:{width:"120px",padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #cbd5e1",outlineColor:"var(--color-primary)"}})]}),ye=({value:n,onChange:r})=>{const s=[{id:"morning",label:"Morning",icon:e.jsx(pe,{size:20}),color:"#f59e0b"},{id:"afternoon",label:"Afternoon",icon:e.jsx(et,{size:20}),color:"#ea580c"},{id:"evening",label:"Evening",icon:e.jsx(tt,{size:20}),color:"#7c3aed"},{id:"night",label:"Night",icon:e.jsx(ue,{size:20}),color:"#1e293b"}];return e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"var(--color-text-secondary)"},children:"When did this happen?"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem"},children:s.map(t=>e.jsxs("button",{type:"button",onClick:()=>r(t.id),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.25rem",padding:"0.75rem 0.25rem",borderRadius:"var(--radius-md)",border:`1px solid ${n===t.id?t.color:"transparent"}`,background:n===t.id?`${t.color}15`:"var(--color-bg-secondary)",color:n===t.id?t.color:"var(--color-text-secondary)",cursor:"pointer",transition:"all 0.2s"},children:[t.icon,e.jsx("span",{style:{fontSize:"0.75rem",fontWeight:n===t.id?"600":"400"},children:t.label})]},t.id))})]})},Ot=()=>{const{taskId:n}=rt(),r=G(),[s,t]=d.useState(null),[o,i]=d.useState(""),[a,l]=d.useState(""),[p,y]=d.useState(null),v=d.useRef(null),T=d.useRef(null),[u,h]=d.useState(!1),[A,S]=d.useState(0),[j,k]=d.useState("morning");d.useEffect(()=>{const b=new Date().getHours();b>=5&&b<12?k("morning"):b>=12&&b<17?k("afternoon"):b>=17&&b<21?k("evening"):k("night")},[]),d.useEffect(()=>{let _=x(c.TASKS,[]).find(I=>I.id===n);if(!_){const W=x(c.SCHEDULED_TASKS,[]).find(w=>String(w.id)===n);W&&(_={...W,title:W.name,smallStep:W.workToComplete||"Scheduled Work",isSchedule:!0})}_&&t(_)},[n]);const F=b=>{const _=b.target.files[0];if(_){const I=new FileReader;I.onloadend=()=>{y(I.result)},I.readAsDataURL(_)}},O=b=>{b.preventDefault();const _=new Date().setHours(0,0,0,0);let I=10;if(s.isSchedule){const w=new Date(s.dueDate).setHours(0,0,0,0);_<=w?I=100:I=10}const W=parseInt(a)||0;if(I+=W,s.isSchedule){const E=x(c.SCHEDULED_TASKS,[]).map(R=>String(R.id)===n?{...R,completed:!0,completedAt:new Date().toISOString(),timeTaken:parseInt(a)||0,proofImage:p,pointsEarned:I}:R);N(c.SCHEDULED_TASKS,E)}else{const E=x(c.TASKS,[]).map(R=>R.id===n?{...R,completed:!0,learning:o,completedAt:new Date().toISOString(),timeTaken:parseInt(a)||0,proofImage:p,pointsEarned:I}:R);N(c.TASKS,E)}me(I),Re(),ee("task_complete",{task_id:n,task_title:s.title,actual_time_spent:parseInt(a)||0,points_earned:I,has_proof:!!p,learning_note:o,overrideTimeOfDay:j}),S(I),h(!0)};return s?u?e.jsx(M,{children:e.jsxs("div",{className:"container",style:{textAlign:"center",padding:"3rem 1rem"},children:[e.jsx(ke,{size:64,color:"var(--color-success)",style:{margin:"0 auto 1rem"}}),e.jsx("h2",{children:"Well Done!"}),e.jsx("p",{children:"You started despite resistance. That matters."}),e.jsxs("div",{style:{margin:"2rem 0",padding:"1.5rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-lg)"},children:[e.jsxs("h3",{style:{margin:0,color:"var(--color-primary)"},children:["+",A," Focus Points"]}),e.jsx("p",{style:{margin:"0.5rem 0 0"},children:"Streak Updated!"})]}),e.jsx("button",{className:"btn-primary",onClick:()=>r("/"),children:"Back Home"})]})}):e.jsx(M,{children:e.jsxs("div",{className:"container",children:[e.jsxs("h2",{children:['Complete "',s.title,'"']}),e.jsx("div",{className:"card",children:e.jsxs("form",{onSubmit:O,children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{children:"Time Taken (minutes)"}),e.jsx(xe,{value:a,onChange:l})]}),e.jsx(ye,{value:j,onChange:k}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{children:"What did you learn or do? (Optional)"}),e.jsx("textarea",{value:o,onChange:b=>i(b.target.value),placeholder:"I learned that starting wasn't so bad...",rows:2})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Upload Proof (Optional)"}),e.jsx("input",{type:"file",accept:"image/*",ref:v,onChange:F,style:{display:"none"}}),e.jsx("input",{type:"file",accept:"image/*",capture:"environment",id:"cameraInput",ref:T,onChange:F,style:{display:"none"}}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{onClick:()=>{var b;return(b=v.current)==null?void 0:b.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1.5rem",textAlign:"center",color:"var(--color-text-secondary)",cursor:"pointer",background:p?"#f0fdf4":"transparent"},children:[e.jsx(Te,{size:24,style:{marginBottom:"0.5rem"}}),e.jsx("div",{children:"Upload Image"})]}),e.jsxs("div",{onClick:()=>{var b;return(b=T.current)==null?void 0:b.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1.5rem",textAlign:"center",color:"var(--color-text-secondary)",cursor:"pointer",background:p?"#f0fdf4":"transparent"},children:[e.jsx(we,{size:24,style:{marginBottom:"0.5rem"}}),e.jsx("div",{children:"Take Photo"})]})]}),p&&e.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--color-success)",textAlign:"center"},children:"Proof Attached!"})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%",opacity:a?1:.5,cursor:a?"pointer":"not-allowed"},disabled:!a,children:"Mark as Completed"})]})})]})}):e.jsx(M,{children:e.jsx("div",{children:"Loading..."})})},_t=()=>{const n=G(),[r,s]=d.useState([]),[t,o]=d.useState([]),[i,a]=d.useState(null),[l,p]=d.useState(""),[y,v]=d.useState(!1),[T,u]=d.useState(!1),[h,A]=d.useState(!1),[S,j]=d.useState(""),[k,F]=d.useState(""),[O,b]=d.useState(null),_=d.useRef(null),I=d.useRef(null),[W,w]=d.useState("morning"),[E,R]=d.useState({name:"",workToComplete:"",startDate:"",dueDate:""}),[P,g]=d.useState({title:"",smallStep:"",moods:[]}),z=[{id:"focused",label:"Focused"},{id:"low-energy",label:"Low Energy"},{id:"bored",label:"Bored"}];d.useEffect(()=>{s(x(c.SCHEDULED_TASKS,[])),o(x(c.TASKS,[]))},[]);const L=m=>{if(m.preventDefault(),!i||!l)return;const C=parseInt(l);if(isNaN(C)||C<=0)return;const f={id:Date.now().toString(),taskId:i.id,taskTitle:i.title||i.name,duration:C,date:new Date().toISOString()},B=x(c.WORK_LOGS,[]);N(c.WORK_LOGS,[...B,f]),me(C),a(null),p(""),alert(`Logged ${C} mins of work! Keep it up.`)},U=m=>{m.preventDefault();const C=[...r,{id:Date.now(),...E}];N(c.SCHEDULED_TASKS,C),s(C),v(!1),R({name:"",workToComplete:"",startDate:"",dueDate:""})},J=m=>{m.preventDefault();const f=[{id:Date.now().toString(),...P,completed:!1,createdAt:new Date().toISOString()},...t];N(c.TASKS,f),o(f),u(!1),g({title:"",smallStep:"",moods:[]})},ie=m=>{if(window.confirm("Delete this daily task?")){const C=t.filter(f=>f.id!==m);o(C),N(c.TASKS,C)}},q=m=>{if(window.confirm("Cancel this future plan?")){const C=r.filter(f=>f.id!==m);s(C),N(c.SCHEDULED_TASKS,C)}},te=m=>{g(C=>{const f=C.moods.includes(m)?C.moods.filter(B=>B!==m):[...C.moods,m];return{...C,moods:f}})},Z=m=>{const C=m.target.files[0];if(C){const f=new FileReader;f.onloadend=()=>{b(f.result)},f.readAsDataURL(C)}},Q=m=>{m.preventDefault();const f=10+(parseInt(k)||0),B=x(c.TASKS,[]),X={id:Date.now().toString(),title:S,smallStep:"Ad-hoc Logged",time:k,completed:!0,completedAt:new Date().toISOString(),timeTaken:parseInt(k)||0,proofImage:O,isAdhoc:!0,pointsEarned:f};N(c.TASKS,[X,...B]),o([X,...B]),me(f),Re(),ee("task_complete",{task_id:X.id,task_title:X.title,actual_time_spent:parseInt(k)||0,points_earned:f,has_proof:!!O,is_adhoc:!0,overrideTimeOfDay:W}),alert(`Saved! +${f} Points.`),A(!1),j(""),F(""),b(null)};return e.jsx(M,{children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[e.jsxs("button",{onClick:()=>n("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginRight:"1rem"},children:[e.jsx(V,{size:18})," Back"]}),e.jsx("h2",{style:{margin:0},children:"Planning Hub"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"3rem"},children:[e.jsxs("div",{className:"card",style:{textAlign:"center",cursor:"pointer",border:T?"2px solid var(--color-primary)":"1px solid transparent",transition:"all 0.2s",padding:"2rem 1rem"},onClick:()=>{u(!T),v(!1),A(!1)},children:[e.jsx("div",{style:{background:"var(--color-bg-accent)",width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"var(--color-primary)"},children:e.jsx(ae,{size:24})}),e.jsx("h3",{style:{fontSize:"1.2rem",margin:"0 0 0.5rem"},children:"Add Task"}),e.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",margin:0},children:"For immediate work today. Small steps."})]}),e.jsxs("div",{className:"card",style:{textAlign:"center",cursor:"pointer",border:y?"2px solid var(--color-primary)":"1px solid transparent",padding:"2rem 1rem"},onClick:()=>{v(!y),u(!1),A(!1)},children:[e.jsx("div",{style:{background:"#f0f9ff",width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"#0284c7"},children:e.jsx(ge,{size:24})}),e.jsx("h3",{style:{fontSize:"1.2rem",margin:"0 0 0.5rem"},children:"Schedule Future Task"}),e.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",margin:0},children:"Plan ahead to reduce uncertainty."})]})]}),T&&e.jsxs("div",{style:{animation:"fadeIn 0.3s ease-in-out"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Add a New Task"}),e.jsxs("form",{onSubmit:J,className:"card",style:{marginBottom:"3rem",borderLeft:"4px solid var(--color-primary)"},children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"Task Name"}),e.jsx("input",{required:!0,value:P.title,onChange:m=>g({...P,title:m.target.value}),placeholder:"e.g. Study Math",autoFocus:!0})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"Small First Step (Crucial!)"}),e.jsx("input",{required:!0,value:P.smallStep,onChange:m=>g({...P,smallStep:m.target.value}),placeholder:"e.g. Open the textbook to page 50"}),e.jsx("small",{style:{color:"var(--color-text-secondary)"},children:"Just write what you will do in the first 2 minutes."})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{children:"Best for Mood (Optional)"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:z.map(m=>e.jsx("button",{type:"button",onClick:()=>te(m.id),style:{padding:"0.5rem 1rem",borderRadius:"var(--radius-full)",border:"1px solid var(--color-primary)",background:P.moods.includes(m.id)?"var(--color-primary)":"transparent",color:P.moods.includes(m.id)?"white":"var(--color-primary)",fontSize:"0.85rem"},children:m.label},m.id))})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-secondary",style:{flex:1},children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Save Task"})]})]})]}),y&&e.jsxs("div",{style:{animation:"fadeIn 0.3s ease-in-out"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"New Future Plan"}),e.jsxs("form",{onSubmit:U,className:"card",style:{marginBottom:"3rem",borderLeft:"4px solid #0284c7"},children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"Task Name"}),e.jsx("input",{required:!0,value:E.name,onChange:m=>R({...E,name:m.target.value}),autoFocus:!0})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"Work to Complete"}),e.jsx("input",{value:E.workToComplete,onChange:m=>R({...E,workToComplete:m.target.value}),placeholder:"e.g. Read Chapters 1-3"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{children:"Start Date"}),e.jsx("input",{type:"date",required:!0,value:E.startDate,onChange:m=>R({...E,startDate:m.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",required:!0,value:E.dueDate,onChange:m=>R({...E,dueDate:m.target.value})})]})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"btn-secondary",style:{flex:1},children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Save Plan"})]})]})]}),h&&e.jsxs("div",{style:{animation:"fadeIn 0.3s ease-in-out"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Log Unplanned Work"}),e.jsxs("form",{onSubmit:Q,className:"card",style:{marginBottom:"3rem",borderLeft:"4px solid #8b5cf6"},children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"What did you do?"}),e.jsx("input",{required:!0,value:S,onChange:m=>j(m.target.value),placeholder:"e.g. Helper a friend",autoFocus:!0})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{children:"Time Taken (minutes)"}),e.jsx(xe,{value:k,onChange:F})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Upload Proof (Optional)"}),e.jsx("input",{type:"file",accept:"image/*",ref:_,onChange:Z,style:{display:"none"}}),e.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:I,onChange:Z,style:{display:"none"}}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{onClick:()=>{var m;return(m=_.current)==null?void 0:m.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1rem",textAlign:"center",cursor:"pointer",background:O?"#f0fdf4":"transparent"},children:[e.jsx(Te,{size:24,style:{marginBottom:"0.5rem"}}),e.jsx("div",{children:"Upload"})]}),e.jsxs("div",{onClick:()=>{var m;return(m=I.current)==null?void 0:m.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1rem",textAlign:"center",cursor:"pointer",background:O?"#f0fdf4":"transparent"},children:[e.jsx(we,{size:24,style:{marginBottom:"0.5rem"}}),e.jsx("div",{children:"Camera"})]})]}),O&&e.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--color-success)",textAlign:"center"},children:"Proof Attached!"})]}),e.jsx(ye,{value:W,onChange:w}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx("button",{type:"button",onClick:()=>A(!1),className:"btn-secondary",style:{flex:1},children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1,opacity:k?1:.5,cursor:k?"pointer":"not-allowed"},disabled:!k,children:"Save Work"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[e.jsx(st,{size:20,className:"text-secondary"}),e.jsx("h3",{style:{margin:0,color:"var(--color-text-secondary)"},children:"Your Plans"}),e.jsx("div",{style:{flex:1}}),e.jsx("button",{onClick:()=>{A(!h),u(!1),v(!1)},style:{background:"var(--color-bg-secondary)",border:"none",padding:"0.5rem 1rem",borderRadius:"var(--radius-full)",color:"var(--color-primary)",fontSize:"0.85rem",fontWeight:"500",cursor:"pointer"},children:"+ Log Other Task"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.length>0&&t.some(m=>!m.completed)&&e.jsx("h4",{style:{margin:"1rem 0 0.5rem",color:"var(--color-primary)",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.25rem"},children:"Daily Commitments"}),t.filter(m=>!m.completed).map(m=>e.jsxs("div",{className:"card",style:{borderLeft:"4px solid var(--color-warning)"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[e.jsx("h3",{style:{margin:0},children:m.title}),e.jsx("span",{style:{fontSize:"0.75rem",background:"#fef3c7",color:"#d97706",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:"Now"})]}),e.jsx("p",{style:{margin:"0 0 0.5rem",color:"var(--color-text-primary)"},children:m.smallStep})]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-secondary)"},children:m.time&&`Duration: ${m.time}m`}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",padding:"0.5rem"},onClick:()=>ie(m.id),children:e.jsx(ne,{size:16})}),e.jsx("button",{className:"btn-primary",style:{background:"var(--color-success)",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>n(`/complete/${m.id}`),children:"Task Done"})]})]})]},m.id)),r.length>0&&e.jsx("h4",{style:{margin:"1.5rem 0 0.5rem",color:"#0284c7",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.25rem"},children:"Future Schedule"}),r.map(m=>{const C=new Date().setHours(0,0,0,0),f=new Date(m.startDate).setHours(0,0,0,0),B=new Date(m.dueDate).setHours(0,0,0,0),X=C>=f&&C<=B;return B<C||m.completed?null:e.jsxs("div",{className:"card",style:{borderLeft:"4px solid var(--color-primary)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 0.25rem"},children:m.name}),e.jsx("p",{style:{margin:"0 0 0.5rem",color:"var(--color-text-primary)"},children:m.workToComplete})]}),X&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",fontSize:"0.8rem",fontWeight:"bold",background:"var(--color-bg-accent)",padding:"0.25rem 0.5rem",borderRadius:"var(--radius-md)"},children:[e.jsx(he,{size:14}),"Active Today"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem"},children:[e.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.85rem",color:"var(--color-text-secondary)"},children:[e.jsxs("span",{children:["Start: ",m.startDate]}),e.jsxs("span",{children:["Due: ",m.dueDate]})]}),e.jsx("button",{className:"btn-primary",style:{background:"var(--color-success)",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>n(`/complete/${m.id}`),children:"Task Done"}),e.jsx("button",{style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",padding:"0.5rem"},onClick:()=>q(m.id),title:"Cancel Plan",children:e.jsx(ne,{size:16})}),e.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>a(m),children:"Done some work"})]}),(i==null?void 0:i.id)===m.id&&e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"var(--color-bg-secondary)",borderRadius:"var(--radius-md)"},children:[e.jsx("h4",{style:{margin:"0 0 0.5rem"},children:"Log Work (Not Done Yet)"}),e.jsxs("form",{onSubmit:L,style:{display:"flex",gap:"0.5rem"},children:[e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Mins",value:l,onChange:fe=>{const Y=fe.target.value;(Y===""||/^\d+$/.test(Y)&&parseInt(Y,10)<=600)&&p(Y)},style:{width:"80px",padding:"0.25rem"},autoFocus:!0}),e.jsxs("button",{type:"submit",className:"btn-primary",style:{padding:"0.25rem 0.75rem",fontSize:"0.85rem"},children:[e.jsx(nt,{size:14})," Save"]}),e.jsx("button",{type:"button",onClick:()=>{a(null),p("")},style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--color-text-secondary)"},children:e.jsx(De,{size:18})})]})]})]},m.id)}),t.length===0&&r.length===0&&e.jsx("p",{style:{textAlign:"center",padding:"2rem",background:"var(--color-bg-secondary)",borderRadius:"var(--radius-md)"},children:"No plans yet. Clear mind, clear path."})]})]})]})})},Wt=()=>{const n=G(),[r,s]=d.useState(0),[t,o]=d.useState(0),[i,a]=d.useState(""),[l,p]=d.useState([]),[y,v]=d.useState([]),[T,u]=d.useState([]),[h,A]=d.useState(!1),[S,j]=d.useState(0),[k,F]=d.useState(0),[O,b]=d.useState(0),[_,I]=d.useState(0);d.useEffect(()=>{const w=new Date().setHours(0,0,0,0),R=x(c.DISTRACTION_LOGS,[]).filter(f=>new Date(f.date).setHours(0,0,0,0)===w);p(R);const P=R.reduce((f,B)=>f+parseInt(B.duration||0),0);F(P);const g=x(c.TASKS,[]),z=x(c.SCHEDULED_TASKS,[]),L=g.filter(f=>!f.completed||!f.completedAt?!1:new Date(f.completedAt).setHours(0,0,0,0)===w),U=z.filter(f=>!f.completed||!f.completedAt?!1:new Date(f.completedAt).setHours(0,0,0,0)===w),J=[...L,...U];v(J);const q=x(c.WORK_LOGS,[]).filter(f=>new Date(f.date).setHours(0,0,0,0)===w);u(q);const te=J.reduce((f,B)=>f+(parseInt(B.timeTaken)||0),0),Z=q.reduce((f,B)=>f+parseInt(B.duration||0),0),Q=te+Z;j(Q);const m=J.length;b(m),I(m*10+q.length*2);const C=Q+P;if(C>0){const f=Math.round(P/C*100);s(f),o(100-f)}else o(0),s(0)},[]);const W=w=>{w.preventDefault();const E=x(c.REFLECTIONS,[]),R={id:Date.now(),date:new Date().toISOString(),procrastinationScore:r,workScore:t,tomorrowGoal:i,distractionCount:l.length,distractionTime:k,tasksDoneCount:O,taskTime:S,pointsScored:_};N(c.REFLECTIONS,[R,...E]),ee("diary_entry",{procrastination_score:r,work_score:t,tomorrow_goal:i,total_distraction_time:k,total_work_time:S}),A(!0)};return h?e.jsx(M,{children:e.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"3rem"},children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"ðŸŒ™"}),e.jsx("h2",{children:"Reflection Saved"}),e.jsx("p",{children:"Rest well. Tomorrow is a fresh start."}),e.jsx("button",{className:"btn-primary",onClick:()=>n("/"),style:{marginTop:"2rem"},children:"Back Home"}),e.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-lg)",textAlign:"left"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",marginTop:0},children:"Target for Tomorrow:"}),e.jsx("p",{style:{fontSize:"1.2rem",color:"var(--color-primary)",fontWeight:600},children:i})]})]})}):e.jsx(M,{children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[e.jsxs("button",{onClick:()=>n("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginRight:"1rem"},children:[e.jsx(V,{size:18})," Back"]}),e.jsx("h2",{style:{margin:0},children:"Today's Reflection"})]}),e.jsxs("form",{onSubmit:W,className:"card",children:[e.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"#f0fdf4",borderRadius:"var(--radius-md)",border:"1px solid #bbf7d0",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"0.9rem",color:"#166534",marginBottom:"0.25rem"},children:"Overall Focus Score"}),e.jsxs("div",{style:{fontSize:"3rem",fontWeight:"bold",color:"#15803d"},children:[t,"%"]})]}),e.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#fef2f2",borderRadius:"var(--radius-md)",border:"1px solid #fecaca",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{color:"#991b1b",fontWeight:"500"},children:"Procrastination Level"}),e.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ef4444"},children:[r,"%"]})]}),e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Time Breakdown"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center",background:"var(--color-bg-secondary)"},children:[e.jsx(ke,{size:24,style:{color:"var(--color-success)",marginBottom:"0.5rem"}}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[S,"m"]}),e.jsx("div",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:"Work Time"})]}),e.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center",background:"var(--color-bg-secondary)"},children:[e.jsx(ot,{size:24,style:{color:"var(--color-warning)",marginBottom:"0.5rem"}}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[k,"m"]}),e.jsx("div",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:"Distracted"})]})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Today's Activity Log"}),e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Today's Activity Log"}),y.length===0&&l.length===0&&T.length===0?e.jsx("p",{style:{color:"var(--color-text-secondary)",fontStyle:"italic"},children:"No activity recorded yet."}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[y.map((w,E)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"var(--radius-sm)",borderLeft:"4px solid var(--color-success)"},children:[e.jsxs("span",{children:[w.title||w.name," ",e.jsx("strong",{style:{color:"var(--color-success)"},children:"(Done)"})]}),e.jsxs("strong",{children:[w.timeTaken||0,"m"]})]},`task-${E}`)),T.map((w,E)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"var(--radius-sm)",borderLeft:"4px solid #3b82f6"},children:[e.jsxs("span",{children:[w.taskTitle," ",e.jsx("small",{children:"(Work Log)"})]}),e.jsxs("strong",{children:[w.duration,"m"]})]},`log-${E}`)),l.map((w,E)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"var(--radius-sm)",borderLeft:"4px solid var(--color-danger)"},children:[e.jsxs("span",{children:[w.app," ",e.jsxs("small",{children:["(",w.reasons.join(", "),")"]})]}),e.jsxs("strong",{children:[w.duration,"m"]})]},`dist-${E}`))]})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx(it,{size:18})," Goal for Tomorrow"]}),e.jsx("input",{required:!0,value:i,onChange:w=>a(w.target.value),placeholder:"e.g. Finish the Math Chapter without phone",style:{width:"100%",padding:"0.75rem",borderRadius:"var(--radius-md)",border:"1px solid #cbd5e1"}})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"1rem"},children:"Save & Close Day"})]})]})})},Pt=()=>{const n=G(),[r,s]=d.useState("initial"),[t,o]=d.useState([]),[i,a]=d.useState(""),[l,p]=d.useState(""),[y,v]=d.useState([]),[T,u]=d.useState(null),[h,A]=d.useState(null),[S,j]=d.useState([]),[k,F]=d.useState(""),[O,b]=d.useState("morning");d.useEffect(()=>{const g=new Date().getHours();g>=5&&g<12?b("morning"):g>=12&&g<17?b("afternoon"):g>=17&&g<21?b("evening"):b("night")},[]),d.useEffect(()=>{const g=x("sp_distraction_types",[]);o(g)},[]);const _=()=>{if(!i)return;let g;T?g=t.map(z=>z.id===T?{...z,name:i,reasons:y.length>0?y:["General"]}:z):g=[...t,{id:Date.now(),name:i,reasons:y.length>0?y:["General"]}],N("sp_distraction_types",g),o(g),a(""),v([]),p(""),u(null),s("initial")},I=g=>{a(g.name),v(g.reasons),u(g.id)},W=g=>{if(window.confirm("Delete this distraction type?")){const z=t.filter(L=>L.id!==g);o(z),N("sp_distraction_types",z),T===g&&(u(null),a(""),v([]))}},w=()=>{l&&(v([...y,l]),p(""))},E=g=>{g.preventDefault();const z=x(c.DISTRACTION_LOGS,[]),L={id:Date.now(),app:h.name,reasons:S,duration:k,date:new Date().toISOString()};N(c.DISTRACTION_LOGS,[L,...z]),ee("distraction_log",{app:h.name,reasons:S,duration:parseInt(k)||0,overrideTimeOfDay:O}),s("success")},R=g=>{S.includes(g)?j(S.filter(z=>z!==g)):j([...S,g])},P=()=>{A(null),j([]),F("")};return r==="calm"?e.jsx(M,{children:e.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"4rem"},children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"ðŸŒ¿"}),e.jsx("h2",{children:"Great Job!"}),e.jsx("p",{children:"Focusing on your improvement is the best gift you can give yourself."}),e.jsx("button",{className:"btn-primary",onClick:()=>s("initial"),style:{marginTop:"2rem"},children:"Back"})]})}):r==="success"?e.jsx(M,{children:e.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"4rem"},children:[e.jsx("h2",{children:"Logged."}),e.jsx("p",{children:"Awareness is the first step. Use this data tomorrow."}),e.jsx("button",{className:"btn-primary",onClick:()=>{s("initial"),P()},style:{marginTop:"2rem"},children:"Done"})]})}):r==="config"?e.jsx(M,{children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h2",{children:T?"Edit Distraction":"Add Distraction"}),e.jsx("button",{onClick:()=>s("initial"),style:{background:"none",border:"none",cursor:"pointer"},children:e.jsx(De,{})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"Distraction Name"}),e.jsx("input",{value:i,onChange:g=>a(g.target.value),placeholder:"e.g. YouTube Shorts"})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"Possible Reasons"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("input",{value:l,onChange:g=>p(g.target.value),placeholder:"e.g. Boredom"}),e.jsx("button",{type:"button",onClick:w,className:"btn-primary",style:{padding:"0.5rem"},children:e.jsx(ce,{size:16})})]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:y.map((g,z)=>e.jsx("span",{style:{background:"#f1f5f9",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.85rem"},children:g},z))})]}),e.jsx("button",{className:"btn-primary",onClick:_,style:{width:"100%"},children:T?"Update Distraction":"Save Distraction"})]}),e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsx("h3",{children:"Manage Distractions"}),e.jsxs("div",{style:{display:"grid",gap:"0.5rem"},children:[t.map(g=>e.jsxs("div",{style:{padding:"1rem",background:"var(--color-bg-secondary)",borderRadius:"var(--radius-md)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:"500"},children:g.name}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{onClick:()=>I(g),style:{background:"none",border:"none",cursor:"pointer",color:"var(--color-primary)"},children:e.jsx(at,{size:18})}),e.jsx("button",{onClick:()=>W(g.id),style:{background:"none",border:"none",cursor:"pointer",color:"#ef4444"},children:e.jsx(ne,{size:18})})]})]},g.id)),t.length===0&&e.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"No distractions added yet."})]})]})]})}):r==="logging"?e.jsx(M,{children:e.jsxs("div",{className:"container",children:[e.jsxs("button",{onClick:()=>{s("initial"),P()},style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginBottom:"1rem"},children:[e.jsx(V,{size:18})," Back"]}),e.jsx("h2",{children:"Log Distraction"}),h?e.jsxs("form",{onSubmit:E,className:"card",children:[e.jsx("h3",{style:{marginTop:0},children:h.name}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{children:"Why did you check it? (Select all that apply)"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:h.reasons.map((g,z)=>e.jsx("button",{type:"button",onClick:()=>R(g),style:{padding:"0.5rem 1rem",borderRadius:"2rem",border:"1px solid var(--color-primary)",background:S.includes(g)?"var(--color-primary)":"white",color:S.includes(g)?"white":"var(--color-primary)",cursor:"pointer"},children:g},z))})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{children:"Time Spent (Minutes)"}),e.jsx(xe,{value:k,onChange:F})]}),e.jsx(ye,{value:O,onChange:b}),e.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%",opacity:k?1:.5,cursor:k?"pointer":"not-allowed"},disabled:!k,children:"Save Log"})]}):e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsx("p",{children:"Which app did you use?"}),t.map(g=>e.jsx("button",{className:"card",onClick:()=>A(g),style:{textAlign:"left",cursor:"pointer",borderColor:"var(--color-primary)"},children:e.jsx("strong",{children:g.name})},g.id)),t.length===0&&e.jsx("p",{children:"No distractions configured. Go back and add some!"})]})]})}):e.jsx(M,{children:e.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"2rem"},children:[e.jsx("div",{style:{position:"absolute",left:"1rem",top:"5rem"},children:e.jsxs("button",{onClick:()=>n("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500"},children:[e.jsx(V,{size:18})," Back"]})}),e.jsx(be,{size:64,style:{color:"var(--color-text-accent)",marginBottom:"1rem"}}),e.jsx("h2",{style:{fontSize:"2rem",marginBottom:"2rem"},children:"Distracted?"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsx("button",{className:"btn-primary",style:{padding:"1.5rem",fontSize:"1.25rem",background:"#ef4444"},onClick:()=>{P(),s("logging")},children:"Yes, I gave in."}),e.jsx("button",{className:"btn-primary",style:{padding:"1rem",fontSize:"1.1rem",background:"#10b981"},onClick:()=>s("calm"),children:"No, I'm focused."})]}),e.jsx("div",{style:{marginTop:"2rem"},children:e.jsxs("button",{onClick:()=>s("config"),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",background:"transparent",border:"1px dashed var(--color-text-secondary)",color:"var(--color-text-secondary)",cursor:"pointer",padding:"0.75rem 1.5rem",borderRadius:"var(--radius-full)",fontSize:"0.9rem",transition:"all 0.2s"},children:[e.jsx(ce,{size:16})," Add Distraction"]})})]})})},We=(n,r="")=>Object.keys(n).reduce((s,t)=>{const o=r.length?r+".":"";return typeof n[t]=="object"&&n[t]!==null&&!Array.isArray(n[t])?Object.assign(s,We(n[t],o+t)):Array.isArray(n[t])?s[o+t]=n[t].join(";"):s[o+t]=n[t],s},{}),Pe=n=>{if(!n||n.length===0)return"";const r=n.map(o=>We(o)),s=Array.from(new Set(r.flatMap(Object.keys)));return s.sort((o,i)=>o==="timestamp"?-1:i==="timestamp"?1:o==="event_type"?-1:i==="event_type"?1:o.localeCompare(i)),[s.join(","),...r.map(o=>s.map(i=>{let a=o[i]||"";const l=String(a);return l.includes(",")||l.includes('"')||l.includes(`
`)?`"${l.replace(/"/g,'""')}"`:l}).join(","))].join(`
`)},Ue=(n,r="stop-procrastinating-data.csv")=>{const s=new Blob([n],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");if(t.download!==void 0){const o=URL.createObjectURL(s);t.setAttribute("href",o),t.setAttribute("download",r),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},je=({data:n,dataKeys:r,colors:s,height:t=200,width:o="100%"})=>{if(!n||n.length===0)return e.jsx("div",{style:{height:t,display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",background:"#f8fafc",borderRadius:"8px"},children:"No Data Available"});const i=500,a=200,l=30,p=i-2*l,y=a-2*l,v=n.flatMap(j=>r.map(k=>Number(j[k]||0))),T=Math.max(...v,0),u=T>0?T*1.1:10,h=p/n.length,A=h*.2,S=(h-A)/r.length;return e.jsxs("div",{style:{width:o,overflow:"hidden"},children:[e.jsxs("svg",{viewBox:`0 0 ${i} ${a}`,style:{width:"100%",height:"auto",background:"#fff",borderRadius:"8px",border:"1px solid #f1f5f9"},children:[[0,.25,.5,.75,1].map(j=>e.jsx("line",{x1:l,y1:l+j*y,x2:i-l,y2:l+j*y,stroke:"#e2e8f0",strokeWidth:"1"},j)),n.map((j,k)=>{const F=l+k*h+A/2;return e.jsxs("g",{children:[r.map((O,b)=>{const I=Number(j[O]||0)/u*y,W=F+b*S,w=l+y-I;return e.jsx("rect",{x:W,y:w,width:S*.9,height:I,fill:s[b],rx:"2"},O)}),e.jsxs("text",{x:F+(h-A)/2,y:a-10,textAnchor:"middle",fontSize:"10",fill:"#64748b",children:[new Date(j.date).getDate(),"/",new Date(j.date).getMonth()+1]})]},k)}),[0,.5,1].map(j=>e.jsx("text",{x:l-5,y:l+(1-j)*y+3,textAnchor:"end",fontSize:"9",fill:"#94a3b8",children:Math.round(j*u)},j))]}),e.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"0.5rem"},children:r.map((j,k)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.8rem",color:"#64748b"},children:[e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"2px",background:s[k]}}),j==="taskTime"?"Work Time":j==="distractionTime"?"Distracted":j==="pointsScored"?"Points":j]},j))})]})},Ut=({data:n,dataKeys:r,colors:s,height:t=200,width:o="100%"})=>{if(!n||n.length===0)return e.jsx("div",{style:{height:t,display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",background:"#f8fafc",borderRadius:"8px"},children:"No Data Available"});const i=500,a=200,l=20,p=Math.max(...n.map(u=>Math.max(...r.map(h=>Number(u[h]||0))))),y=p>0?p*1.1:10,v=u=>l+u/(n.length-1||1)*(i-2*l),T=u=>a-l-u/y*(a-2*l);return e.jsxs("div",{style:{width:o,overflow:"hidden"},children:[e.jsxs("svg",{viewBox:`0 0 ${i} ${a}`,style:{width:"100%",height:"auto",background:"#fff",borderRadius:"8px",border:"1px solid #f1f5f9"},children:[[0,.25,.5,.75,1].map(u=>e.jsx("line",{x1:l,y1:l+u*(a-2*l),x2:i-l,y2:l+u*(a-2*l),stroke:"#e2e8f0",strokeWidth:"1"},u)),r.map((u,h)=>{const A=n.map((S,j)=>`${v(j)},${T(Number(S[u]||0))}`).join(" ");return e.jsxs("g",{children:[e.jsx("polyline",{fill:"none",stroke:s[h],strokeWidth:"3",points:A,strokeLinecap:"round",strokeLinejoin:"round"}),n.map((S,j)=>e.jsx("circle",{cx:v(j),cy:T(Number(S[u]||0)),r:"3",fill:"#fff",stroke:s[h],strokeWidth:"2"},j))]},u)}),n.map((u,h)=>e.jsxs("text",{x:v(h),y:a-5,textAnchor:"middle",fontSize:"10",fill:"#64748b",children:[new Date(u.date).getDate(),"/",new Date(u.date).getMonth()+1]},h))]}),e.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"0.5rem"},children:r.map((u,h)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.8rem",color:"#64748b"},children:[e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:s[h]}}),u==="workScore"?"Work":u==="procrastinationScore"?"Procrastination":u==="pointsScored"?"Points":u==="distractionTime"?"Time Lost (m)":u]},u))})]})},Mt=()=>{const n=G(),[r,s]=d.useState([]),[t,o]=d.useState(null);d.useEffect(()=>{const a=x(c.REFLECTIONS,[]),l={};a.forEach(u=>{const h=new Date(u.date).toDateString();(!l[h]||new Date(u.date)>new Date(l[h].date))&&(l[h]=u)});const y=(()=>{const u=new Date().toDateString(),h=x(c.TASKS,[]),A=x(c.SCHEDULED_TASKS,[]),S=x(c.WORK_LOGS,[]),j=x(c.DISTRACTION_LOGS,[]),k=[...h,...A].filter(L=>L.completed&&L.completedAt&&new Date(L.completedAt).toDateString()===u),F=S.filter(L=>new Date(L.date).toDateString()===u),O=j.filter(L=>new Date(L.date).toDateString()===u),b=k.reduce((L,U)=>L+(parseInt(U.timeTaken)||0),0),_=F.reduce((L,U)=>L+(parseInt(U.duration)||0),0),I=b+_,W=O.reduce((L,U)=>L+(parseInt(U.duration)||0),0),w=k.reduce((L,U)=>U.pointsEarned!==void 0?L+U.pointsEarned:L+10+(parseInt(U.timeTaken)||0),0),E=F.reduce((L,U)=>L+(parseInt(U.duration)||0),0),R=w+E;let P=0,g=0;const z=I+W;return z>0&&(g=Math.round(W/z*100),P=100-g),{date:new Date().toISOString(),workScore:P,procrastinationScore:g,taskTime:I,distractionTime:W,pointsScored:R,isLive:!0}})();if(y.taskTime>0||y.distractionTime>0||y.pointsScored>0){const u=new Date().toDateString();l[u]=y}const v=Object.values(l).sort((u,h)=>new Date(u.date)-new Date(h.date));s(v);const T=_e();o(T)},[]);const i=()=>{const a=x(c.EVENT_LOG,[]);if(!a||a.length===0){alert("No detailed event data found yet. Start using the app to generate logs!");return}const l=Pe(a);Ue(l,`stop_procrastinating_events_${new Date().toISOString().split("T")[0]}.csv`)};return e.jsx(M,{children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[e.jsxs("button",{onClick:()=>n("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginRight:"1rem"},children:[e.jsx(V,{size:18})," Back"]}),e.jsx("h2",{style:{flex:1,textAlign:"center",margin:0},children:"Progress Analysis"}),e.jsx("button",{onClick:i,style:{background:"transparent",border:"1px solid var(--color-primary)",color:"var(--color-primary)",padding:"0.5rem",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Export Detailed Event Logs (CSV)",children:e.jsx(de,{size:20})})]}),e.jsxs("div",{style:{display:"grid",gap:"2rem"},children:[t&&e.jsxs("div",{className:"card",style:{background:t.type==="warning"?"#fef2f2":"#f0f9ff",border:t.type==="warning"?"1px solid #fecaca":"1px solid #bae6fd"},children:[e.jsxs("h3",{style:{marginBottom:"0.5rem",color:t.type==="warning"?"#b91c1c":"#0369a1",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(ae,{size:20})," Smart Insight"]}),e.jsx("p",{style:{color:t.type==="warning"?"#991b1b":"#0284c7",fontSize:"1.1rem"},children:t.text.replace(/\*\*/g,"")}),t.type==="neutral"&&e.jsx("p",{style:{fontSize:"0.85rem",marginTop:"0.5rem",color:"var(--color-text-secondary)"},children:"(The more you use the app, the smarter these tips become!)"})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-text-primary)"},children:"Work vs Procrastination (%)"}),e.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",marginBottom:"1rem"},children:["Aim to keep the ",e.jsx("span",{style:{color:"#22c55e",fontWeight:"bold"},children:"Green"})," line above the ",e.jsx("span",{style:{color:"#ef4444",fontWeight:"bold"},children:"Red"})," line."]}),e.jsx(Ut,{data:r,dataKeys:["workScore","procrastinationScore"],colors:["#22c55e","#ef4444"]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-text-primary)"},children:"Time: Work vs Distracted (Minutes)"}),e.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",marginBottom:"1rem"},children:"Daily comparison of productive time vs lost time."}),e.jsx(je,{data:r,dataKeys:["taskTime","distractionTime"],colors:["#22c55e","#f97316"]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-text-primary)"},children:"Focus Points Earned"}),e.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",marginBottom:"1rem"},children:"Your daily rewards for completing tasks and building habits."}),e.jsx(je,{data:r,dataKeys:["pointsScored"],colors:["#a855f7"]})]})]})]})})},Ft=()=>{const n=G(),[r,s]=d.useState(!1),[t,o]=d.useState(null),i=async()=>{s(!0),o(null);try{const l=(await bt($,wt)).user,p=le(oe,"users",l.uid);if((await Ae(p)).exists())ze(),await Le(l);else{const v={email:l.email,displayName:l.displayName,createdAt:new Date().toISOString(),tasks:JSON.stringify(x(c.TASKS,[])),scheduled:JSON.stringify(x(c.SCHEDULED_TASKS,[])),reflections:JSON.stringify(x(c.REFLECTIONS,[])),stats:JSON.stringify(x(c.USER_STATS,{})),mood:x(c.USER_MOOD,null)};await Ie(p,v),console.log("Local data backed up to cloud!")}n("/")}catch(a){console.error("Login Result Error:",a),o(`Failed to sign in: ${a.message}`)}finally{s(!1)}};return e.jsx(M,{children:e.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"4rem"},children:e.jsxs("div",{className:"card",style:{maxWidth:"400px",margin:"0 auto"},children:[e.jsx("h2",{style:{marginBottom:"1rem"},children:"Backup Your Progress"}),e.jsx("p",{style:{color:"var(--color-text-secondary)",marginBottom:"2rem"},children:"Sign in to save your tasks, streaks, and reflections to the cloud. Access them from any device."}),t&&e.jsx("div",{style:{color:"var(--color-danger)",marginBottom:"1rem",fontSize:"0.9rem"},children:t}),e.jsxs("button",{onClick:i,disabled:r,className:"btn-primary",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.75rem",padding:"0.75rem"},children:[r?e.jsx(lt,{className:"spin",size:20}):e.jsx(Se,{size:20}),r?"Signing In...":"Sign in with Google"]})]})})})},Ht=()=>{const[n,r]=d.useState("idle");return d.useEffect(()=>{let s;const t=()=>{r("syncing"),clearTimeout(s)},o=()=>{r("success"),s=setTimeout(()=>{r("idle")},3e3)},i=()=>{r("error")};return window.addEventListener("sp-sync-start",t),window.addEventListener("sp-sync-success",o),window.addEventListener("sp-sync-error",i),()=>{window.removeEventListener("sp-sync-start",t),window.removeEventListener("sp-sync-success",o),window.removeEventListener("sp-sync-error",i),clearTimeout(s)}},[]),e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0.75rem",borderRadius:"2rem",fontSize:"0.85rem",fontWeight:"500",transition:"all 0.3s ease",...Kt(n)},children:[Gt(n),e.jsx("span",{children:$t(n)})]})},Kt=n=>{switch(n){case"syncing":return{background:"#ebf8ff",color:"#0369a1"};case"success":return{background:"#f0fdf4",color:"#166534"};case"error":return{background:"#fef2f2",color:"#991b1b"};default:return{}}},Gt=n=>{switch(n){case"syncing":return e.jsx(Ce,{size:14,className:"spin"});case"success":return e.jsx(dt,{size:14});case"error":return e.jsx(he,{size:14});default:return e.jsx(ct,{size:14})}},$t=n=>{switch(n){case"syncing":return"Syncing...";case"success":return"Saved";case"error":return"Sync Failed";default:return"Sync Ready"}},Yt=()=>{const n=G(),{theme:r,toggleTheme:s}=Oe(),t=$.currentUser,[o,i]=d.useState(0),a=()=>{const v=x(c.EVENT_LOG,[]);if(!v||v.length===0){alert("No data to export yet.");return}const T=Pe(v);Ue(T,`stop_procrastinating_backup_${new Date().toISOString().split("T")[0]}.csv`)},l=()=>{window.confirm("ARE YOU SURE? This will delete ALL your logs, streaks, and local data. This action cannot be undone.")&&(ze(),window.location.reload())},p=()=>{kt($).then(()=>{n("/"),window.location.reload()})},y=async()=>{await Dt()};return e.jsx(M,{children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[e.jsxs("button",{onClick:()=>n(-1),className:"btn-secondary",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginRight:"1rem"},children:[e.jsx(V,{size:18})," Back"]}),e.jsx("h2",{style:{margin:0},children:"Settings"}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsx(Ht,{})})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[e.jsxs("div",{className:"card",children:[e.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[r==="light"?e.jsx(pe,{size:20}):e.jsx(ue,{size:20})," Appearance"]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"App Theme"}),e.jsx("button",{onClick:s,className:"btn-secondary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:r==="light"?"Switch to Dark Mode":"Switch to Light Mode"})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(de,{size:20})," Data Management"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsxs("button",{onClick:y,className:"btn-secondary",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%"},children:[e.jsx(Ce,{size:18})," Sync Now"]}),e.jsxs("button",{onClick:a,className:"btn-secondary",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%"},children:[e.jsx(de,{size:18})," Export Data (CSV)"]}),e.jsx("div",{style:{borderTop:"1px solid var(--border-color)",margin:"0.5rem 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("strong",{style:{color:"var(--color-danger)"},children:"Danger Zone"}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--color-text-secondary)",margin:0},children:"Irreversible data loss."})]}),e.jsxs("button",{onClick:l,style:{background:"#fee2e2",color:"#b91c1c",border:"1px solid #fca5a5",padding:"0.5rem 1rem",borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",fontWeight:"500"},children:[e.jsx(ne,{size:16})," Clear All Data"]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(ve,{size:20})," Account"]}),t?e.jsxs("div",{style:{textAlign:"center"},children:[t.photoURL&&e.jsx("img",{src:t.photoURL,alt:"Profile",style:{width:"64px",height:"64px",borderRadius:"50%",marginBottom:"0.5rem"}}),e.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:t.displayName||"User"}),e.jsx("div",{style:{color:"var(--color-text-secondary)",marginBottom:"1.5rem"},children:t.email}),e.jsxs("button",{onClick:p,className:"btn-secondary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[e.jsx(mt,{size:18})," Sign Out"]})]}):e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("p",{children:"You are using a local guest account."}),e.jsx("button",{onClick:()=>n("/signin"),className:"btn-primary",style:{width:"100%"},children:"Sign In with Google"})]})]}),e.jsxs("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",fontSize:"0.9rem",marginTop:"1rem",cursor:"default"},onClick:()=>i(v=>v+1),children:[e.jsx("p",{children:"Stop Procrastinating v1.0.2"}),e.jsx("p",{children:"Build healthy habits, one day at a time."}),o>5&&e.jsx("p",{children:"ðŸ¦„ You found a unicorn!"})]})]})]})})};function Vt(){return d.useEffect(()=>{const n=$.onAuthStateChanged(r=>{r&&Le(r)});return()=>n()},[]),e.jsx(ut,{children:e.jsxs(pt,{children:[e.jsx(K,{path:"/",element:e.jsx(Et,{})}),e.jsx(K,{path:"/analysis",element:e.jsx(Mt,{})}),e.jsx(K,{path:"/settings",element:e.jsx(Yt,{})}),e.jsx(K,{path:"/signin",element:e.jsx(Ft,{})}),e.jsx(K,{path:"/mood",element:e.jsx(Rt,{})}),e.jsx(K,{path:"/tasks",element:e.jsx(zt,{})}),e.jsx(K,{path:"/add-task",element:e.jsx(Bt,{})}),e.jsx(K,{path:"/complete/:taskId",element:e.jsx(Ot,{})}),e.jsx(K,{path:"/schedule",element:e.jsx(_t,{})}),e.jsx(K,{path:"/reflect",element:e.jsx(Wt,{})}),e.jsx(K,{path:"/limit",element:e.jsx(Pt,{})})]})})}gt.createRoot(document.getElementById("root")).render(e.jsx(d.StrictMode,{children:e.jsx(Ct,{children:e.jsx(Vt,{})})}));
