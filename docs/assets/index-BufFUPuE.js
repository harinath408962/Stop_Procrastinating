(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var yd={exports:{}},Fa={},vd={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function I1(){if(Cg)return De;Cg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function x(b){return b===null||typeof b!="object"?null:(b=T&&b[T]||b["@@iterator"],typeof b=="function"?b:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,B={};function j(b,K,_e){this.props=b,this.context=K,this.refs=B,this.updater=_e||N}j.prototype.isReactComponent={},j.prototype.setState=function(b,K){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,K,"setState")},j.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function G(){}G.prototype=j.prototype;function X(b,K,_e){this.props=b,this.context=K,this.refs=B,this.updater=_e||N}var Y=X.prototype=new G;Y.constructor=X,W(Y,j.prototype),Y.isPureReactComponent=!0;var se=Array.isArray,pe=Object.prototype.hasOwnProperty,le={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(b,K,_e){var ae,Ie={},oe=null,Ce=null;if(K!=null)for(ae in K.ref!==void 0&&(Ce=K.ref),K.key!==void 0&&(oe=""+K.key),K)pe.call(K,ae)&&!A.hasOwnProperty(ae)&&(Ie[ae]=K[ae]);var je=arguments.length-2;if(je===1)Ie.children=_e;else if(1<je){for(var Ke=Array(je),Kt=0;Kt<je;Kt++)Ke[Kt]=arguments[Kt+2];Ie.children=Ke}if(b&&b.defaultProps)for(ae in je=b.defaultProps,je)Ie[ae]===void 0&&(Ie[ae]=je[ae]);return{$$typeof:r,type:b,key:oe,ref:Ce,props:Ie,_owner:le.current}}function k(b,K){return{$$typeof:r,type:b.type,key:K,ref:b.ref,props:b.props,_owner:b._owner}}function P(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function D(b){var K={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(_e){return K[_e]})}var M=/\/+/g;function R(b,K){return typeof b=="object"&&b!==null&&b.key!=null?D(""+b.key):K.toString(36)}function ze(b,K,_e,ae,Ie){var oe=typeof b;(oe==="undefined"||oe==="boolean")&&(b=null);var Ce=!1;if(b===null)Ce=!0;else switch(oe){case"string":case"number":Ce=!0;break;case"object":switch(b.$$typeof){case r:case e:Ce=!0}}if(Ce)return Ce=b,Ie=Ie(Ce),b=ae===""?"."+R(Ce,0):ae,se(Ie)?(_e="",b!=null&&(_e=b.replace(M,"$&/")+"/"),ze(Ie,K,_e,"",function(Kt){return Kt})):Ie!=null&&(P(Ie)&&(Ie=k(Ie,_e+(!Ie.key||Ce&&Ce.key===Ie.key?"":(""+Ie.key).replace(M,"$&/")+"/")+b)),K.push(Ie)),1;if(Ce=0,ae=ae===""?".":ae+":",se(b))for(var je=0;je<b.length;je++){oe=b[je];var Ke=ae+R(oe,je);Ce+=ze(oe,K,_e,Ke,Ie)}else if(Ke=x(b),typeof Ke=="function")for(b=Ke.call(b),je=0;!(oe=b.next()).done;)oe=oe.value,Ke=ae+R(oe,je++),Ce+=ze(oe,K,_e,Ke,Ie);else if(oe==="object")throw K=String(b),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ce}function tt(b,K,_e){if(b==null)return b;var ae=[],Ie=0;return ze(b,ae,"","",function(oe){return K.call(_e,oe,Ie++)}),ae}function nt(b){if(b._status===-1){var K=b._result;K=K(),K.then(function(_e){(b._status===0||b._status===-1)&&(b._status=1,b._result=_e)},function(_e){(b._status===0||b._status===-1)&&(b._status=2,b._result=_e)}),b._status===-1&&(b._status=0,b._result=K)}if(b._status===1)return b._result.default;throw b._result}var We={current:null},ne={transition:null},ye={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:ne,ReactCurrentOwner:le};function q(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:tt,forEach:function(b,K,_e){tt(b,function(){K.apply(this,arguments)},_e)},count:function(b){var K=0;return tt(b,function(){K++}),K},toArray:function(b){return tt(b,function(K){return K})||[]},only:function(b){if(!P(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},De.Component=j,De.Fragment=t,De.Profiler=o,De.PureComponent=X,De.StrictMode=i,De.Suspense=g,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,De.act=q,De.cloneElement=function(b,K,_e){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ae=W({},b.props),Ie=b.key,oe=b.ref,Ce=b._owner;if(K!=null){if(K.ref!==void 0&&(oe=K.ref,Ce=le.current),K.key!==void 0&&(Ie=""+K.key),b.type&&b.type.defaultProps)var je=b.type.defaultProps;for(Ke in K)pe.call(K,Ke)&&!A.hasOwnProperty(Ke)&&(ae[Ke]=K[Ke]===void 0&&je!==void 0?je[Ke]:K[Ke])}var Ke=arguments.length-2;if(Ke===1)ae.children=_e;else if(1<Ke){je=Array(Ke);for(var Kt=0;Kt<Ke;Kt++)je[Kt]=arguments[Kt+2];ae.children=je}return{$$typeof:r,type:b.type,key:Ie,ref:oe,props:ae,_owner:Ce}},De.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},De.createElement=S,De.createFactory=function(b){var K=S.bind(null,b);return K.type=b,K},De.createRef=function(){return{current:null}},De.forwardRef=function(b){return{$$typeof:f,render:b}},De.isValidElement=P,De.lazy=function(b){return{$$typeof:w,_payload:{_status:-1,_result:b},_init:nt}},De.memo=function(b,K){return{$$typeof:v,type:b,compare:K===void 0?null:K}},De.startTransition=function(b){var K=ne.transition;ne.transition={};try{b()}finally{ne.transition=K}},De.unstable_act=q,De.useCallback=function(b,K){return We.current.useCallback(b,K)},De.useContext=function(b){return We.current.useContext(b)},De.useDebugValue=function(){},De.useDeferredValue=function(b){return We.current.useDeferredValue(b)},De.useEffect=function(b,K){return We.current.useEffect(b,K)},De.useId=function(){return We.current.useId()},De.useImperativeHandle=function(b,K,_e){return We.current.useImperativeHandle(b,K,_e)},De.useInsertionEffect=function(b,K){return We.current.useInsertionEffect(b,K)},De.useLayoutEffect=function(b,K){return We.current.useLayoutEffect(b,K)},De.useMemo=function(b,K){return We.current.useMemo(b,K)},De.useReducer=function(b,K,_e){return We.current.useReducer(b,K,_e)},De.useRef=function(b){return We.current.useRef(b)},De.useState=function(b){return We.current.useState(b)},De.useSyncExternalStore=function(b,K,_e){return We.current.useSyncExternalStore(b,K,_e)},De.useTransition=function(){return We.current.useTransition()},De.version="18.3.1",De}var Rg;function pf(){return Rg||(Rg=1,vd.exports=I1()),vd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function x1(){if(Ag)return Fa;Ag=1;var r=pf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,g,v){var w,T={},x=null,N=null;v!==void 0&&(x=""+v),g.key!==void 0&&(x=""+g.key),g.ref!==void 0&&(N=g.ref);for(w in g)i.call(g,w)&&!l.hasOwnProperty(w)&&(T[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)T[w]===void 0&&(T[w]=g[w]);return{$$typeof:e,type:f,key:x,ref:N,props:T,_owner:o.current}}return Fa.Fragment=t,Fa.jsx=c,Fa.jsxs=c,Fa}var Pg;function k1(){return Pg||(Pg=1,yd.exports=x1()),yd.exports}var y=k1(),O=pf(),Mu={},_d={exports:{}},tn={},wd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function C1(){return Ng||(Ng=1,(function(r){function e(ne,ye){var q=ne.length;ne.push(ye);e:for(;0<q;){var b=q-1>>>1,K=ne[b];if(0<o(K,ye))ne[b]=ye,ne[q]=K,q=b;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var ye=ne[0],q=ne.pop();if(q!==ye){ne[0]=q;e:for(var b=0,K=ne.length,_e=K>>>1;b<_e;){var ae=2*(b+1)-1,Ie=ne[ae],oe=ae+1,Ce=ne[oe];if(0>o(Ie,q))oe<K&&0>o(Ce,Ie)?(ne[b]=Ce,ne[oe]=q,b=oe):(ne[b]=Ie,ne[ae]=q,b=ae);else if(oe<K&&0>o(Ce,q))ne[b]=Ce,ne[oe]=q,b=oe;else break e}}return ye}function o(ne,ye){var q=ne.sortIndex-ye.sortIndex;return q!==0?q:ne.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var g=[],v=[],w=1,T=null,x=3,N=!1,W=!1,B=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(ne){for(var ye=t(v);ye!==null;){if(ye.callback===null)i(v);else if(ye.startTime<=ne)i(v),ye.sortIndex=ye.expirationTime,e(g,ye);else break;ye=t(v)}}function se(ne){if(B=!1,Y(ne),!W)if(t(g)!==null)W=!0,nt(pe);else{var ye=t(v);ye!==null&&We(se,ye.startTime-ne)}}function pe(ne,ye){W=!1,B&&(B=!1,G(S),S=-1),N=!0;var q=x;try{for(Y(ye),T=t(g);T!==null&&(!(T.expirationTime>ye)||ne&&!D());){var b=T.callback;if(typeof b=="function"){T.callback=null,x=T.priorityLevel;var K=b(T.expirationTime<=ye);ye=r.unstable_now(),typeof K=="function"?T.callback=K:T===t(g)&&i(g),Y(ye)}else i(g);T=t(g)}if(T!==null)var _e=!0;else{var ae=t(v);ae!==null&&We(se,ae.startTime-ye),_e=!1}return _e}finally{T=null,x=q,N=!1}}var le=!1,A=null,S=-1,k=5,P=-1;function D(){return!(r.unstable_now()-P<k)}function M(){if(A!==null){var ne=r.unstable_now();P=ne;var ye=!0;try{ye=A(!0,ne)}finally{ye?R():(le=!1,A=null)}}else le=!1}var R;if(typeof X=="function")R=function(){X(M)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,tt=ze.port2;ze.port1.onmessage=M,R=function(){tt.postMessage(null)}}else R=function(){j(M,0)};function nt(ne){A=ne,le||(le=!0,R())}function We(ne,ye){S=j(function(){ne(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){W||N||(W=!0,nt(pe))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ne){switch(x){case 1:case 2:case 3:var ye=3;break;default:ye=x}var q=x;x=ye;try{return ne()}finally{x=q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,ye){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var q=x;x=ne;try{return ye()}finally{x=q}},r.unstable_scheduleCallback=function(ne,ye,q){var b=r.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?b+q:b):q=b,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=q+K,ne={id:w++,callback:ye,priorityLevel:ne,startTime:q,expirationTime:K,sortIndex:-1},q>b?(ne.sortIndex=q,e(v,ne),t(g)===null&&ne===t(v)&&(B?(G(S),S=-1):B=!0,We(se,q-b))):(ne.sortIndex=K,e(g,ne),W||N||(W=!0,nt(pe))),ne},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(ne){var ye=x;return function(){var q=x;x=ye;try{return ne.apply(this,arguments)}finally{x=q}}}})(Ed)),Ed}var Dg;function R1(){return Dg||(Dg=1,wd.exports=C1()),wd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function A1(){if(bg)return tn;bg=1;var r=pf(),e=R1();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function x(n){return g.call(T,n)?!0:g.call(w,n)?!1:v.test(n)?T[n]=!0:(w[n]=!0,!1)}function N(n,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function W(n,s,a,h){if(s===null||typeof s>"u"||N(n,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(n,s,a,h,d,p,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=p,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new B(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];j[s]=new B(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new B(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new B(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new B(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new B(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new B(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new B(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new B(n,5,!1,n.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function X(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(G,X);j[s]=new B(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(G,X);j[s]=new B(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(G,X);j[s]=new B(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new B(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new B(n,1,!1,n.toLowerCase(),null,!0,!0)});function Y(n,s,a,h){var d=j.hasOwnProperty(s)?j[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(W(s,a,d,h)&&(a=null),h||d===null?x(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?n.setAttributeNS(h,s,a):n.setAttribute(s,a))))}var se=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),le=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),We=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var q=Object.assign,b;function K(n){if(b===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+n}var _e=!1;function ae(n,s){if(!n||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(n,[],s)}else{try{s.call()}catch($){h=$}n.call(s.prototype)}else{try{throw Error()}catch($){h=$}n()}}catch($){if($&&h&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),p=h.stack.split(`
`),E=d.length-1,C=p.length-1;1<=E&&0<=C&&d[E]!==p[C];)C--;for(;1<=E&&0<=C;E--,C--)if(d[E]!==p[C]){if(E!==1||C!==1)do if(E--,C--,0>C||d[E]!==p[C]){var L=`
`+d[E].replace(" at new "," at ");return n.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",n.displayName)),L}while(1<=E&&0<=C);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?K(n):""}function Ie(n){switch(n.tag){case 5:return K(n.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return n=ae(n.type,!1),n;case 11:return n=ae(n.type.render,!1),n;case 1:return n=ae(n.type,!0),n;default:return""}}function oe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case le:return"Portal";case k:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case ze:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case P:return(n._context.displayName||"Context")+".Provider";case M:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case tt:return s=n.displayName||null,s!==null?s:oe(n.type)||"Memo";case nt:s=n._payload,n=n._init;try{return oe(n(s))}catch{}}return null}function Ce(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ke(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kt(n){var s=Ke(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){h=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function As(n){n._valueTracker||(n._valueTracker=Kt(n))}function Wo(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return n&&(h=Ke(n)?n.checked?"true":"false":n.value),n=h,n!==a?(s.setValue(n),!0):!1}function Wr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ps(n,s){var a=s.checked;return q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Sl(n,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=je(s.value!=null?s.value:a),n._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ns(n,s){s=s.checked,s!=null&&Y(n,"checked",s,!1)}function Bi(n,s){Ns(n,s);var a=je(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?pt(n,s.type,a):s.hasOwnProperty("defaultValue")&&pt(n,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function qo(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function pt(n,s,a){(s!=="number"||Wr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ct=Array.isArray;function An(n,s,a,h){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&h&&(n[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,h&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Ko(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return q({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Go(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(ct(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:je(a)}}function Il(n,s){var a=je(s.value),h=je(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),h!=null&&(n.defaultValue=""+h)}function qr(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Qo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ds(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Qo(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Kr,xl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,h,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Kr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function $i(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kl=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(n){kl.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Gr[s]=Gr[n]})});function Qr(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Gr.hasOwnProperty(n)&&Gr[n]?(""+s).trim():s+"px"}function bs(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=Qr(a,s[a],h);a==="float"&&(a="cssFloat"),h?n.setProperty(a,d):n[a]=d}}var Yo=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pn(n,s){if(s){if(Yo[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ls(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Os(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gr=null,yr=null,lt=null;function Jo(n){if(n=Ia(n)){if(typeof gr!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Zl(s),gr(n.stateNode,n.type,s))}}function Jr(n){yr?lt?lt.push(n):lt=[n]:yr=n}function Xr(){if(yr){var n=yr,s=lt;if(lt=yr=null,Jo(n),s)for(n=0;n<s.length;n++)Jo(s[n])}}function Cl(n,s){return n(s)}function Rl(){}var $n=!1;function Al(n,s,a){if($n)return n(s,a);$n=!0;try{return Cl(n,s,a)}finally{$n=!1,(yr!==null||lt!==null)&&(Rl(),Xr())}}function Hi(n,s){var a=n.stateNode;if(a===null)return null;var h=Zl(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Zr=!1;if(f)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{Zr=!1}function Pl(n,s,a,h,d,p,E,C,L){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(ee){this.onError(ee)}}var vr=!1,Hn=null,Vs=!1,mn=null,Nl={onError:function(n){vr=!0,Hn=n}};function Dl(n,s,a,h,d,p,E,C,L){vr=!1,Hn=null,Pl.apply(Nl,arguments)}function Xo(n,s,a,h,d,p,E,C,L){if(Dl.apply(this,arguments),vr){if(vr){var $=Hn;vr=!1,Hn=null}else throw Error(t(198));Vs||(Vs=!0,mn=$)}}function Nn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Zo(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function bl(n){if(Nn(n)!==n)throw Error(t(188))}function Ll(n){var s=n.alternate;if(!s){if(s=Nn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,h=s;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return bl(d),n;if(p===h)return bl(d),s;p=p.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=p;else{for(var E=!1,C=d.child;C;){if(C===a){E=!0,a=d,h=p;break}if(C===h){E=!0,h=d,a=p;break}C=C.sibling}if(!E){for(C=p.child;C;){if(C===a){E=!0,a=p,h=d;break}if(C===h){E=!0,h=p,a=d;break}C=C.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function Ol(n){return n=Ll(n),n!==null?Wi(n):null}function Wi(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Wi(n);if(s!==null)return s;n=n.sibling}return null}var ea=e.unstable_scheduleCallback,js=e.unstable_cancelCallback,qi=e.unstable_shouldYield,_r=e.unstable_requestPaint,Ye=e.unstable_now,Gc=e.unstable_getCurrentPriorityLevel,Ms=e.unstable_ImmediatePriority,ta=e.unstable_UserBlockingPriority,Ki=e.unstable_NormalPriority,na=e.unstable_LowPriority,Fs=e.unstable_IdlePriority,Gi=null,sn=null;function Vl(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Gi,n,void 0,(n.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Qi,Wn=Math.log,gn=Math.LN2;function Qi(n){return n>>>=0,n===0?32:31-(Wn(n)/gn|0)|0}var qn=64,ti=4194304;function $e(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function wr(n,s){var a=n.pendingLanes;if(a===0)return 0;var h=0,d=n.suspendedLanes,p=n.pingedLanes,E=a&268435455;if(E!==0){var C=E&~d;C!==0?h=$e(C):(p&=E,p!==0&&(h=$e(p)))}else E=a&~d,E!==0?h=$e(E):p!==0&&(h=$e(p));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,p=s&-s,d>=p||d===16&&(p&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=h;0<s;)a=31-on(s),d=1<<a,h|=n[a],s&=~d;return h}function Yi(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ji(n,s){for(var a=n.suspendedLanes,h=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var E=31-on(p),C=1<<E,L=d[E];L===-1?((C&a)===0||(C&h)!==0)&&(d[E]=Yi(C,s)):L<=s&&(n.expiredLanes|=C),p&=~C}}function ra(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ia(){var n=qn;return qn<<=1,(qn&4194240)===0&&(qn=64),n}function sa(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Xi(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-on(s),n[s]=a}function Qc(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-on(a),p=1<<d;s[d]=0,h[d]=-1,n[d]=-1,a&=~p}}function oa(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var h=31-on(a),d=1<<h;d&s|n[h]&s&&(n[h]|=s),a&=~d}}var Me=0;function Kn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var aa,Us,la,ua,ca,Gn=!1,zs=[],Qn=null,Yn=null,Pt=null,Zi=new Map,Er=new Map,an=[],jl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ni(n,s){switch(n){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Zi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(s.pointerId)}}function Dn(n,s,a,h,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Ia(s),s!==null&&Us(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Ml(n,s,a,h,d){switch(s){case"focusin":return Qn=Dn(Qn,n,s,a,h,d),!0;case"dragenter":return Yn=Dn(Yn,n,s,a,h,d),!0;case"mouseover":return Pt=Dn(Pt,n,s,a,h,d),!0;case"pointerover":var p=d.pointerId;return Zi.set(p,Dn(Zi.get(p)||null,n,s,a,h,d)),!0;case"gotpointercapture":return p=d.pointerId,Er.set(p,Dn(Er.get(p)||null,n,s,a,h,d)),!0}return!1}function Bs(n){var s=rs(n.target);if(s!==null){var a=Nn(s);if(a!==null){if(s=a.tag,s===13){if(s=Zo(a),s!==null){n.blockedOn=s,ca(n.priority,function(){la(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ge(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=$s(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var h=new a.constructor(a.type,a);Yr=h,a.target.dispatchEvent(h),Yr=null}else return s=Ia(a),s!==null&&Us(s),n.blockedOn=a,!1;s.shift()}return!0}function Fl(n,s,a){Ge(n)&&a.delete(s)}function Yc(){Gn=!1,Qn!==null&&Ge(Qn)&&(Qn=null),Yn!==null&&Ge(Yn)&&(Yn=null),Pt!==null&&Ge(Pt)&&(Pt=null),Zi.forEach(Fl),Er.forEach(Fl)}function ri(n,s){n.blockedOn===s&&(n.blockedOn=null,Gn||(Gn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yc)))}function ii(n){function s(d){return ri(d,n)}if(0<zs.length){ri(zs[0],n);for(var a=1;a<zs.length;a++){var h=zs[a];h.blockedOn===n&&(h.blockedOn=null)}}for(Qn!==null&&ri(Qn,n),Yn!==null&&ri(Yn,n),Pt!==null&&ri(Pt,n),Zi.forEach(s),Er.forEach(s),a=0;a<an.length;a++)h=an[a],h.blockedOn===n&&(h.blockedOn=null);for(;0<an.length&&(a=an[0],a.blockedOn===null);)Bs(a),a.blockedOn===null&&an.shift()}var Tr=se.ReactCurrentBatchConfig,Sr=!0;function Jn(n,s,a,h){var d=Me,p=Tr.transition;Tr.transition=null;try{Me=1,ha(n,s,a,h)}finally{Me=d,Tr.transition=p}}function Ul(n,s,a,h){var d=Me,p=Tr.transition;Tr.transition=null;try{Me=4,ha(n,s,a,h)}finally{Me=d,Tr.transition=p}}function ha(n,s,a,h){if(Sr){var d=$s(n,s,a,h);if(d===null)ah(n,s,h,Xn,a),ni(n,h);else if(Ml(d,n,s,a,h))h.stopPropagation();else if(ni(n,h),s&4&&-1<jl.indexOf(n)){for(;d!==null;){var p=Ia(d);if(p!==null&&aa(p),p=$s(n,s,a,h),p===null&&ah(n,s,h,Xn,a),p===d)break;d=p}d!==null&&h.stopPropagation()}else ah(n,s,h,null,a)}}var Xn=null;function $s(n,s,a,h){if(Xn=null,n=Os(h),n=rs(n),n!==null)if(s=Nn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Zo(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Xn=n,null}function Hs(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gc()){case Ms:return 1;case ta:return 4;case Ki:case na:return 16;case Fs:return 536870912;default:return 16}default:return 16}}var ln=null,Ws=null,Ir=null;function zl(){if(Ir)return Ir;var n,s=Ws,a=s.length,h,d="value"in ln?ln.value:ln.textContent,p=d.length;for(n=0;n<a&&s[n]===d[n];n++);var E=a-n;for(h=1;h<=E&&s[a-h]===d[p-h];h++);return Ir=d.slice(n,1<h?1-h:void 0)}function es(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Zn(){return!0}function da(){return!1}function Mt(n){function s(a,h,d,p,E){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Zn:da,this.isPropagationStopped=da,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),s}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=Mt(er),si=q({},er,{view:0,detail:0}),qs=Mt(si),Ks,Gs,un,ns=q({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ae,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==un&&(un&&n.type==="mousemove"?(Ks=n.screenX-un.screenX,Gs=n.screenY-un.screenY):Gs=Ks=0,un=n),Ks)},movementY:function(n){return"movementY"in n?n.movementY:Gs}}),fa=Mt(ns),Bl=q({},ns,{dataTransfer:0}),$l=Mt(Bl),Qs=q({},si,{relatedTarget:0}),Nt=Mt(Qs),Hl=q({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),Wl=Mt(Hl),oi=q({},er,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),u=Mt(oi),m=q({},er,{data:0}),_=Mt(m),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ie(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=H[n])?!!s[n]:!1}function Ae(){return ie}var ht=q({},si,{key:function(n){if(n.key){var s=I[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=es(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?U[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ae,charCode:function(n){return n.type==="keypress"?es(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?es(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qe=Mt(ht),mt=q({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cn=Mt(mt),xr=q({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ae}),tr=Mt(xr),nr=q({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ys=Mt(nr),pa=q({},ns,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),vw=Mt(pa),_w=[9,13,27,32],Jc=f&&"CompositionEvent"in window,ma=null;f&&"documentMode"in document&&(ma=document.documentMode);var ww=f&&"TextEvent"in window&&!ma,_p=f&&(!Jc||ma&&8<ma&&11>=ma),wp=" ",Ep=!1;function Tp(n,s){switch(n){case"keyup":return _w.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Js=!1;function Ew(n,s){switch(n){case"compositionend":return Sp(s);case"keypress":return s.which!==32?null:(Ep=!0,wp);case"textInput":return n=s.data,n===wp&&Ep?null:n;default:return null}}function Tw(n,s){if(Js)return n==="compositionend"||!Jc&&Tp(n,s)?(n=zl(),Ir=Ws=ln=null,Js=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _p&&s.locale!=="ko"?null:s.data;default:return null}}var Sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Sw[n.type]:s==="textarea"}function xp(n,s,a,h){Jr(h),s=Yl(s,"onChange"),0<s.length&&(a=new ts("onChange","change",null,a,h),n.push({event:a,listeners:s}))}var ga=null,ya=null;function Iw(n){$p(n,0)}function ql(n){var s=no(n);if(Wo(s))return n}function xw(n,s){if(n==="change")return s}var kp=!1;if(f){var Xc;if(f){var Zc="oninput"in document;if(!Zc){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Zc=typeof Cp.oninput=="function"}Xc=Zc}else Xc=!1;kp=Xc&&(!document.documentMode||9<document.documentMode)}function Rp(){ga&&(ga.detachEvent("onpropertychange",Ap),ya=ga=null)}function Ap(n){if(n.propertyName==="value"&&ql(ya)){var s=[];xp(s,ya,n,Os(n)),Al(Iw,s)}}function kw(n,s,a){n==="focusin"?(Rp(),ga=s,ya=a,ga.attachEvent("onpropertychange",Ap)):n==="focusout"&&Rp()}function Cw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ql(ya)}function Rw(n,s){if(n==="click")return ql(s)}function Aw(n,s){if(n==="input"||n==="change")return ql(s)}function Pw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var bn=typeof Object.is=="function"?Object.is:Pw;function va(n,s){if(bn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!g.call(s,d)||!bn(n[d],s[d]))return!1}return!0}function Pp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Np(n,s){var a=Pp(n);n=0;for(var h;a;){if(a.nodeType===3){if(h=n+a.textContent.length,n<=s&&h>=s)return{node:a,offset:s-n};n=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pp(a)}}function Dp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Dp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function bp(){for(var n=window,s=Wr();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Wr(n.document)}return s}function eh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Nw(n){var s=bp(),a=n.focusedElem,h=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Dp(a.ownerDocument.documentElement,a)){if(h!==null&&eh(a)){if(s=h.start,n=h.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,p=Math.min(h.start,d);h=h.end===void 0?p:Math.min(h.end,d),!n.extend&&p>h&&(d=h,h=p,p=d),d=Np(a,p);var E=Np(a,h);d&&E&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),p>h?(n.addRange(s),n.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Dw=f&&"documentMode"in document&&11>=document.documentMode,Xs=null,th=null,_a=null,nh=!1;function Lp(n,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nh||Xs==null||Xs!==Wr(h)||(h=Xs,"selectionStart"in h&&eh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_a&&va(_a,h)||(_a=h,h=Yl(th,"onSelect"),0<h.length&&(s=new ts("onSelect","select",null,s,a),n.push({event:s,listeners:h}),s.target=Xs)))}function Kl(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Zs={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},rh={},Op={};f&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Gl(n){if(rh[n])return rh[n];if(!Zs[n])return n;var s=Zs[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Op)return rh[n]=s[a];return n}var Vp=Gl("animationend"),jp=Gl("animationiteration"),Mp=Gl("animationstart"),Fp=Gl("transitionend"),Up=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(n,s){Up.set(n,s),l(s,[n])}for(var ih=0;ih<zp.length;ih++){var sh=zp[ih],bw=sh.toLowerCase(),Lw=sh[0].toUpperCase()+sh.slice(1);ai(bw,"on"+Lw)}ai(Vp,"onAnimationEnd"),ai(jp,"onAnimationIteration"),ai(Mp,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(Fp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function Bp(n,s,a){var h=n.type||"unknown-event";n.currentTarget=a,Xo(h,s,void 0,n),n.currentTarget=null}function $p(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var h=n[a],d=h.event;h=h.listeners;e:{var p=void 0;if(s)for(var E=h.length-1;0<=E;E--){var C=h[E],L=C.instance,$=C.currentTarget;if(C=C.listener,L!==p&&d.isPropagationStopped())break e;Bp(d,C,$),p=L}else for(E=0;E<h.length;E++){if(C=h[E],L=C.instance,$=C.currentTarget,C=C.listener,L!==p&&d.isPropagationStopped())break e;Bp(d,C,$),p=L}}}if(Vs)throw n=mn,Vs=!1,mn=null,n}function Je(n,s){var a=s[fh];a===void 0&&(a=s[fh]=new Set);var h=n+"__bubble";a.has(h)||(Hp(s,n,2,!1),a.add(h))}function oh(n,s,a){var h=0;s&&(h|=4),Hp(a,n,h,s)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Ea(n){if(!n[Ql]){n[Ql]=!0,i.forEach(function(a){a!=="selectionchange"&&(Ow.has(a)||oh(a,!1,n),oh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ql]||(s[Ql]=!0,oh("selectionchange",!1,s))}}function Hp(n,s,a,h){switch(Hs(s)){case 1:var d=Jn;break;case 4:d=Ul;break;default:d=ha}a=d.bind(null,s,a,n),d=void 0,!Zr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function ah(n,s,a,h,d){var p=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(E===4)for(E=h.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===d||L.nodeType===8&&L.parentNode===d))return;E=E.return}for(;C!==null;){if(E=rs(C),E===null)return;if(L=E.tag,L===5||L===6){h=p=E;continue e}C=C.parentNode}}h=h.return}Al(function(){var $=p,ee=Os(a),te=[];e:{var Z=Up.get(n);if(Z!==void 0){var ue=ts,fe=n;switch(n){case"keypress":if(es(a)===0)break e;case"keydown":case"keyup":ue=qe;break;case"focusin":fe="focus",ue=Nt;break;case"focusout":fe="blur",ue=Nt;break;case"beforeblur":case"afterblur":ue=Nt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=$l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=tr;break;case Vp:case jp:case Mp:ue=Wl;break;case Fp:ue=Ys;break;case"scroll":ue=qs;break;case"wheel":ue=vw;break;case"copy":case"cut":case"paste":ue=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=cn}var me=(s&4)!==0,dt=!me&&n==="scroll",F=me?Z!==null?Z+"Capture":null:Z;me=[];for(var V=$,z;V!==null;){z=V;var re=z.stateNode;if(z.tag===5&&re!==null&&(z=re,F!==null&&(re=Hi(V,F),re!=null&&me.push(Ta(V,re,z)))),dt)break;V=V.return}0<me.length&&(Z=new ue(Z,fe,null,a,ee),te.push({event:Z,listeners:me}))}}if((s&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",ue=n==="mouseout"||n==="pointerout",Z&&a!==Yr&&(fe=a.relatedTarget||a.fromElement)&&(rs(fe)||fe[kr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(fe=a.relatedTarget||a.toElement,ue=$,fe=fe?rs(fe):null,fe!==null&&(dt=Nn(fe),fe!==dt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=$),ue!==fe)){if(me=fa,re="onMouseLeave",F="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(me=cn,re="onPointerLeave",F="onPointerEnter",V="pointer"),dt=ue==null?Z:no(ue),z=fe==null?Z:no(fe),Z=new me(re,V+"leave",ue,a,ee),Z.target=dt,Z.relatedTarget=z,re=null,rs(ee)===$&&(me=new me(F,V+"enter",fe,a,ee),me.target=z,me.relatedTarget=dt,re=me),dt=re,ue&&fe)t:{for(me=ue,F=fe,V=0,z=me;z;z=eo(z))V++;for(z=0,re=F;re;re=eo(re))z++;for(;0<V-z;)me=eo(me),V--;for(;0<z-V;)F=eo(F),z--;for(;V--;){if(me===F||F!==null&&me===F.alternate)break t;me=eo(me),F=eo(F)}me=null}else me=null;ue!==null&&Wp(te,Z,ue,me,!1),fe!==null&&dt!==null&&Wp(te,dt,fe,me,!0)}}e:{if(Z=$?no($):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var ve=xw;else if(Ip(Z))if(kp)ve=Aw;else{ve=Cw;var Ee=kw}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ve=Rw);if(ve&&(ve=ve(n,$))){xp(te,ve,a,ee);break e}Ee&&Ee(n,Z,$),n==="focusout"&&(Ee=Z._wrapperState)&&Ee.controlled&&Z.type==="number"&&pt(Z,"number",Z.value)}switch(Ee=$?no($):window,n){case"focusin":(Ip(Ee)||Ee.contentEditable==="true")&&(Xs=Ee,th=$,_a=null);break;case"focusout":_a=th=Xs=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Lp(te,a,ee);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":Lp(te,a,ee)}var Te;if(Jc)e:{switch(n){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Js?Tp(n,a)&&(xe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(_p&&a.locale!=="ko"&&(Js||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Js&&(Te=zl()):(ln=ee,Ws="value"in ln?ln.value:ln.textContent,Js=!0)),Ee=Yl($,xe),0<Ee.length&&(xe=new _(xe,n,null,a,ee),te.push({event:xe,listeners:Ee}),Te?xe.data=Te:(Te=Sp(a),Te!==null&&(xe.data=Te)))),(Te=ww?Ew(n,a):Tw(n,a))&&($=Yl($,"onBeforeInput"),0<$.length&&(ee=new _("onBeforeInput","beforeinput",null,a,ee),te.push({event:ee,listeners:$}),ee.data=Te))}$p(te,s)})}function Ta(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Yl(n,s){for(var a=s+"Capture",h=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Hi(n,a),p!=null&&h.unshift(Ta(n,p,d)),p=Hi(n,s),p!=null&&h.push(Ta(n,p,d))),n=n.return}return h}function eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Wp(n,s,a,h,d){for(var p=s._reactName,E=[];a!==null&&a!==h;){var C=a,L=C.alternate,$=C.stateNode;if(L!==null&&L===h)break;C.tag===5&&$!==null&&(C=$,d?(L=Hi(a,p),L!=null&&E.unshift(Ta(a,L,C))):d||(L=Hi(a,p),L!=null&&E.push(Ta(a,L,C)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var Vw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function qp(n){return(typeof n=="string"?n:""+n).replace(Vw,`
`).replace(jw,"")}function Jl(n,s,a){if(s=qp(s),qp(n)!==s&&a)throw Error(t(425))}function Xl(){}var lh=null,uh=null;function ch(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,Fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(n){return Kp.resolve(null).then(n).catch(Uw)}:hh;function Uw(n){setTimeout(function(){throw n})}function dh(n,s){var a=s,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){n.removeChild(d),ii(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);ii(s)}function li(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Gp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var to=Math.random().toString(36).slice(2),rr="__reactFiber$"+to,Sa="__reactProps$"+to,kr="__reactContainer$"+to,fh="__reactEvents$"+to,zw="__reactListeners$"+to,Bw="__reactHandles$"+to;function rs(n){var s=n[rr];if(s)return s;for(var a=n.parentNode;a;){if(s=a[kr]||a[rr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Gp(n);n!==null;){if(a=n[rr])return a;n=Gp(n)}return s}n=a,a=n.parentNode}return null}function Ia(n){return n=n[rr]||n[kr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function no(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Zl(n){return n[Sa]||null}var ph=[],ro=-1;function ui(n){return{current:n}}function Xe(n){0>ro||(n.current=ph[ro],ph[ro]=null,ro--)}function Qe(n,s){ro++,ph[ro]=n.current,n.current=s}var ci={},Ft=ui(ci),Yt=ui(!1),is=ci;function io(n,s){var a=n.type.contextTypes;if(!a)return ci;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=s[p];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(n){return n=n.childContextTypes,n!=null}function eu(){Xe(Yt),Xe(Ft)}function Qp(n,s,a){if(Ft.current!==ci)throw Error(t(168));Qe(Ft,s),Qe(Yt,a)}function Yp(n,s,a){var h=n.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,Ce(n)||"Unknown",d));return q({},a,h)}function tu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ci,is=Ft.current,Qe(Ft,n),Qe(Yt,Yt.current),!0}function Jp(n,s,a){var h=n.stateNode;if(!h)throw Error(t(169));a?(n=Yp(n,s,is),h.__reactInternalMemoizedMergedChildContext=n,Xe(Yt),Xe(Ft),Qe(Ft,n)):Xe(Yt),Qe(Yt,a)}var Cr=null,nu=!1,mh=!1;function Xp(n){Cr===null?Cr=[n]:Cr.push(n)}function $w(n){nu=!0,Xp(n)}function hi(){if(!mh&&Cr!==null){mh=!0;var n=0,s=Me;try{var a=Cr;for(Me=1;n<a.length;n++){var h=a[n];do h=h(!0);while(h!==null)}Cr=null,nu=!1}catch(d){throw Cr!==null&&(Cr=Cr.slice(n+1)),ea(Ms,hi),d}finally{Me=s,mh=!1}}return null}var so=[],oo=0,ru=null,iu=0,yn=[],vn=0,ss=null,Rr=1,Ar="";function os(n,s){so[oo++]=iu,so[oo++]=ru,ru=n,iu=s}function Zp(n,s,a){yn[vn++]=Rr,yn[vn++]=Ar,yn[vn++]=ss,ss=n;var h=Rr;n=Ar;var d=32-on(h)-1;h&=~(1<<d),a+=1;var p=32-on(s)+d;if(30<p){var E=d-d%5;p=(h&(1<<E)-1).toString(32),h>>=E,d-=E,Rr=1<<32-on(s)+d|a<<d|h,Ar=p+n}else Rr=1<<p|a<<d|h,Ar=n}function gh(n){n.return!==null&&(os(n,1),Zp(n,1,0))}function yh(n){for(;n===ru;)ru=so[--oo],so[oo]=null,iu=so[--oo],so[oo]=null;for(;n===ss;)ss=yn[--vn],yn[vn]=null,Ar=yn[--vn],yn[vn]=null,Rr=yn[--vn],yn[vn]=null}var hn=null,dn=null,rt=!1,Ln=null;function em(n,s){var a=Tn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function tm(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,hn=n,dn=li(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,hn=n,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ss!==null?{id:Rr,overflow:Ar}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Tn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,hn=n,dn=null,!0):!1;default:return!1}}function vh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function _h(n){if(rt){var s=dn;if(s){var a=s;if(!tm(n,s)){if(vh(n))throw Error(t(418));s=li(a.nextSibling);var h=hn;s&&tm(n,s)?em(h,a):(n.flags=n.flags&-4097|2,rt=!1,hn=n)}}else{if(vh(n))throw Error(t(418));n.flags=n.flags&-4097|2,rt=!1,hn=n}}}function nm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;hn=n}function su(n){if(n!==hn)return!1;if(!rt)return nm(n),rt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!ch(n.type,n.memoizedProps)),s&&(s=dn)){if(vh(n))throw rm(),Error(t(418));for(;s;)em(n,s),s=li(s.nextSibling)}if(nm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){dn=li(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}dn=null}}else dn=hn?li(n.stateNode.nextSibling):null;return!0}function rm(){for(var n=dn;n;)n=li(n.nextSibling)}function ao(){dn=hn=null,rt=!1}function wh(n){Ln===null?Ln=[n]:Ln.push(n)}var Hw=se.ReactCurrentBatchConfig;function xa(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,n));var d=h,p=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(E){var C=d.refs;E===null?delete C[p]:C[p]=E},s._stringRef=p,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function ou(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function im(n){var s=n._init;return s(n._payload)}function sm(n){function s(F,V){if(n){var z=F.deletions;z===null?(F.deletions=[V],F.flags|=16):z.push(V)}}function a(F,V){if(!n)return null;for(;V!==null;)s(F,V),V=V.sibling;return null}function h(F,V){for(F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function d(F,V){return F=_i(F,V),F.index=0,F.sibling=null,F}function p(F,V,z){return F.index=z,n?(z=F.alternate,z!==null?(z=z.index,z<V?(F.flags|=2,V):z):(F.flags|=2,V)):(F.flags|=1048576,V)}function E(F){return n&&F.alternate===null&&(F.flags|=2),F}function C(F,V,z,re){return V===null||V.tag!==6?(V=hd(z,F.mode,re),V.return=F,V):(V=d(V,z),V.return=F,V)}function L(F,V,z,re){var ve=z.type;return ve===A?ee(F,V,z.props.children,re,z.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===nt&&im(ve)===V.type)?(re=d(V,z.props),re.ref=xa(F,V,z),re.return=F,re):(re=Pu(z.type,z.key,z.props,null,F.mode,re),re.ref=xa(F,V,z),re.return=F,re)}function $(F,V,z,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=dd(z,F.mode,re),V.return=F,V):(V=d(V,z.children||[]),V.return=F,V)}function ee(F,V,z,re,ve){return V===null||V.tag!==7?(V=ps(z,F.mode,re,ve),V.return=F,V):(V=d(V,z),V.return=F,V)}function te(F,V,z){if(typeof V=="string"&&V!==""||typeof V=="number")return V=hd(""+V,F.mode,z),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case pe:return z=Pu(V.type,V.key,V.props,null,F.mode,z),z.ref=xa(F,null,V),z.return=F,z;case le:return V=dd(V,F.mode,z),V.return=F,V;case nt:var re=V._init;return te(F,re(V._payload),z)}if(ct(V)||ye(V))return V=ps(V,F.mode,z,null),V.return=F,V;ou(F,V)}return null}function Z(F,V,z,re){var ve=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ve!==null?null:C(F,V,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case pe:return z.key===ve?L(F,V,z,re):null;case le:return z.key===ve?$(F,V,z,re):null;case nt:return ve=z._init,Z(F,V,ve(z._payload),re)}if(ct(z)||ye(z))return ve!==null?null:ee(F,V,z,re,null);ou(F,z)}return null}function ue(F,V,z,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number")return F=F.get(z)||null,C(V,F,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case pe:return F=F.get(re.key===null?z:re.key)||null,L(V,F,re,ve);case le:return F=F.get(re.key===null?z:re.key)||null,$(V,F,re,ve);case nt:var Ee=re._init;return ue(F,V,z,Ee(re._payload),ve)}if(ct(re)||ye(re))return F=F.get(z)||null,ee(V,F,re,ve,null);ou(V,re)}return null}function fe(F,V,z,re){for(var ve=null,Ee=null,Te=V,xe=V=0,Ct=null;Te!==null&&xe<z.length;xe++){Te.index>xe?(Ct=Te,Te=null):Ct=Te.sibling;var Be=Z(F,Te,z[xe],re);if(Be===null){Te===null&&(Te=Ct);break}n&&Te&&Be.alternate===null&&s(F,Te),V=p(Be,V,xe),Ee===null?ve=Be:Ee.sibling=Be,Ee=Be,Te=Ct}if(xe===z.length)return a(F,Te),rt&&os(F,xe),ve;if(Te===null){for(;xe<z.length;xe++)Te=te(F,z[xe],re),Te!==null&&(V=p(Te,V,xe),Ee===null?ve=Te:Ee.sibling=Te,Ee=Te);return rt&&os(F,xe),ve}for(Te=h(F,Te);xe<z.length;xe++)Ct=ue(Te,F,xe,z[xe],re),Ct!==null&&(n&&Ct.alternate!==null&&Te.delete(Ct.key===null?xe:Ct.key),V=p(Ct,V,xe),Ee===null?ve=Ct:Ee.sibling=Ct,Ee=Ct);return n&&Te.forEach(function(wi){return s(F,wi)}),rt&&os(F,xe),ve}function me(F,V,z,re){var ve=ye(z);if(typeof ve!="function")throw Error(t(150));if(z=ve.call(z),z==null)throw Error(t(151));for(var Ee=ve=null,Te=V,xe=V=0,Ct=null,Be=z.next();Te!==null&&!Be.done;xe++,Be=z.next()){Te.index>xe?(Ct=Te,Te=null):Ct=Te.sibling;var wi=Z(F,Te,Be.value,re);if(wi===null){Te===null&&(Te=Ct);break}n&&Te&&wi.alternate===null&&s(F,Te),V=p(wi,V,xe),Ee===null?ve=wi:Ee.sibling=wi,Ee=wi,Te=Ct}if(Be.done)return a(F,Te),rt&&os(F,xe),ve;if(Te===null){for(;!Be.done;xe++,Be=z.next())Be=te(F,Be.value,re),Be!==null&&(V=p(Be,V,xe),Ee===null?ve=Be:Ee.sibling=Be,Ee=Be);return rt&&os(F,xe),ve}for(Te=h(F,Te);!Be.done;xe++,Be=z.next())Be=ue(Te,F,xe,Be.value,re),Be!==null&&(n&&Be.alternate!==null&&Te.delete(Be.key===null?xe:Be.key),V=p(Be,V,xe),Ee===null?ve=Be:Ee.sibling=Be,Ee=Be);return n&&Te.forEach(function(S1){return s(F,S1)}),rt&&os(F,xe),ve}function dt(F,V,z,re){if(typeof z=="object"&&z!==null&&z.type===A&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case pe:e:{for(var ve=z.key,Ee=V;Ee!==null;){if(Ee.key===ve){if(ve=z.type,ve===A){if(Ee.tag===7){a(F,Ee.sibling),V=d(Ee,z.props.children),V.return=F,F=V;break e}}else if(Ee.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===nt&&im(ve)===Ee.type){a(F,Ee.sibling),V=d(Ee,z.props),V.ref=xa(F,Ee,z),V.return=F,F=V;break e}a(F,Ee);break}else s(F,Ee);Ee=Ee.sibling}z.type===A?(V=ps(z.props.children,F.mode,re,z.key),V.return=F,F=V):(re=Pu(z.type,z.key,z.props,null,F.mode,re),re.ref=xa(F,V,z),re.return=F,F=re)}return E(F);case le:e:{for(Ee=z.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(F,V.sibling),V=d(V,z.children||[]),V.return=F,F=V;break e}else{a(F,V);break}else s(F,V);V=V.sibling}V=dd(z,F.mode,re),V.return=F,F=V}return E(F);case nt:return Ee=z._init,dt(F,V,Ee(z._payload),re)}if(ct(z))return fe(F,V,z,re);if(ye(z))return me(F,V,z,re);ou(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,V!==null&&V.tag===6?(a(F,V.sibling),V=d(V,z),V.return=F,F=V):(a(F,V),V=hd(z,F.mode,re),V.return=F,F=V),E(F)):a(F,V)}return dt}var lo=sm(!0),om=sm(!1),au=ui(null),lu=null,uo=null,Eh=null;function Th(){Eh=uo=lu=null}function Sh(n){var s=au.current;Xe(au),n._currentValue=s}function Ih(n,s,a){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===a)break;n=n.return}}function co(n,s){lu=n,Eh=uo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Xt=!0),n.firstContext=null)}function _n(n){var s=n._currentValue;if(Eh!==n)if(n={context:n,memoizedValue:s,next:null},uo===null){if(lu===null)throw Error(t(308));uo=n,lu.dependencies={lanes:0,firstContext:n}}else uo=uo.next=n;return s}var as=null;function xh(n){as===null?as=[n]:as.push(n)}function am(n,s,a,h){var d=s.interleaved;return d===null?(a.next=a,xh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Pr(n,h)}function Pr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var di=!1;function kh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Nr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function fi(n,s,a){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Ue&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,Pr(n,a)}return d=h.interleaved,d===null?(s.next=s,xh(h)):(s.next=d.next,d.next=s),h.interleaved=s,Pr(n,a)}function uu(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=n.pendingLanes,a|=h,s.lanes=a,oa(n,a)}}function um(n,s){var a=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?d=p=s:p=p.next=s}else d=p=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:h.shared,effects:h.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function cu(n,s,a,h){var d=n.updateQueue;di=!1;var p=d.firstBaseUpdate,E=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var L=C,$=L.next;L.next=null,E===null?p=$:E.next=$,E=L;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==E&&(C===null?ee.firstBaseUpdate=$:C.next=$,ee.lastBaseUpdate=L))}if(p!==null){var te=d.baseState;E=0,ee=$=L=null,C=p;do{var Z=C.lane,ue=C.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var fe=n,me=C;switch(Z=s,ue=a,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){te=fe.call(ue,te,Z);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,Z=typeof fe=="function"?fe.call(ue,te,Z):fe,Z==null)break e;te=q({},te,Z);break e;case 2:di=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,Z=d.effects,Z===null?d.effects=[C]:Z.push(C))}else ue={eventTime:ue,lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?($=ee=ue,L=te):ee=ee.next=ue,E|=Z;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);if(ee===null&&(L=te),d.baseState=L,d.firstBaseUpdate=$,d.lastBaseUpdate=ee,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else p===null&&(d.shared.lanes=0);cs|=E,n.lanes=E,n.memoizedState=te}}function cm(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var h=n[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var ka={},ir=ui(ka),Ca=ui(ka),Ra=ui(ka);function ls(n){if(n===ka)throw Error(t(174));return n}function Ch(n,s){switch(Qe(Ra,s),Qe(Ca,n),Qe(ir,ka),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ds(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Ds(s,n)}Xe(ir),Qe(ir,s)}function ho(){Xe(ir),Xe(Ca),Xe(Ra)}function hm(n){ls(Ra.current);var s=ls(ir.current),a=Ds(s,n.type);s!==a&&(Qe(Ca,n),Qe(ir,a))}function Rh(n){Ca.current===n&&(Xe(ir),Xe(Ca))}var it=ui(0);function hu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ah=[];function Ph(){for(var n=0;n<Ah.length;n++)Ah[n]._workInProgressVersionPrimary=null;Ah.length=0}var du=se.ReactCurrentDispatcher,Nh=se.ReactCurrentBatchConfig,us=0,st=null,wt=null,xt=null,fu=!1,Aa=!1,Pa=0,Ww=0;function Ut(){throw Error(t(321))}function Dh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!bn(n[a],s[a]))return!1;return!0}function bh(n,s,a,h,d,p){if(us=p,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,du.current=n===null||n.memoizedState===null?Qw:Yw,n=a(h,d),Aa){p=0;do{if(Aa=!1,Pa=0,25<=p)throw Error(t(301));p+=1,xt=wt=null,s.updateQueue=null,du.current=Jw,n=a(h,d)}while(Aa)}if(du.current=gu,s=wt!==null&&wt.next!==null,us=0,xt=wt=st=null,fu=!1,s)throw Error(t(300));return n}function Lh(){var n=Pa!==0;return Pa=0,n}function sr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?st.memoizedState=xt=n:xt=xt.next=n,xt}function wn(){if(wt===null){var n=st.alternate;n=n!==null?n.memoizedState:null}else n=wt.next;var s=xt===null?st.memoizedState:xt.next;if(s!==null)xt=s,wt=n;else{if(n===null)throw Error(t(310));wt=n,n={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},xt===null?st.memoizedState=xt=n:xt=xt.next=n}return xt}function Na(n,s){return typeof s=="function"?s(n):s}function Oh(n){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=wt,d=h.baseQueue,p=a.pending;if(p!==null){if(d!==null){var E=d.next;d.next=p.next,p.next=E}h.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,h=h.baseState;var C=E=null,L=null,$=p;do{var ee=$.lane;if((us&ee)===ee)L!==null&&(L=L.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:n(h,$.action);else{var te={lane:ee,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};L===null?(C=L=te,E=h):L=L.next=te,st.lanes|=ee,cs|=ee}$=$.next}while($!==null&&$!==p);L===null?E=h:L.next=C,bn(h,s.memoizedState)||(Xt=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=L,a.lastRenderedState=h}if(n=a.interleaved,n!==null){d=n;do p=d.lane,st.lanes|=p,cs|=p,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Vh(n){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=a.dispatch,d=a.pending,p=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do p=n(p,E.action),E=E.next;while(E!==d);bn(p,s.memoizedState)||(Xt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,h]}function dm(){}function fm(n,s){var a=st,h=wn(),d=s(),p=!bn(h.memoizedState,d);if(p&&(h.memoizedState=d,Xt=!0),h=h.queue,jh(gm.bind(null,a,h,n),[n]),h.getSnapshot!==s||p||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,Da(9,mm.bind(null,a,h,d,s),void 0,null),kt===null)throw Error(t(349));(us&30)!==0||pm(a,s,d)}return d}function pm(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function mm(n,s,a,h){s.value=a,s.getSnapshot=h,ym(s)&&vm(n)}function gm(n,s,a){return a(function(){ym(s)&&vm(n)})}function ym(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!bn(n,a)}catch{return!0}}function vm(n){var s=Pr(n,1);s!==null&&Mn(s,n,1,-1)}function _m(n){var s=sr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:n},s.queue=n,n=n.dispatch=Gw.bind(null,st,n),[s.memoizedState,n]}function Da(n,s,a,h){return n={tag:n,create:s,destroy:a,deps:h,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(h=a.next,a.next=n,n.next=h,s.lastEffect=n)),n}function wm(){return wn().memoizedState}function pu(n,s,a,h){var d=sr();st.flags|=n,d.memoizedState=Da(1|s,a,void 0,h===void 0?null:h)}function mu(n,s,a,h){var d=wn();h=h===void 0?null:h;var p=void 0;if(wt!==null){var E=wt.memoizedState;if(p=E.destroy,h!==null&&Dh(h,E.deps)){d.memoizedState=Da(s,a,p,h);return}}st.flags|=n,d.memoizedState=Da(1|s,a,p,h)}function Em(n,s){return pu(8390656,8,n,s)}function jh(n,s){return mu(2048,8,n,s)}function Tm(n,s){return mu(4,2,n,s)}function Sm(n,s){return mu(4,4,n,s)}function Im(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function xm(n,s,a){return a=a!=null?a.concat([n]):null,mu(4,4,Im.bind(null,s,n),a)}function Mh(){}function km(n,s){var a=wn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Dh(s,h[1])?h[0]:(a.memoizedState=[n,s],n)}function Cm(n,s){var a=wn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Dh(s,h[1])?h[0]:(n=n(),a.memoizedState=[n,s],n)}function Rm(n,s,a){return(us&21)===0?(n.baseState&&(n.baseState=!1,Xt=!0),n.memoizedState=a):(bn(a,s)||(a=ia(),st.lanes|=a,cs|=a,n.baseState=!0),s)}function qw(n,s){var a=Me;Me=a!==0&&4>a?a:4,n(!0);var h=Nh.transition;Nh.transition={};try{n(!1),s()}finally{Me=a,Nh.transition=h}}function Am(){return wn().memoizedState}function Kw(n,s,a){var h=yi(n);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Pm(n))Nm(s,a);else if(a=am(n,s,a,h),a!==null){var d=Qt();Mn(a,n,h,d),Dm(a,s,h)}}function Gw(n,s,a){var h=yi(n),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pm(n))Nm(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,C=p(E,a);if(d.hasEagerState=!0,d.eagerState=C,bn(C,E)){var L=s.interleaved;L===null?(d.next=d,xh(s)):(d.next=L.next,L.next=d),s.interleaved=d;return}}catch{}finally{}a=am(n,s,d,h),a!==null&&(d=Qt(),Mn(a,n,h,d),Dm(a,s,h))}}function Pm(n){var s=n.alternate;return n===st||s!==null&&s===st}function Nm(n,s){Aa=fu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Dm(n,s,a){if((a&4194240)!==0){var h=s.lanes;h&=n.pendingLanes,a|=h,s.lanes=a,oa(n,a)}}var gu={readContext:_n,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},Qw={readContext:_n,useCallback:function(n,s){return sr().memoizedState=[n,s===void 0?null:s],n},useContext:_n,useEffect:Em,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,pu(4194308,4,Im.bind(null,s,n),a)},useLayoutEffect:function(n,s){return pu(4194308,4,n,s)},useInsertionEffect:function(n,s){return pu(4,2,n,s)},useMemo:function(n,s){var a=sr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var h=sr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},h.queue=n,n=n.dispatch=Kw.bind(null,st,n),[h.memoizedState,n]},useRef:function(n){var s=sr();return n={current:n},s.memoizedState=n},useState:_m,useDebugValue:Mh,useDeferredValue:function(n){return sr().memoizedState=n},useTransition:function(){var n=_m(!1),s=n[0];return n=qw.bind(null,n[1]),sr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var h=st,d=sr();if(rt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),kt===null)throw Error(t(349));(us&30)!==0||pm(h,s,a)}d.memoizedState=a;var p={value:a,getSnapshot:s};return d.queue=p,Em(gm.bind(null,h,p,n),[n]),h.flags|=2048,Da(9,mm.bind(null,h,p,a,s),void 0,null),a},useId:function(){var n=sr(),s=kt.identifierPrefix;if(rt){var a=Ar,h=Rr;a=(h&~(1<<32-on(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Pa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Ww++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Yw={readContext:_n,useCallback:km,useContext:_n,useEffect:jh,useImperativeHandle:xm,useInsertionEffect:Tm,useLayoutEffect:Sm,useMemo:Cm,useReducer:Oh,useRef:wm,useState:function(){return Oh(Na)},useDebugValue:Mh,useDeferredValue:function(n){var s=wn();return Rm(s,wt.memoizedState,n)},useTransition:function(){var n=Oh(Na)[0],s=wn().memoizedState;return[n,s]},useMutableSource:dm,useSyncExternalStore:fm,useId:Am,unstable_isNewReconciler:!1},Jw={readContext:_n,useCallback:km,useContext:_n,useEffect:jh,useImperativeHandle:xm,useInsertionEffect:Tm,useLayoutEffect:Sm,useMemo:Cm,useReducer:Vh,useRef:wm,useState:function(){return Vh(Na)},useDebugValue:Mh,useDeferredValue:function(n){var s=wn();return wt===null?s.memoizedState=n:Rm(s,wt.memoizedState,n)},useTransition:function(){var n=Vh(Na)[0],s=wn().memoizedState;return[n,s]},useMutableSource:dm,useSyncExternalStore:fm,useId:Am,unstable_isNewReconciler:!1};function On(n,s){if(n&&n.defaultProps){s=q({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Fh(n,s,a,h){s=n.memoizedState,a=a(h,s),a=a==null?s:q({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var yu={isMounted:function(n){return(n=n._reactInternals)?Nn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var h=Qt(),d=yi(n),p=Nr(h,d);p.payload=s,a!=null&&(p.callback=a),s=fi(n,p,d),s!==null&&(Mn(s,n,d,h),uu(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var h=Qt(),d=yi(n),p=Nr(h,d);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=fi(n,p,d),s!==null&&(Mn(s,n,d,h),uu(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Qt(),h=yi(n),d=Nr(a,h);d.tag=2,s!=null&&(d.callback=s),s=fi(n,d,h),s!==null&&(Mn(s,n,h,a),uu(s,n,h))}};function bm(n,s,a,h,d,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,p,E):s.prototype&&s.prototype.isPureReactComponent?!va(a,h)||!va(d,p):!0}function Lm(n,s,a){var h=!1,d=ci,p=s.contextType;return typeof p=="object"&&p!==null?p=_n(p):(d=Jt(s)?is:Ft.current,h=s.contextTypes,p=(h=h!=null)?io(n,d):ci),s=new s(a,p),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yu,n.stateNode=s,s._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),s}function Om(n,s,a,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==n&&yu.enqueueReplaceState(s,s.state,null)}function Uh(n,s,a,h){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},kh(n);var p=s.contextType;typeof p=="object"&&p!==null?d.context=_n(p):(p=Jt(s)?is:Ft.current,d.context=io(n,p)),d.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Fh(n,s,p,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&yu.enqueueReplaceState(d,d.state,null),cu(n,a,d,h),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function fo(n,s){try{var a="",h=s;do a+=Ie(h),h=h.return;while(h);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:s,stack:d,digest:null}}function zh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Bh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Xw=typeof WeakMap=="function"?WeakMap:Map;function Vm(n,s,a){a=Nr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Iu||(Iu=!0,rd=h),Bh(n,s)},a}function jm(n,s,a){a=Nr(-1,a),a.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){Bh(n,s)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){Bh(n,s),typeof h!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Mm(n,s,a){var h=n.pingCache;if(h===null){h=n.pingCache=new Xw;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),n=d1.bind(null,n,s,a),s.then(n,n))}function Fm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Um(n,s,a,h,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Nr(-1,1),s.tag=2,fi(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var Zw=se.ReactCurrentOwner,Xt=!1;function Gt(n,s,a,h){s.child=n===null?om(s,null,a,h):lo(s,n.child,a,h)}function zm(n,s,a,h,d){a=a.render;var p=s.ref;return co(s,d),h=bh(n,s,a,h,p,d),a=Lh(),n!==null&&!Xt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Dr(n,s,d)):(rt&&a&&gh(s),s.flags|=1,Gt(n,s,h,d),s.child)}function Bm(n,s,a,h,d){if(n===null){var p=a.type;return typeof p=="function"&&!cd(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=p,$m(n,s,p,h,d)):(n=Pu(a.type,null,h,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,(n.lanes&d)===0){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:va,a(E,h)&&n.ref===s.ref)return Dr(n,s,d)}return s.flags|=1,n=_i(p,h),n.ref=s.ref,n.return=s,s.child=n}function $m(n,s,a,h,d){if(n!==null){var p=n.memoizedProps;if(va(p,h)&&n.ref===s.ref)if(Xt=!1,s.pendingProps=h=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Xt=!0);else return s.lanes=n.lanes,Dr(n,s,d)}return $h(n,s,a,h,d)}function Hm(n,s,a){var h=s.pendingProps,d=h.children,p=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(mo,fn),fn|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Qe(mo,fn),fn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=p!==null?p.baseLanes:a,Qe(mo,fn),fn|=h}else p!==null?(h=p.baseLanes|a,s.memoizedState=null):h=a,Qe(mo,fn),fn|=h;return Gt(n,s,d,a),s.child}function Wm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function $h(n,s,a,h,d){var p=Jt(a)?is:Ft.current;return p=io(s,p),co(s,d),a=bh(n,s,a,h,p,d),h=Lh(),n!==null&&!Xt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Dr(n,s,d)):(rt&&h&&gh(s),s.flags|=1,Gt(n,s,a,d),s.child)}function qm(n,s,a,h,d){if(Jt(a)){var p=!0;tu(s)}else p=!1;if(co(s,d),s.stateNode===null)_u(n,s),Lm(s,a,h),Uh(s,a,h,d),h=!0;else if(n===null){var E=s.stateNode,C=s.memoizedProps;E.props=C;var L=E.context,$=a.contextType;typeof $=="object"&&$!==null?$=_n($):($=Jt(a)?is:Ft.current,$=io(s,$));var ee=a.getDerivedStateFromProps,te=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||L!==$)&&Om(s,E,h,$),di=!1;var Z=s.memoizedState;E.state=Z,cu(s,h,E,d),L=s.memoizedState,C!==h||Z!==L||Yt.current||di?(typeof ee=="function"&&(Fh(s,a,ee,h),L=s.memoizedState),(C=di||bm(s,a,C,h,Z,L,$))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),E.props=h,E.state=L,E.context=$,h=C):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,lm(n,s),C=s.memoizedProps,$=s.type===s.elementType?C:On(s.type,C),E.props=$,te=s.pendingProps,Z=E.context,L=a.contextType,typeof L=="object"&&L!==null?L=_n(L):(L=Jt(a)?is:Ft.current,L=io(s,L));var ue=a.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==te||Z!==L)&&Om(s,E,h,L),di=!1,Z=s.memoizedState,E.state=Z,cu(s,h,E,d);var fe=s.memoizedState;C!==te||Z!==fe||Yt.current||di?(typeof ue=="function"&&(Fh(s,a,ue,h),fe=s.memoizedState),($=di||bm(s,a,$,h,Z,fe,L)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,fe,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,fe,L)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===n.memoizedProps&&Z===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Z===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=fe),E.props=h,E.state=fe,E.context=L,h=$):(typeof E.componentDidUpdate!="function"||C===n.memoizedProps&&Z===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Z===n.memoizedState||(s.flags|=1024),h=!1)}return Hh(n,s,a,h,p,d)}function Hh(n,s,a,h,d,p){Wm(n,s);var E=(s.flags&128)!==0;if(!h&&!E)return d&&Jp(s,a,!1),Dr(n,s,p);h=s.stateNode,Zw.current=s;var C=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,n!==null&&E?(s.child=lo(s,n.child,null,p),s.child=lo(s,null,C,p)):Gt(n,s,C,p),s.memoizedState=h.state,d&&Jp(s,a,!0),s.child}function Km(n){var s=n.stateNode;s.pendingContext?Qp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Qp(n,s.context,!1),Ch(n,s.containerInfo)}function Gm(n,s,a,h,d){return ao(),wh(d),s.flags|=256,Gt(n,s,a,h),s.child}var Wh={dehydrated:null,treeContext:null,retryLane:0};function qh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Qm(n,s,a){var h=s.pendingProps,d=it.current,p=!1,E=(s.flags&128)!==0,C;if((C=E)||(C=n!==null&&n.memoizedState===null?!1:(d&2)!==0),C?(p=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Qe(it,d&1),n===null)return _h(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,n=h.fallback,p?(h=s.mode,p=s.child,E={mode:"hidden",children:E},(h&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=E):p=Nu(E,h,0,null),n=ps(n,h,a,null),p.return=s,n.return=s,p.sibling=n,s.child=p,s.child.memoizedState=qh(a),s.memoizedState=Wh,n):Kh(s,E));if(d=n.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return e1(n,s,E,h,C,d,a);if(p){p=h.fallback,E=s.mode,d=n.child,C=d.sibling;var L={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=_i(d,L),h.subtreeFlags=d.subtreeFlags&14680064),C!==null?p=_i(C,p):(p=ps(p,E,a,null),p.flags|=2),p.return=s,h.return=s,h.sibling=p,s.child=h,h=p,p=s.child,E=n.child.memoizedState,E=E===null?qh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},p.memoizedState=E,p.childLanes=n.childLanes&~a,s.memoizedState=Wh,h}return p=n.child,n=p.sibling,h=_i(p,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=h,s.memoizedState=null,h}function Kh(n,s){return s=Nu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function vu(n,s,a,h){return h!==null&&wh(h),lo(s,n.child,null,a),n=Kh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function e1(n,s,a,h,d,p,E){if(a)return s.flags&256?(s.flags&=-257,h=zh(Error(t(422))),vu(n,s,E,h)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(p=h.fallback,d=s.mode,h=Nu({mode:"visible",children:h.children},d,0,null),p=ps(p,d,E,null),p.flags|=2,h.return=s,p.return=s,h.sibling=p,s.child=h,(s.mode&1)!==0&&lo(s,n.child,null,E),s.child.memoizedState=qh(E),s.memoizedState=Wh,p);if((s.mode&1)===0)return vu(n,s,E,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var C=h.dgst;return h=C,p=Error(t(419)),h=zh(p,h,void 0),vu(n,s,E,h)}if(C=(E&n.childLanes)!==0,Xt||C){if(h=kt,h!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|E))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,Pr(n,d),Mn(h,n,d,-1))}return ud(),h=zh(Error(t(421))),vu(n,s,E,h)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=f1.bind(null,n),d._reactRetry=s,null):(n=p.treeContext,dn=li(d.nextSibling),hn=s,rt=!0,Ln=null,n!==null&&(yn[vn++]=Rr,yn[vn++]=Ar,yn[vn++]=ss,Rr=n.id,Ar=n.overflow,ss=s),s=Kh(s,h.children),s.flags|=4096,s)}function Ym(n,s,a){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),Ih(n.return,s,a)}function Gh(n,s,a,h,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=h,p.tail=a,p.tailMode=d)}function Jm(n,s,a){var h=s.pendingProps,d=h.revealOrder,p=h.tail;if(Gt(n,s,h.children,a),h=it.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ym(n,a,s);else if(n.tag===19)Ym(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Qe(it,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&hu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Gh(s,!1,d,a,p);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&hu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Gh(s,!0,a,null,p);break;case"together":Gh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _u(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Dr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),cs|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=_i(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=_i(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function t1(n,s,a){switch(s.tag){case 3:Km(s),ao();break;case 5:hm(s);break;case 1:Jt(s.type)&&tu(s);break;case 4:Ch(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;Qe(au,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Qe(it,it.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Qm(n,s,a):(Qe(it,it.current&1),n=Dr(n,s,a),n!==null?n.sibling:null);Qe(it,it.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(n.flags&128)!==0){if(h)return Jm(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qe(it,it.current),h)break;return null;case 22:case 23:return s.lanes=0,Hm(n,s,a)}return Dr(n,s,a)}var Xm,Qh,Zm,eg;Xm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Qh=function(){},Zm=function(n,s,a,h){var d=n.memoizedProps;if(d!==h){n=s.stateNode,ls(ir.current);var p=null;switch(a){case"input":d=Ps(n,d),h=Ps(n,h),p=[];break;case"select":d=q({},d,{value:void 0}),h=q({},h,{value:void 0}),p=[];break;case"textarea":d=Ko(n,d),h=Ko(n,h),p=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Xl)}Pn(a,h);var E;a=null;for($ in d)if(!h.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var C=d[$];for(E in C)C.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?p||(p=[]):(p=p||[]).push($,null));for($ in h){var L=h[$];if(C=d!=null?d[$]:void 0,h.hasOwnProperty($)&&L!==C&&(L!=null||C!=null))if($==="style")if(C){for(E in C)!C.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in L)L.hasOwnProperty(E)&&C[E]!==L[E]&&(a||(a={}),a[E]=L[E])}else a||(p||(p=[]),p.push($,a)),a=L;else $==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,C=C?C.__html:void 0,L!=null&&C!==L&&(p=p||[]).push($,L)):$==="children"?typeof L!="string"&&typeof L!="number"||(p=p||[]).push($,""+L):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(L!=null&&$==="onScroll"&&Je("scroll",n),p||C===L||(p=[])):(p=p||[]).push($,L))}a&&(p=p||[]).push("style",a);var $=p;(s.updateQueue=$)&&(s.flags|=4)}},eg=function(n,s,a,h){a!==h&&(s.flags|=4)};function ba(n,s){if(!rt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function zt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,h=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=h,n.childLanes=a,s}function n1(n,s,a){var h=s.pendingProps;switch(yh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return Jt(s.type)&&eu(),zt(s),null;case 3:return h=s.stateNode,ho(),Xe(Yt),Xe(Ft),Ph(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(su(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ln!==null&&(od(Ln),Ln=null))),Qh(n,s),zt(s),null;case 5:Rh(s);var d=ls(Ra.current);if(a=s.type,n!==null&&s.stateNode!=null)Zm(n,s,a,h,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return zt(s),null}if(n=ls(ir.current),su(s)){h=s.stateNode,a=s.type;var p=s.memoizedProps;switch(h[rr]=s,h[Sa]=p,n=(s.mode&1)!==0,a){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(d=0;d<wa.length;d++)Je(wa[d],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":Sl(h,p),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!p.multiple},Je("invalid",h);break;case"textarea":Go(h,p),Je("invalid",h)}Pn(a,p),d=null;for(var E in p)if(p.hasOwnProperty(E)){var C=p[E];E==="children"?typeof C=="string"?h.textContent!==C&&(p.suppressHydrationWarning!==!0&&Jl(h.textContent,C,n),d=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(p.suppressHydrationWarning!==!0&&Jl(h.textContent,C,n),d=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Je("scroll",h)}switch(a){case"input":As(h),qo(h,p,!0);break;case"textarea":As(h),qr(h);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(h.onclick=Xl)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Qo(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=E.createElement(a,{is:h.is}):(n=E.createElement(a),a==="select"&&(E=n,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):n=E.createElementNS(n,a),n[rr]=s,n[Sa]=h,Xm(n,s,!1,!1),s.stateNode=n;e:{switch(E=Ls(a,h),a){case"dialog":Je("cancel",n),Je("close",n),d=h;break;case"iframe":case"object":case"embed":Je("load",n),d=h;break;case"video":case"audio":for(d=0;d<wa.length;d++)Je(wa[d],n);d=h;break;case"source":Je("error",n),d=h;break;case"img":case"image":case"link":Je("error",n),Je("load",n),d=h;break;case"details":Je("toggle",n),d=h;break;case"input":Sl(n,h),d=Ps(n,h),Je("invalid",n);break;case"option":d=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},d=q({},h,{value:void 0}),Je("invalid",n);break;case"textarea":Go(n,h),d=Ko(n,h),Je("invalid",n);break;default:d=h}Pn(a,d),C=d;for(p in C)if(C.hasOwnProperty(p)){var L=C[p];p==="style"?bs(n,L):p==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&xl(n,L)):p==="children"?typeof L=="string"?(a!=="textarea"||L!=="")&&$i(n,L):typeof L=="number"&&$i(n,""+L):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?L!=null&&p==="onScroll"&&Je("scroll",n):L!=null&&Y(n,p,L,E))}switch(a){case"input":As(n),qo(n,h,!1);break;case"textarea":As(n),qr(n);break;case"option":h.value!=null&&n.setAttribute("value",""+je(h.value));break;case"select":n.multiple=!!h.multiple,p=h.value,p!=null?An(n,!!h.multiple,p,!1):h.defaultValue!=null&&An(n,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Xl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zt(s),null;case 6:if(n&&s.stateNode!=null)eg(n,s,n.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=ls(Ra.current),ls(ir.current),su(s)){if(h=s.stateNode,a=s.memoizedProps,h[rr]=s,(p=h.nodeValue!==a)&&(n=hn,n!==null))switch(n.tag){case 3:Jl(h.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Jl(h.nodeValue,a,(n.mode&1)!==0)}p&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[rr]=s,s.stateNode=h}return zt(s),null;case 13:if(Xe(it),h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(rt&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)rm(),ao(),s.flags|=98560,p=!1;else if(p=su(s),h!==null&&h.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[rr]=s}else ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zt(s),p=!1}else Ln!==null&&(od(Ln),Ln=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(it.current&1)!==0?Et===0&&(Et=3):ud())),s.updateQueue!==null&&(s.flags|=4),zt(s),null);case 4:return ho(),Qh(n,s),n===null&&Ea(s.stateNode.containerInfo),zt(s),null;case 10:return Sh(s.type._context),zt(s),null;case 17:return Jt(s.type)&&eu(),zt(s),null;case 19:if(Xe(it),p=s.memoizedState,p===null)return zt(s),null;if(h=(s.flags&128)!==0,E=p.rendering,E===null)if(h)ba(p,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(E=hu(n),E!==null){for(s.flags|=128,ba(p,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)p=a,n=h,p.flags&=14680066,E=p.alternate,E===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=E.childLanes,p.lanes=E.lanes,p.child=E.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=E.memoizedProps,p.memoizedState=E.memoizedState,p.updateQueue=E.updateQueue,p.type=E.type,n=E.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Qe(it,it.current&1|2),s.child}n=n.sibling}p.tail!==null&&Ye()>go&&(s.flags|=128,h=!0,ba(p,!1),s.lanes=4194304)}else{if(!h)if(n=hu(E),n!==null){if(s.flags|=128,h=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),ba(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!rt)return zt(s),null}else 2*Ye()-p.renderingStartTime>go&&a!==1073741824&&(s.flags|=128,h=!0,ba(p,!1),s.lanes=4194304);p.isBackwards?(E.sibling=s.child,s.child=E):(a=p.last,a!==null?a.sibling=E:s.child=E,p.last=E)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Ye(),s.sibling=null,a=it.current,Qe(it,h?a&1|2:a&1),s):(zt(s),null);case 22:case 23:return ld(),h=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(fn&1073741824)!==0&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function r1(n,s){switch(yh(s),s.tag){case 1:return Jt(s.type)&&eu(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ho(),Xe(Yt),Xe(Ft),Ph(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Rh(s),null;case 13:if(Xe(it),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ao()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Xe(it),null;case 4:return ho(),null;case 10:return Sh(s.type._context),null;case 22:case 23:return ld(),null;case 24:return null;default:return null}}var wu=!1,Bt=!1,i1=typeof WeakSet=="function"?WeakSet:Set,de=null;function po(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ut(n,s,h)}else a.current=null}function Yh(n,s,a){try{a()}catch(h){ut(n,s,h)}}var tg=!1;function s1(n,s){if(lh=Sr,n=bp(),eh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,p=h.focusNode;h=h.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,C=-1,L=-1,$=0,ee=0,te=n,Z=null;t:for(;;){for(var ue;te!==a||d!==0&&te.nodeType!==3||(C=E+d),te!==p||h!==0&&te.nodeType!==3||(L=E+h),te.nodeType===3&&(E+=te.nodeValue.length),(ue=te.firstChild)!==null;)Z=te,te=ue;for(;;){if(te===n)break t;if(Z===a&&++$===d&&(C=E),Z===p&&++ee===h&&(L=E),(ue=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=ue}a=C===-1||L===-1?null:{start:C,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(uh={focusedElem:n,selectionRange:a},Sr=!1,de=s;de!==null;)if(s=de,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,de=n;else for(;de!==null;){s=de;try{var fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,dt=fe.memoizedState,F=s.stateNode,V=F.getSnapshotBeforeUpdate(s.elementType===s.type?me:On(s.type,me),dt);F.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ut(s,s.return,re)}if(n=s.sibling,n!==null){n.return=s.return,de=n;break}de=s.return}return fe=tg,tg=!1,fe}function La(n,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&Yh(s,a,p)}d=d.next}while(d!==h)}}function Eu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Jh(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function ng(n){var s=n.alternate;s!==null&&(n.alternate=null,ng(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[rr],delete s[Sa],delete s[fh],delete s[zw],delete s[Bw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rg(n){return n.tag===5||n.tag===3||n.tag===4}function ig(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xh(n,s,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Xl));else if(h!==4&&(n=n.child,n!==null))for(Xh(n,s,a),n=n.sibling;n!==null;)Xh(n,s,a),n=n.sibling}function Zh(n,s,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(Zh(n,s,a),n=n.sibling;n!==null;)Zh(n,s,a),n=n.sibling}var Dt=null,Vn=!1;function pi(n,s,a){for(a=a.child;a!==null;)sg(n,s,a),a=a.sibling}function sg(n,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Gi,a)}catch{}switch(a.tag){case 5:Bt||po(a,s);case 6:var h=Dt,d=Vn;Dt=null,pi(n,s,a),Dt=h,Vn=d,Dt!==null&&(Vn?(n=Dt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(Vn?(n=Dt,a=a.stateNode,n.nodeType===8?dh(n.parentNode,a):n.nodeType===1&&dh(n,a),ii(n)):dh(Dt,a.stateNode));break;case 4:h=Dt,d=Vn,Dt=a.stateNode.containerInfo,Vn=!0,pi(n,s,a),Dt=h,Vn=d;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var p=d,E=p.destroy;p=p.tag,E!==void 0&&((p&2)!==0||(p&4)!==0)&&Yh(a,s,E),d=d.next}while(d!==h)}pi(n,s,a);break;case 1:if(!Bt&&(po(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(C){ut(a,s,C)}pi(n,s,a);break;case 21:pi(n,s,a);break;case 22:a.mode&1?(Bt=(h=Bt)||a.memoizedState!==null,pi(n,s,a),Bt=h):pi(n,s,a);break;default:pi(n,s,a)}}function og(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new i1),s.forEach(function(h){var d=p1.bind(null,n,h);a.has(h)||(a.add(h),h.then(d,d))})}}function jn(n,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var p=n,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 5:Dt=C.stateNode,Vn=!1;break e;case 3:Dt=C.stateNode.containerInfo,Vn=!0;break e;case 4:Dt=C.stateNode.containerInfo,Vn=!0;break e}C=C.return}if(Dt===null)throw Error(t(160));sg(p,E,d),Dt=null,Vn=!1;var L=d.alternate;L!==null&&(L.return=null),d.return=null}catch($){ut(d,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ag(s,n),s=s.sibling}function ag(n,s){var a=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(jn(s,n),or(n),h&4){try{La(3,n,n.return),Eu(3,n)}catch(me){ut(n,n.return,me)}try{La(5,n,n.return)}catch(me){ut(n,n.return,me)}}break;case 1:jn(s,n),or(n),h&512&&a!==null&&po(a,a.return);break;case 5:if(jn(s,n),or(n),h&512&&a!==null&&po(a,a.return),n.flags&32){var d=n.stateNode;try{$i(d,"")}catch(me){ut(n,n.return,me)}}if(h&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,E=a!==null?a.memoizedProps:p,C=n.type,L=n.updateQueue;if(n.updateQueue=null,L!==null)try{C==="input"&&p.type==="radio"&&p.name!=null&&Ns(d,p),Ls(C,E);var $=Ls(C,p);for(E=0;E<L.length;E+=2){var ee=L[E],te=L[E+1];ee==="style"?bs(d,te):ee==="dangerouslySetInnerHTML"?xl(d,te):ee==="children"?$i(d,te):Y(d,ee,te,$)}switch(C){case"input":Bi(d,p);break;case"textarea":Il(d,p);break;case"select":var Z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ue=p.value;ue!=null?An(d,!!p.multiple,ue,!1):Z!==!!p.multiple&&(p.defaultValue!=null?An(d,!!p.multiple,p.defaultValue,!0):An(d,!!p.multiple,p.multiple?[]:"",!1))}d[Sa]=p}catch(me){ut(n,n.return,me)}}break;case 6:if(jn(s,n),or(n),h&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(me){ut(n,n.return,me)}}break;case 3:if(jn(s,n),or(n),h&4&&a!==null&&a.memoizedState.isDehydrated)try{ii(s.containerInfo)}catch(me){ut(n,n.return,me)}break;case 4:jn(s,n),or(n);break;case 13:jn(s,n),or(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(nd=Ye())),h&4&&og(n);break;case 22:if(ee=a!==null&&a.memoizedState!==null,n.mode&1?(Bt=($=Bt)||ee,jn(s,n),Bt=$):jn(s,n),or(n),h&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!ee&&(n.mode&1)!==0)for(de=n,ee=n.child;ee!==null;){for(te=de=ee;de!==null;){switch(Z=de,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:La(4,Z,Z.return);break;case 1:po(Z,Z.return);var fe=Z.stateNode;if(typeof fe.componentWillUnmount=="function"){h=Z,a=Z.return;try{s=h,fe.props=s.memoizedProps,fe.state=s.memoizedState,fe.componentWillUnmount()}catch(me){ut(h,a,me)}}break;case 5:po(Z,Z.return);break;case 22:if(Z.memoizedState!==null){cg(te);continue}}ue!==null?(ue.return=Z,de=ue):cg(te)}ee=ee.sibling}e:for(ee=null,te=n;;){if(te.tag===5){if(ee===null){ee=te;try{d=te.stateNode,$?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(C=te.stateNode,L=te.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,C.style.display=Qr("display",E))}catch(me){ut(n,n.return,me)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=$?"":te.memoizedProps}catch(me){ut(n,n.return,me)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===n)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===n)break e;for(;te.sibling===null;){if(te.return===null||te.return===n)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:jn(s,n),or(n),h&4&&og(n);break;case 21:break;default:jn(s,n),or(n)}}function or(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(rg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&($i(d,""),h.flags&=-33);var p=ig(n);Zh(n,p,d);break;case 3:case 4:var E=h.stateNode.containerInfo,C=ig(n);Xh(n,C,E);break;default:throw Error(t(161))}}catch(L){ut(n,n.return,L)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function o1(n,s,a){de=n,lg(n)}function lg(n,s,a){for(var h=(n.mode&1)!==0;de!==null;){var d=de,p=d.child;if(d.tag===22&&h){var E=d.memoizedState!==null||wu;if(!E){var C=d.alternate,L=C!==null&&C.memoizedState!==null||Bt;C=wu;var $=Bt;if(wu=E,(Bt=L)&&!$)for(de=d;de!==null;)E=de,L=E.child,E.tag===22&&E.memoizedState!==null?hg(d):L!==null?(L.return=E,de=L):hg(d);for(;p!==null;)de=p,lg(p),p=p.sibling;de=d,wu=C,Bt=$}ug(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,de=p):ug(n)}}function ug(n){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Bt||Eu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Bt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:On(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&cm(s,p,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}cm(s,E,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&a.focus();break;case"img":L.src&&(a.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var ee=$.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&ii(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||s.flags&512&&Jh(s)}catch(Z){ut(s,s.return,Z)}}if(s===n){de=null;break}if(a=s.sibling,a!==null){a.return=s.return,de=a;break}de=s.return}}function cg(n){for(;de!==null;){var s=de;if(s===n){de=null;break}var a=s.sibling;if(a!==null){a.return=s.return,de=a;break}de=s.return}}function hg(n){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Eu(4,s)}catch(L){ut(s,a,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(L){ut(s,d,L)}}var p=s.return;try{Jh(s)}catch(L){ut(s,p,L)}break;case 5:var E=s.return;try{Jh(s)}catch(L){ut(s,E,L)}}}catch(L){ut(s,s.return,L)}if(s===n){de=null;break}var C=s.sibling;if(C!==null){C.return=s.return,de=C;break}de=s.return}}var a1=Math.ceil,Tu=se.ReactCurrentDispatcher,ed=se.ReactCurrentOwner,En=se.ReactCurrentBatchConfig,Ue=0,kt=null,gt=null,bt=0,fn=0,mo=ui(0),Et=0,Oa=null,cs=0,Su=0,td=0,Va=null,Zt=null,nd=0,go=1/0,br=null,Iu=!1,rd=null,mi=null,xu=!1,gi=null,ku=0,ja=0,id=null,Cu=-1,Ru=0;function Qt(){return(Ue&6)!==0?Ye():Cu!==-1?Cu:Cu=Ye()}function yi(n){return(n.mode&1)===0?1:(Ue&2)!==0&&bt!==0?bt&-bt:Hw.transition!==null?(Ru===0&&(Ru=ia()),Ru):(n=Me,n!==0||(n=window.event,n=n===void 0?16:Hs(n.type)),n)}function Mn(n,s,a,h){if(50<ja)throw ja=0,id=null,Error(t(185));Xi(n,a,h),((Ue&2)===0||n!==kt)&&(n===kt&&((Ue&2)===0&&(Su|=a),Et===4&&vi(n,bt)),en(n,h),a===1&&Ue===0&&(s.mode&1)===0&&(go=Ye()+500,nu&&hi()))}function en(n,s){var a=n.callbackNode;Ji(n,s);var h=wr(n,n===kt?bt:0);if(h===0)a!==null&&js(a),n.callbackNode=null,n.callbackPriority=0;else if(s=h&-h,n.callbackPriority!==s){if(a!=null&&js(a),s===1)n.tag===0?$w(fg.bind(null,n)):Xp(fg.bind(null,n)),Fw(function(){(Ue&6)===0&&hi()}),a=null;else{switch(Kn(h)){case 1:a=Ms;break;case 4:a=ta;break;case 16:a=Ki;break;case 536870912:a=Fs;break;default:a=Ki}a=Eg(a,dg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function dg(n,s){if(Cu=-1,Ru=0,(Ue&6)!==0)throw Error(t(327));var a=n.callbackNode;if(yo()&&n.callbackNode!==a)return null;var h=wr(n,n===kt?bt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||s)s=Au(n,h);else{s=h;var d=Ue;Ue|=2;var p=mg();(kt!==n||bt!==s)&&(br=null,go=Ye()+500,ds(n,s));do try{c1();break}catch(C){pg(n,C)}while(!0);Th(),Tu.current=p,Ue=d,gt!==null?s=0:(kt=null,bt=0,s=Et)}if(s!==0){if(s===2&&(d=ra(n),d!==0&&(h=d,s=sd(n,d))),s===1)throw a=Oa,ds(n,0),vi(n,h),en(n,Ye()),a;if(s===6)vi(n,h);else{if(d=n.current.alternate,(h&30)===0&&!l1(d)&&(s=Au(n,h),s===2&&(p=ra(n),p!==0&&(h=p,s=sd(n,p))),s===1))throw a=Oa,ds(n,0),vi(n,h),en(n,Ye()),a;switch(n.finishedWork=d,n.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:fs(n,Zt,br);break;case 3:if(vi(n,h),(h&130023424)===h&&(s=nd+500-Ye(),10<s)){if(wr(n,0)!==0)break;if(d=n.suspendedLanes,(d&h)!==h){Qt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=hh(fs.bind(null,n,Zt,br),s);break}fs(n,Zt,br);break;case 4:if(vi(n,h),(h&4194240)===h)break;for(s=n.eventTimes,d=-1;0<h;){var E=31-on(h);p=1<<E,E=s[E],E>d&&(d=E),h&=~p}if(h=d,h=Ye()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*a1(h/1960))-h,10<h){n.timeoutHandle=hh(fs.bind(null,n,Zt,br),h);break}fs(n,Zt,br);break;case 5:fs(n,Zt,br);break;default:throw Error(t(329))}}}return en(n,Ye()),n.callbackNode===a?dg.bind(null,n):null}function sd(n,s){var a=Va;return n.current.memoizedState.isDehydrated&&(ds(n,s).flags|=256),n=Au(n,s),n!==2&&(s=Zt,Zt=a,s!==null&&od(s)),n}function od(n){Zt===null?Zt=n:Zt.push.apply(Zt,n)}function l1(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],p=d.getSnapshot;d=d.value;try{if(!bn(p(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vi(n,s){for(s&=~td,s&=~Su,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-on(s),h=1<<a;n[a]=-1,s&=~h}}function fg(n){if((Ue&6)!==0)throw Error(t(327));yo();var s=wr(n,0);if((s&1)===0)return en(n,Ye()),null;var a=Au(n,s);if(n.tag!==0&&a===2){var h=ra(n);h!==0&&(s=h,a=sd(n,h))}if(a===1)throw a=Oa,ds(n,0),vi(n,s),en(n,Ye()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,fs(n,Zt,br),en(n,Ye()),null}function ad(n,s){var a=Ue;Ue|=1;try{return n(s)}finally{Ue=a,Ue===0&&(go=Ye()+500,nu&&hi())}}function hs(n){gi!==null&&gi.tag===0&&(Ue&6)===0&&yo();var s=Ue;Ue|=1;var a=En.transition,h=Me;try{if(En.transition=null,Me=1,n)return n()}finally{Me=h,En.transition=a,Ue=s,(Ue&6)===0&&hi()}}function ld(){fn=mo.current,Xe(mo)}function ds(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Mw(a)),gt!==null)for(a=gt.return;a!==null;){var h=a;switch(yh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&eu();break;case 3:ho(),Xe(Yt),Xe(Ft),Ph();break;case 5:Rh(h);break;case 4:ho();break;case 13:Xe(it);break;case 19:Xe(it);break;case 10:Sh(h.type._context);break;case 22:case 23:ld()}a=a.return}if(kt=n,gt=n=_i(n.current,null),bt=fn=s,Et=0,Oa=null,td=Su=cs=0,Zt=Va=null,as!==null){for(s=0;s<as.length;s++)if(a=as[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,p=a.pending;if(p!==null){var E=p.next;p.next=d,h.next=E}a.pending=h}as=null}return n}function pg(n,s){do{var a=gt;try{if(Th(),du.current=gu,fu){for(var h=st.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}fu=!1}if(us=0,xt=wt=st=null,Aa=!1,Pa=0,ed.current=null,a===null||a.return===null){Et=1,Oa=s,gt=null;break}e:{var p=n,E=a.return,C=a,L=s;if(s=bt,C.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var $=L,ee=C,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=Fm(E);if(ue!==null){ue.flags&=-257,Um(ue,E,C,p,s),ue.mode&1&&Mm(p,$,s),s=ue,L=$;var fe=s.updateQueue;if(fe===null){var me=new Set;me.add(L),s.updateQueue=me}else fe.add(L);break e}else{if((s&1)===0){Mm(p,$,s),ud();break e}L=Error(t(426))}}else if(rt&&C.mode&1){var dt=Fm(E);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),Um(dt,E,C,p,s),wh(fo(L,C));break e}}p=L=fo(L,C),Et!==4&&(Et=2),Va===null?Va=[p]:Va.push(p),p=E;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var F=Vm(p,L,s);um(p,F);break e;case 1:C=L;var V=p.type,z=p.stateNode;if((p.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(mi===null||!mi.has(z)))){p.flags|=65536,s&=-s,p.lanes|=s;var re=jm(p,C,s);um(p,re);break e}}p=p.return}while(p!==null)}yg(a)}catch(ve){s=ve,gt===a&&a!==null&&(gt=a=a.return);continue}break}while(!0)}function mg(){var n=Tu.current;return Tu.current=gu,n===null?gu:n}function ud(){(Et===0||Et===3||Et===2)&&(Et=4),kt===null||(cs&268435455)===0&&(Su&268435455)===0||vi(kt,bt)}function Au(n,s){var a=Ue;Ue|=2;var h=mg();(kt!==n||bt!==s)&&(br=null,ds(n,s));do try{u1();break}catch(d){pg(n,d)}while(!0);if(Th(),Ue=a,Tu.current=h,gt!==null)throw Error(t(261));return kt=null,bt=0,Et}function u1(){for(;gt!==null;)gg(gt)}function c1(){for(;gt!==null&&!qi();)gg(gt)}function gg(n){var s=wg(n.alternate,n,fn);n.memoizedProps=n.pendingProps,s===null?yg(n):gt=s,ed.current=null}function yg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=n1(a,s,fn),a!==null){gt=a;return}}else{if(a=r1(a,s),a!==null){a.flags&=32767,gt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Et=6,gt=null;return}}if(s=s.sibling,s!==null){gt=s;return}gt=s=n}while(s!==null);Et===0&&(Et=5)}function fs(n,s,a){var h=Me,d=En.transition;try{En.transition=null,Me=1,h1(n,s,a,h)}finally{En.transition=d,Me=h}return null}function h1(n,s,a,h){do yo();while(gi!==null);if((Ue&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(Qc(n,p),n===kt&&(gt=kt=null,bt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||xu||(xu=!0,Eg(Ki,function(){return yo(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=En.transition,En.transition=null;var E=Me;Me=1;var C=Ue;Ue|=4,ed.current=null,s1(n,a),ag(a,n),Nw(uh),Sr=!!lh,uh=lh=null,n.current=a,o1(a),_r(),Ue=C,Me=E,En.transition=p}else n.current=a;if(xu&&(xu=!1,gi=n,ku=d),p=n.pendingLanes,p===0&&(mi=null),Vl(a.stateNode),en(n,Ye()),s!==null)for(h=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Iu)throw Iu=!1,n=rd,rd=null,n;return(ku&1)!==0&&n.tag!==0&&yo(),p=n.pendingLanes,(p&1)!==0?n===id?ja++:(ja=0,id=n):ja=0,hi(),null}function yo(){if(gi!==null){var n=Kn(ku),s=En.transition,a=Me;try{if(En.transition=null,Me=16>n?16:n,gi===null)var h=!1;else{if(n=gi,gi=null,ku=0,(Ue&6)!==0)throw Error(t(331));var d=Ue;for(Ue|=4,de=n.current;de!==null;){var p=de,E=p.child;if((de.flags&16)!==0){var C=p.deletions;if(C!==null){for(var L=0;L<C.length;L++){var $=C[L];for(de=$;de!==null;){var ee=de;switch(ee.tag){case 0:case 11:case 15:La(8,ee,p)}var te=ee.child;if(te!==null)te.return=ee,de=te;else for(;de!==null;){ee=de;var Z=ee.sibling,ue=ee.return;if(ng(ee),ee===$){de=null;break}if(Z!==null){Z.return=ue,de=Z;break}de=ue}}}var fe=p.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var dt=me.sibling;me.sibling=null,me=dt}while(me!==null)}}de=p}}if((p.subtreeFlags&2064)!==0&&E!==null)E.return=p,de=E;else e:for(;de!==null;){if(p=de,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:La(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,de=F;break e}de=p.return}}var V=n.current;for(de=V;de!==null;){E=de;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,de=z;else e:for(E=V;de!==null;){if(C=de,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Eu(9,C)}}catch(ve){ut(C,C.return,ve)}if(C===E){de=null;break e}var re=C.sibling;if(re!==null){re.return=C.return,de=re;break e}de=C.return}}if(Ue=d,hi(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Gi,n)}catch{}h=!0}return h}finally{Me=a,En.transition=s}}return!1}function vg(n,s,a){s=fo(a,s),s=Vm(n,s,1),n=fi(n,s,1),s=Qt(),n!==null&&(Xi(n,1,s),en(n,s))}function ut(n,s,a){if(n.tag===3)vg(n,n,a);else for(;s!==null;){if(s.tag===3){vg(s,n,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(mi===null||!mi.has(h))){n=fo(a,n),n=jm(s,n,1),s=fi(s,n,1),n=Qt(),s!==null&&(Xi(s,1,n),en(s,n));break}}s=s.return}}function d1(n,s,a){var h=n.pingCache;h!==null&&h.delete(s),s=Qt(),n.pingedLanes|=n.suspendedLanes&a,kt===n&&(bt&a)===a&&(Et===4||Et===3&&(bt&130023424)===bt&&500>Ye()-nd?ds(n,0):td|=a),en(n,s)}function _g(n,s){s===0&&((n.mode&1)===0?s=1:(s=ti,ti<<=1,(ti&130023424)===0&&(ti=4194304)));var a=Qt();n=Pr(n,s),n!==null&&(Xi(n,s,a),en(n,a))}function f1(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),_g(n,a)}function p1(n,s){var a=0;switch(n.tag){case 13:var h=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),_g(n,a)}var wg;wg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Yt.current)Xt=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Xt=!1,t1(n,s,a);Xt=(n.flags&131072)!==0}else Xt=!1,rt&&(s.flags&1048576)!==0&&Zp(s,iu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;_u(n,s),n=s.pendingProps;var d=io(s,Ft.current);co(s,a),d=bh(null,s,h,n,d,a);var p=Lh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(h)?(p=!0,tu(s)):p=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,kh(s),d.updater=yu,s.stateNode=d,d._reactInternals=s,Uh(s,h,n,a),s=Hh(null,s,h,!0,p,a)):(s.tag=0,rt&&p&&gh(s),Gt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(_u(n,s),n=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=g1(h),n=On(h,n),d){case 0:s=$h(null,s,h,n,a);break e;case 1:s=qm(null,s,h,n,a);break e;case 11:s=zm(null,s,h,n,a);break e;case 14:s=Bm(null,s,h,On(h.type,n),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:On(h,d),$h(n,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:On(h,d),qm(n,s,h,d,a);case 3:e:{if(Km(s),n===null)throw Error(t(387));h=s.pendingProps,p=s.memoizedState,d=p.element,lm(n,s),cu(s,h,null,a);var E=s.memoizedState;if(h=E.element,p.isDehydrated)if(p={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){d=fo(Error(t(423)),s),s=Gm(n,s,h,a,d);break e}else if(h!==d){d=fo(Error(t(424)),s),s=Gm(n,s,h,a,d);break e}else for(dn=li(s.stateNode.containerInfo.firstChild),hn=s,rt=!0,Ln=null,a=om(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ao(),h===d){s=Dr(n,s,a);break e}Gt(n,s,h,a)}s=s.child}return s;case 5:return hm(s),n===null&&_h(s),h=s.type,d=s.pendingProps,p=n!==null?n.memoizedProps:null,E=d.children,ch(h,d)?E=null:p!==null&&ch(h,p)&&(s.flags|=32),Wm(n,s),Gt(n,s,E,a),s.child;case 6:return n===null&&_h(s),null;case 13:return Qm(n,s,a);case 4:return Ch(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=lo(s,null,h,a):Gt(n,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:On(h,d),zm(n,s,h,d,a);case 7:return Gt(n,s,s.pendingProps,a),s.child;case 8:return Gt(n,s,s.pendingProps.children,a),s.child;case 12:return Gt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,p=s.memoizedProps,E=d.value,Qe(au,h._currentValue),h._currentValue=E,p!==null)if(bn(p.value,E)){if(p.children===d.children&&!Yt.current){s=Dr(n,s,a);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var C=p.dependencies;if(C!==null){E=p.child;for(var L=C.firstContext;L!==null;){if(L.context===h){if(p.tag===1){L=Nr(-1,a&-a),L.tag=2;var $=p.updateQueue;if($!==null){$=$.shared;var ee=$.pending;ee===null?L.next=L:(L.next=ee.next,ee.next=L),$.pending=L}}p.lanes|=a,L=p.alternate,L!==null&&(L.lanes|=a),Ih(p.return,a,s),C.lanes|=a;break}L=L.next}}else if(p.tag===10)E=p.type===s.type?null:p.child;else if(p.tag===18){if(E=p.return,E===null)throw Error(t(341));E.lanes|=a,C=E.alternate,C!==null&&(C.lanes|=a),Ih(E,a,s),E=p.sibling}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===s){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}Gt(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,co(s,a),d=_n(d),h=h(d),s.flags|=1,Gt(n,s,h,a),s.child;case 14:return h=s.type,d=On(h,s.pendingProps),d=On(h.type,d),Bm(n,s,h,d,a);case 15:return $m(n,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:On(h,d),_u(n,s),s.tag=1,Jt(h)?(n=!0,tu(s)):n=!1,co(s,a),Lm(s,h,d),Uh(s,h,d,a),Hh(null,s,h,!0,n,a);case 19:return Jm(n,s,a);case 22:return Hm(n,s,a)}throw Error(t(156,s.tag))};function Eg(n,s){return ea(n,s)}function m1(n,s,a,h){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,s,a,h){return new m1(n,s,a,h)}function cd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function g1(n){if(typeof n=="function")return cd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===tt)return 14}return 2}function _i(n,s){var a=n.alternate;return a===null?(a=Tn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Pu(n,s,a,h,d,p){var E=2;if(h=n,typeof n=="function")cd(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case A:return ps(a.children,d,p,s);case S:E=8,d|=8;break;case k:return n=Tn(12,a,s,d|2),n.elementType=k,n.lanes=p,n;case R:return n=Tn(13,a,s,d),n.elementType=R,n.lanes=p,n;case ze:return n=Tn(19,a,s,d),n.elementType=ze,n.lanes=p,n;case We:return Nu(a,d,p,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:E=10;break e;case D:E=9;break e;case M:E=11;break e;case tt:E=14;break e;case nt:E=16,h=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Tn(E,a,s,d),s.elementType=n,s.type=h,s.lanes=p,s}function ps(n,s,a,h){return n=Tn(7,n,h,s),n.lanes=a,n}function Nu(n,s,a,h){return n=Tn(22,n,h,s),n.elementType=We,n.lanes=a,n.stateNode={isHidden:!1},n}function hd(n,s,a){return n=Tn(6,n,null,s),n.lanes=a,n}function dd(n,s,a){return s=Tn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function y1(n,s,a,h,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function fd(n,s,a,h,d,p,E,C,L){return n=new y1(n,s,a,C,L),s===1?(s=1,p===!0&&(s|=8)):s=0,p=Tn(3,null,null,s),n.current=p,p.stateNode=n,p.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(p),n}function v1(n,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:h==null?null:""+h,children:n,containerInfo:s,implementation:a}}function Tg(n){if(!n)return ci;n=n._reactInternals;e:{if(Nn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Jt(a))return Yp(n,a,s)}return s}function Sg(n,s,a,h,d,p,E,C,L){return n=fd(a,h,!0,n,d,p,E,C,L),n.context=Tg(null),a=n.current,h=Qt(),d=yi(a),p=Nr(h,d),p.callback=s??null,fi(a,p,d),n.current.lanes=d,Xi(n,d,h),en(n,h),n}function Du(n,s,a,h){var d=s.current,p=Qt(),E=yi(d);return a=Tg(a),s.context===null?s.context=a:s.pendingContext=a,s=Nr(p,E),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=fi(d,s,E),n!==null&&(Mn(n,d,E,p),uu(n,d,E)),E}function bu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ig(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function pd(n,s){Ig(n,s),(n=n.alternate)&&Ig(n,s)}function _1(){return null}var xg=typeof reportError=="function"?reportError:function(n){console.error(n)};function md(n){this._internalRoot=n}Lu.prototype.render=md.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Du(n,s,null,null)},Lu.prototype.unmount=md.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;hs(function(){Du(null,n,null,null)}),s[kr]=null}};function Lu(n){this._internalRoot=n}Lu.prototype.unstable_scheduleHydration=function(n){if(n){var s=ua();n={blockedOn:null,target:n,priority:s};for(var a=0;a<an.length&&s!==0&&s<an[a].priority;a++);an.splice(a,0,n),a===0&&Bs(n)}};function gd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ou(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function kg(){}function w1(n,s,a,h,d){if(d){if(typeof h=="function"){var p=h;h=function(){var $=bu(E);p.call($)}}var E=Sg(s,h,n,0,null,!1,!1,"",kg);return n._reactRootContainer=E,n[kr]=E.current,Ea(n.nodeType===8?n.parentNode:n),hs(),E}for(;d=n.lastChild;)n.removeChild(d);if(typeof h=="function"){var C=h;h=function(){var $=bu(L);C.call($)}}var L=fd(n,0,!1,null,null,!1,!1,"",kg);return n._reactRootContainer=L,n[kr]=L.current,Ea(n.nodeType===8?n.parentNode:n),hs(function(){Du(s,L,a,h)}),L}function Vu(n,s,a,h,d){var p=a._reactRootContainer;if(p){var E=p;if(typeof d=="function"){var C=d;d=function(){var L=bu(E);C.call(L)}}Du(s,E,n,d)}else E=w1(a,s,n,d,h);return bu(E)}aa=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=$e(s.pendingLanes);a!==0&&(oa(s,a|1),en(s,Ye()),(Ue&6)===0&&(go=Ye()+500,hi()))}break;case 13:hs(function(){var h=Pr(n,1);if(h!==null){var d=Qt();Mn(h,n,1,d)}}),pd(n,1)}},Us=function(n){if(n.tag===13){var s=Pr(n,134217728);if(s!==null){var a=Qt();Mn(s,n,134217728,a)}pd(n,134217728)}},la=function(n){if(n.tag===13){var s=yi(n),a=Pr(n,s);if(a!==null){var h=Qt();Mn(a,n,s,h)}pd(n,s)}},ua=function(){return Me},ca=function(n,s){var a=Me;try{return Me=n,s()}finally{Me=a}},gr=function(n,s,a){switch(s){case"input":if(Bi(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==n&&h.form===n.form){var d=Zl(h);if(!d)throw Error(t(90));Wo(h),Bi(h,d)}}}break;case"textarea":Il(n,a);break;case"select":s=a.value,s!=null&&An(n,!!a.multiple,s,!1)}},Cl=ad,Rl=hs;var E1={usingClientEntryPoint:!1,Events:[Ia,no,Zl,Jr,Xr,ad]},Ma={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T1={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ol(n),n===null?null:n.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||_1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Gi=ju.inject(T1),sn=ju}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E1,tn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gd(s))throw Error(t(200));return v1(n,s,null,a)},tn.createRoot=function(n,s){if(!gd(n))throw Error(t(299));var a=!1,h="",d=xg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=fd(n,1,!1,null,null,a,!1,h,d),n[kr]=s.current,Ea(n.nodeType===8?n.parentNode:n),new md(s)},tn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Ol(s),n=n===null?null:n.stateNode,n},tn.flushSync=function(n){return hs(n)},tn.hydrate=function(n,s,a){if(!Ou(s))throw Error(t(200));return Vu(null,n,s,!0,a)},tn.hydrateRoot=function(n,s,a){if(!gd(n))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,p="",E=xg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Sg(s,null,n,1,a??null,d,!1,p,E),n[kr]=s.current,Ea(n),h)for(n=0;n<h.length;n++)a=h[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Lu(s)},tn.render=function(n,s,a){if(!Ou(s))throw Error(t(200));return Vu(null,n,s,!1,a)},tn.unmountComponentAtNode=function(n){if(!Ou(n))throw Error(t(40));return n._reactRootContainer?(hs(function(){Vu(null,null,n,!1,function(){n._reactRootContainer=null,n[kr]=null})}),!0):!1},tn.unstable_batchedUpdates=ad,tn.unstable_renderSubtreeIntoContainer=function(n,s,a,h){if(!Ou(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Vu(n,s,a,!1,h)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var Lg;function P1(){if(Lg)return _d.exports;Lg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_d.exports=A1(),_d.exports}var Og;function N1(){if(Og)return Mu;Og=1;var r=P1();return Mu.createRoot=r.createRoot,Mu.hydrateRoot=r.hydrateRoot,Mu}var D1=N1();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vg="popstate";function b1(r={}){function e(o,l){let{pathname:c="/",search:f="",hash:g=""}=ks(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Md("",{pathname:c,search:f,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let g=o.location.href,v=g.indexOf("#");f=v===-1?g:g.slice(0,v)}return f+"#"+(typeof l=="string"?l:el(l))}function i(o,l){kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return O1(e,t,i,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L1(){return Math.random().toString(36).substring(2,10)}function jg(r,e){return{usr:r.state,key:r.key,idx:e}}function Md(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ks(e):e,state:t,key:e&&e.key||i||L1()}}function el({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ks(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function O1(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,f="POP",g=null,v=w();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function w(){return(c.state||{idx:null}).idx}function T(){f="POP";let j=w(),G=j==null?null:j-v;v=j,g&&g({action:f,location:B.location,delta:G})}function x(j,G){f="PUSH";let X=Md(B.location,j,G);t&&t(X,j),v=w()+1;let Y=jg(X,v),se=B.createHref(X);try{c.pushState(Y,"",se)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(se)}l&&g&&g({action:f,location:B.location,delta:1})}function N(j,G){f="REPLACE";let X=Md(B.location,j,G);t&&t(X,j),v=w();let Y=jg(X,v),se=B.createHref(X);c.replaceState(Y,"",se),l&&g&&g({action:f,location:B.location,delta:0})}function W(j){return V1(j)}let B={get action(){return f},get location(){return r(o,c)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Vg,T),g=j,()=>{o.removeEventListener(Vg,T),g=null}},createHref(j){return e(o,j)},createURL:W,encodeLocation(j){let G=W(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:x,replace:N,go(j){return c.go(j)}};return B}function V1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:el(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function fv(r,e,t="/"){return j1(r,e,t,!1)}function j1(r,e,t,i){let o=typeof e=="string"?ks(e):e,l=Mr(o.pathname||"/",t);if(l==null)return null;let c=pv(r);M1(c);let f=null;for(let g=0;f==null&&g<c.length;++g){let v=Q1(l);f=K1(c[g],v,i)}return f}function pv(r,e=[],t=[],i="",o=!1){let l=(c,f,g=o,v)=>{let w={relativePath:v===void 0?c.path||"":v,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(i)&&g)return;ot(w.relativePath.startsWith(i),`Absolute route path "${w.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(i.length)}let T=jr([i,w.relativePath]),x=t.concat(w);c.children&&c.children.length>0&&(ot(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),pv(c.children,e,x,T,g)),!(c.path==null&&!c.index)&&e.push({path:T,score:W1(T,c.index),routesMeta:x})};return r.forEach((c,f)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))l(c,f);else for(let v of mv(c.path))l(c,f,!0,v)}),e}function mv(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=mv(i.join("/")),f=[];return f.push(...c.map(g=>g===""?l:[l,g].join("/"))),o&&f.push(...c),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function M1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:q1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var F1=/^:[\w-]+$/,U1=3,z1=2,B1=1,$1=10,H1=-2,Mg=r=>r==="*";function W1(r,e){let t=r.split("/"),i=t.length;return t.some(Mg)&&(i+=H1),e&&(i+=z1),t.filter(o=>!Mg(o)).reduce((o,l)=>o+(F1.test(l)?U1:l===""?B1:$1),i)}function q1(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function K1(r,e,t=!1){let{routesMeta:i}=r,o={},l="/",c=[];for(let f=0;f<i.length;++f){let g=i[f],v=f===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=ic({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),x=g.route;if(!T&&v&&t&&!i[i.length-1].route.index&&(T=ic({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:jr([l,T.pathname]),pathnameBase:Z1(jr([l,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(l=jr([l,T.pathnameBase]))}return c}function ic(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=G1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((v,{paramName:w,isOptional:T},x)=>{if(w==="*"){let W=f[x]||"";c=l.slice(0,l.length-W.length).replace(/(.)\/+$/,"$1")}const N=f[x];return T&&!N?v[w]=void 0:v[w]=(N||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:c,pattern:r}}function G1(r,e=!1,t=!0){kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,g)=>(i.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Q1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Mr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y1=r=>gv.test(r);function J1(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?ks(r):r,l;if(t)if(Y1(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=Fg(t.substring(1),"/"):l=Fg(t,e)}else l=e;return{pathname:l,search:eE(i),hash:tE(o)}}function Fg(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Td(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yv(r){let e=X1(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function vv(r,e,t,i=!1){let o;typeof r=="string"?o=ks(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),Td("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Td("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Td("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}f=T>=0?e[T]:"/"}let g=J1(o,f),v=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var jr=r=>r.join("/").replace(/\/\/+/g,"/"),Z1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),eE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tE=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,nE=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function rE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function iE(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wv(r,e){let t=r;if(typeof t!="string"||!gv.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,o=!1;if(_v)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),f=Mr(c.pathname,e);c.origin===l.origin&&f!=null?t=f+c.search+c.hash:o=!0}catch{kn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ev=["POST","PUT","PATCH","DELETE"];new Set(Ev);var sE=["GET",...Ev];new Set(sE);var Vo=O.createContext(null);Vo.displayName="DataRouter";var kc=O.createContext(null);kc.displayName="DataRouterState";var oE=O.createContext(!1),Tv=O.createContext({isTransitioning:!1});Tv.displayName="ViewTransition";var aE=O.createContext(new Map);aE.displayName="Fetchers";var lE=O.createContext(null);lE.displayName="Await";var Cn=O.createContext(null);Cn.displayName="Navigation";var cl=O.createContext(null);cl.displayName="Location";var mr=O.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var mf=O.createContext(null);mf.displayName="RouteError";var Sv="REACT_ROUTER_ERROR",uE="REDIRECT",cE="ROUTE_ERROR_RESPONSE";function hE(r){if(r.startsWith(`${Sv}:${uE}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function dE(r){if(r.startsWith(`${Sv}:${cE}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nE(e.status,e.statusText,e.data)}catch{}}function fE(r,{relative:e}={}){ot(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=O.useContext(Cn),{hash:o,pathname:l,search:c}=dl(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:jr([t,l])),i.createHref({pathname:f,search:c,hash:o})}function hl(){return O.useContext(cl)!=null}function Fi(){return ot(hl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(cl).location}var Iv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xv(r){O.useContext(Cn).static||O.useLayoutEffect(r)}function Rn(){let{isDataRoute:r}=O.useContext(mr);return r?CE():pE()}function pE(){ot(hl(),"useNavigate() may be used only in the context of a <Router> component.");let r=O.useContext(Vo),{basename:e,navigator:t}=O.useContext(Cn),{matches:i}=O.useContext(mr),{pathname:o}=Fi(),l=JSON.stringify(yv(i)),c=O.useRef(!1);return xv(()=>{c.current=!0}),O.useCallback((g,v={})=>{if(kn(c.current,Iv),!c.current)return;if(typeof g=="number"){t.go(g);return}let w=vv(g,JSON.parse(l),o,v.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:jr([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,l,o,r])}O.createContext(null);function mE(){let{matches:r}=O.useContext(mr),e=r[r.length-1];return e?e.params:{}}function dl(r,{relative:e}={}){let{matches:t}=O.useContext(mr),{pathname:i}=Fi(),o=JSON.stringify(yv(t));return O.useMemo(()=>vv(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function gE(r,e){return kv(r,e)}function kv(r,e,t,i,o){var X;ot(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Cn),{matches:c}=O.useContext(mr),f=c[c.length-1],g=f?f.params:{},v=f?f.pathname:"/",w=f?f.pathnameBase:"/",T=f&&f.route;{let Y=T&&T.path||"";Rv(v,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let x=Fi(),N;if(e){let Y=typeof e=="string"?ks(e):e;ot(w==="/"||((X=Y.pathname)==null?void 0:X.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),N=Y}else N=x;let W=N.pathname||"/",B=W;if(w!=="/"){let Y=w.replace(/^\//,"").split("/");B="/"+W.replace(/^\//,"").split("/").slice(Y.length).join("/")}let j=fv(r,{pathname:B});kn(T||j!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),kn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=EE(j&&j.map(Y=>Object.assign({},Y,{params:Object.assign({},g,Y.params),pathname:jr([w,l.encodeLocation?l.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?w:jr([w,l.encodeLocation?l.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),c,t,i,o);return e&&G?O.createElement(cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},G):G}function yE(){let r=kE(),e=rE(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:o},t):null,c)}var vE=O.createElement(yE,null),Cv=class extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=dE(r.digest);t&&(r=t)}let e=r!==void 0?O.createElement(mr.Provider,{value:this.props.routeContext},O.createElement(mf.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?O.createElement(_E,{error:r},e):e}};Cv.contextType=oE;var Sd=new WeakMap;function _E({children:r,error:e}){let{basename:t}=O.useContext(Cn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=hE(e.digest);if(i){let o=Sd.get(e);if(o)throw o;let l=wv(i.location,t);if(_v&&!Sd.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Sd.set(e,c),c}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function wE({routeContext:r,match:e,children:t}){let i=O.useContext(Vo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(mr.Provider,{value:r},t)}function EE(r,e=[],t=null,i=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t==null?void 0:t.errors;if(c!=null){let w=l.findIndex(T=>T.route.id&&(c==null?void 0:c[T.route.id])!==void 0);ot(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,w+1))}let f=!1,g=-1;if(t)for(let w=0;w<l.length;w++){let T=l[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=w),T.route.id){let{loaderData:x,errors:N}=t,W=T.route.loader&&!x.hasOwnProperty(T.route.id)&&(!N||N[T.route.id]===void 0);if(T.route.lazy||W){f=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let v=t&&i?(w,T)=>{var x,N;i(w,{location:t.location,params:((N=(x=t.matches)==null?void 0:x[0])==null?void 0:N.params)??{},unstable_pattern:iE(t.matches),errorInfo:T})}:void 0;return l.reduceRight((w,T,x)=>{let N,W=!1,B=null,j=null;t&&(N=c&&T.route.id?c[T.route.id]:void 0,B=T.route.errorElement||vE,f&&(g<0&&x===0?(Rv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,j=null):g===x&&(W=!0,j=T.route.hydrateFallbackElement||null)));let G=e.concat(l.slice(0,x+1)),X=()=>{let Y;return N?Y=B:W?Y=j:T.route.Component?Y=O.createElement(T.route.Component,null):T.route.element?Y=T.route.element:Y=w,O.createElement(wE,{match:T,routeContext:{outlet:w,matches:G,isDataRoute:t!=null},children:Y})};return t&&(T.route.ErrorBoundary||T.route.errorElement||x===0)?O.createElement(Cv,{location:t.location,revalidation:t.revalidation,component:B,error:N,children:X(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:v}):X()},null)}function gf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TE(r){let e=O.useContext(Vo);return ot(e,gf(r)),e}function SE(r){let e=O.useContext(kc);return ot(e,gf(r)),e}function IE(r){let e=O.useContext(mr);return ot(e,gf(r)),e}function yf(r){let e=IE(r),t=e.matches[e.matches.length-1];return ot(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function xE(){return yf("useRouteId")}function kE(){var i;let r=O.useContext(mf),e=SE("useRouteError"),t=yf("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function CE(){let{router:r}=TE("useNavigate"),e=yf("useNavigate"),t=O.useRef(!1);return xv(()=>{t.current=!0}),O.useCallback(async(o,l={})=>{kn(t.current,Iv),t.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Ug={};function Rv(r,e,t){!e&&!Ug[r]&&(Ug[r]=!0,kn(!1,t))}O.memo(RE);function RE({routes:r,future:e,state:t,onError:i}){return kv(r,void 0,t,i,e)}function Sn(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AE({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){ot(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),g=O.useMemo(()=>({basename:f,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[f,o,l,c]);typeof t=="string"&&(t=ks(t));let{pathname:v="/",search:w="",hash:T="",state:x=null,key:N="default"}=t,W=O.useMemo(()=>{let B=Mr(v,f);return B==null?null:{location:{pathname:B,search:w,hash:T,state:x,key:N},navigationType:i}},[f,v,w,T,x,N,i]);return kn(W!=null,`<Router basename="${f}"> is not able to match the URL "${v}${w}${T}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:O.createElement(Cn.Provider,{value:g},O.createElement(cl.Provider,{children:e,value:W}))}function PE({children:r,location:e}){return gE(Fd(r),e)}function Fd(r,e=[]){let t=[];return O.Children.forEach(r,(i,o)=>{if(!O.isValidElement(i))return;let l=[...e,o];if(i.type===O.Fragment){t.push.apply(t,Fd(i.props.children,l));return}ot(i.type===Sn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Fd(i.props.children,l)),t.push(c)}),t}var qu="get",Ku="application/x-www-form-urlencoded";function Cc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function NE(r){return Cc(r)&&r.tagName.toLowerCase()==="button"}function DE(r){return Cc(r)&&r.tagName.toLowerCase()==="form"}function bE(r){return Cc(r)&&r.tagName.toLowerCase()==="input"}function LE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function OE(r,e){return r.button===0&&(!e||e==="_self")&&!LE(r)}var Fu=null;function VE(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var jE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Id(r){return r!=null&&!jE.has(r)?(kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ku}"`),null):r}function ME(r,e){let t,i,o,l,c;if(DE(r)){let f=r.getAttribute("action");i=f?Mr(f,e):null,t=r.getAttribute("method")||qu,o=Id(r.getAttribute("enctype"))||Ku,l=new FormData(r)}else if(NE(r)||bE(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||f.getAttribute("action");if(i=g?Mr(g,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||qu,o=Id(r.getAttribute("formenctype"))||Id(f.getAttribute("enctype"))||Ku,l=new FormData(f,r),!VE()){let{name:v,type:w,value:T}=r;if(w==="image"){let x=v?`${v}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else v&&l.append(v,T)}}else{if(Cc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qu,i=null,o=Ku,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function FE(r,e,t,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&Mr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function UE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BE(r,e,t){let i=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await UE(l,t);return c.links?c.links():[]}return[]}));return qE(i.flat(1).filter(zE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zg(r,e,t,i,o,l){let c=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,f=(g,v)=>{var w;return t[v].pathname!==g.pathname||((w=t[v].route.path)==null?void 0:w.endsWith("*"))&&t[v].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,v)=>c(g,v)||f(g,v)):l==="data"?e.filter((g,v)=>{var T;let w=i.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(c(g,v)||f(g,v))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function $E(r,e,{includeHydrateFallback:t}={}){return HE(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function HE(r){return[...new Set(r)]}function WE(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function qE(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let l=JSON.stringify(WE(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function Av(){let r=O.useContext(Vo);return vf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function KE(){let r=O.useContext(kc);return vf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _f=O.createContext(void 0);_f.displayName="FrameworkContext";function Pv(){let r=O.useContext(_f);return vf(r,"You must render this element inside a <HydratedRouter> element"),r}function GE(r,e){let t=O.useContext(_f),[i,o]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:T}=e,x=O.useRef(null);O.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let B=G=>{G.forEach(X=>{c(X.isIntersecting)})},j=new IntersectionObserver(B,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[r]),O.useEffect(()=>{if(i){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[i]);let N=()=>{o(!0)},W=()=>{o(!1),c(!1)};return t?r!=="intent"?[l,x,{}]:[l,x,{onFocus:Ua(f,N),onBlur:Ua(g,W),onMouseEnter:Ua(v,N),onMouseLeave:Ua(w,W),onTouchStart:Ua(T,N)}]:[!1,x,{}]}function Ua(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function QE({page:r,...e}){let{router:t}=Av(),i=O.useMemo(()=>fv(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?O.createElement(JE,{page:r,matches:i,...e}):null}function YE(r){let{manifest:e,routeModules:t}=Pv(),[i,o]=O.useState([]);return O.useEffect(()=>{let l=!1;return BE(r,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,t]),i}function JE({page:r,matches:e,...t}){let i=Fi(),{future:o,manifest:l,routeModules:c}=Pv(),{basename:f}=Av(),{loaderData:g,matches:v}=KE(),w=O.useMemo(()=>zg(r,e,v,l,i,"data"),[r,e,v,l,i]),T=O.useMemo(()=>zg(r,e,v,l,i,"assets"),[r,e,v,l,i]),x=O.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let B=new Set,j=!1;if(e.forEach(X=>{var se;let Y=l.routes[X.route.id];!Y||!Y.hasLoader||(!w.some(pe=>pe.route.id===X.route.id)&&X.route.id in g&&((se=c[X.route.id])!=null&&se.shouldRevalidate)||Y.hasClientLoader?j=!0:B.add(X.route.id))}),B.size===0)return[];let G=FE(r,f,o.unstable_trailingSlashAwareDataRequests,"data");return j&&B.size>0&&G.searchParams.set("_routes",e.filter(X=>B.has(X.route.id)).map(X=>X.route.id).join(",")),[G.pathname+G.search]},[f,o.unstable_trailingSlashAwareDataRequests,g,i,l,w,e,r,c]),N=O.useMemo(()=>$E(T,l),[T,l]),W=YE(T);return O.createElement(O.Fragment,null,x.map(B=>O.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...t})),N.map(B=>O.createElement("link",{key:B,rel:"modulepreload",href:B,...t})),W.map(({key:B,link:j})=>O.createElement("link",{key:B,nonce:t.nonce,...j})))}function XE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZE&&(window.__reactRouterVersion="7.12.0")}catch{}function eT({basename:r,children:e,unstable_useTransitions:t,window:i}){let o=O.useRef();o.current==null&&(o.current=b1({window:i,v5Compat:!0}));let l=o.current,[c,f]=O.useState({action:l.action,location:l.location}),g=O.useCallback(v=>{t===!1?f(v):O.startTransition(()=>f(v))},[t]);return O.useLayoutEffect(()=>l.listen(g),[l,g]),O.createElement(AE,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gs=O.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:f,target:g,to:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:x,...N},W){let{basename:B,unstable_useTransitions:j}=O.useContext(Cn),G=typeof v=="string"&&Nv.test(v),X=wv(v,B);v=X.to;let Y=fE(v,{relative:o}),[se,pe,le]=GE(i,N),A=iT(v,{replace:c,state:f,target:g,preventScrollReset:w,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:x,unstable_useTransitions:j});function S(P){e&&e(P),P.defaultPrevented||A(P)}let k=O.createElement("a",{...N,...le,href:X.absoluteURL||Y,onClick:X.isExternal||l?e:S,ref:XE(W,pe),target:g,"data-discover":!G&&t==="render"?"true":void 0});return se&&!G?O.createElement(O.Fragment,null,k,O.createElement(QE,{page:Y})):k});gs.displayName="Link";var tT=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:f,children:g,...v},w){let T=dl(c,{relative:v.relative}),x=Fi(),N=O.useContext(kc),{navigator:W,basename:B}=O.useContext(Cn),j=N!=null&&uT(T)&&f===!0,G=W.encodeLocation?W.encodeLocation(T).pathname:T.pathname,X=x.pathname,Y=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(X=X.toLowerCase(),Y=Y?Y.toLowerCase():null,G=G.toLowerCase()),Y&&B&&(Y=Mr(Y,B)||Y);const se=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let pe=X===G||!o&&X.startsWith(G)&&X.charAt(se)==="/",le=Y!=null&&(Y===G||!o&&Y.startsWith(G)&&Y.charAt(G.length)==="/"),A={isActive:pe,isPending:le,isTransitioning:j},S=pe?e:void 0,k;typeof i=="function"?k=i(A):k=[i,pe?"active":null,le?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(A):l;return O.createElement(gs,{...v,"aria-current":S,className:k,ref:w,style:P,to:c,viewTransition:f},typeof g=="function"?g(A):g)});tT.displayName="NavLink";var nT=O.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=qu,action:f,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:x,...N},W)=>{let{unstable_useTransitions:B}=O.useContext(Cn),j=aT(),G=lT(f,{relative:v}),X=c.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&Nv.test(f),se=pe=>{if(g&&g(pe),pe.defaultPrevented)return;pe.preventDefault();let le=pe.nativeEvent.submitter,A=(le==null?void 0:le.getAttribute("formmethod"))||c,S=()=>j(le||pe.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:o,state:l,relative:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:x});B&&t!==!1?O.startTransition(()=>S()):S()};return O.createElement("form",{ref:W,method:X,action:G,onSubmit:i?g:se,...N,"data-discover":!Y&&r==="render"?"true":void 0})});nT.displayName="Form";function rT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dv(r){let e=O.useContext(Vo);return ot(e,rT(r)),e}function iT(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:g}={}){let v=Rn(),w=Fi(),T=dl(r,{relative:l});return O.useCallback(x=>{if(OE(x,e)){x.preventDefault();let N=t!==void 0?t:el(w)===el(T),W=()=>v(r,{replace:N,state:i,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});g?O.startTransition(()=>W()):W()}},[w,v,T,t,i,e,r,o,l,c,f,g])}var sT=0,oT=()=>`__${String(++sT)}__`;function aT(){let{router:r}=Dv("useSubmit"),{basename:e}=O.useContext(Cn),t=xE(),i=r.fetch,o=r.navigate;return O.useCallback(async(l,c={})=>{let{action:f,method:g,encType:v,formData:w,body:T}=ME(l,e);if(c.navigate===!1){let x=c.fetcherKey||oT();await i(x,t,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:w,body:T,formMethod:c.method||g,formEncType:c.encType||v,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:w,body:T,formMethod:c.method||g,formEncType:c.encType||v,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,o,e,t])}function lT(r,{relative:e}={}){let{basename:t}=O.useContext(Cn),i=O.useContext(mr);ot(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...dl(r||".",{relative:e})},c=Fi();if(r==null){l.search=c.search;let f=new URLSearchParams(l.search),g=f.getAll("index");if(g.some(w=>w==="")){f.delete("index"),g.filter(T=>T).forEach(T=>f.append("index",T));let w=f.toString();l.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:jr([t,l.pathname])),el(l)}function uT(r,{relative:e}={}){let t=O.useContext(Tv);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Dv("useViewTransitionState"),o=dl(r,{relative:e});if(!t.isTransitioning)return!1;let l=Mr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Mr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ic(o.pathname,c)!=null||ic(o.pathname,l)!=null}/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bv=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=O.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...f},g)=>O.createElement("svg",{ref:g,...hT,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:bv("lucide",o),...f},[...c.map(([v,w])=>O.createElement(v,w)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(r,e)=>{const t=O.forwardRef(({className:i,...o},l)=>O.createElement(dT,{ref:l,iconNode:e,className:bv(`lucide-${cT(r)}`,i),...o}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],pT=be("Activity",fT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Di=be("ArrowLeft",mT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yT=be("ArrowRight",gT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]],_T=be("BatteryLow",vT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wf=be("Calendar",wT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Lv=be("Camera",ET);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],ST=be("ChartNoAxesColumn",TT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xT=be("Check",IT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ef=be("CircleAlert",kT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ov=be("CircleCheckBig",CT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],AT=be("Clock",RT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],NT=be("CloudSun",PT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],bT=be("Cloud",DT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],OT=be("Coffee",LT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ud=be("Download",VT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],MT=be("House",jT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],UT=be("List",FT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],BT=be("Loader",zT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Vv=be("LogIn",$T);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],WT=be("LogOut",HT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Tf=be("Moon",qT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zd=be("Plus",KT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jv=be("RefreshCw",GT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],YT=be("Save",QT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XT=be("Settings",JT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Mv=be("ShieldAlert",ZT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sf=be("Sun",eS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],nS=be("Sunset",tS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iS=be("Target",rS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],oS=be("Trash2",sS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],lS=be("TrendingUp",aS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cS=be("TriangleAlert",uS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],dS=be("Trophy",hS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Fv=be("Upload",fS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Uv=be("User",pS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zv=be("X",mS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bv=be("Zap",gS),yS=()=>{};var Bg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},vS=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],c=r[t++],f=r[t++],g=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,f=c?r[o+1]:0,g=o+2<r.length,v=g?r[o+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let x=(f&15)<<2|v>>6,N=v&63;g||(N=64,c||(x=64)),i.push(t[w],t[T],t[x],t[N])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($v(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||v==null||T==null)throw new _S;const x=l<<2|f>>4;if(i.push(x),v!==64){const N=f<<4&240|v>>2;if(i.push(N),T!==64){const W=v<<6&192|T;i.push(W)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(r){const e=$v(r);return Hv.encodeByteArray(e,!0)},sc=function(r){return wS(r).replace(/\./g,"")},Wv=function(r){try{return Hv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=()=>ES().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof Bg>"u")return;const r=Bg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},IS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Wv(r[1]);return e&&JSON.parse(e)},Rc=()=>{try{return yS()||TS()||SS()||IS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qv=r=>{var e,t;return(t=(e=Rc())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},xS=r=>{const e=qv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Kv=()=>{var r;return(r=Rc())==null?void 0:r.config},Gv=r=>{var e;return(e=Rc())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[sc(JSON.stringify(t)),sc(JSON.stringify(c)),""].join(".")}const Ka={};function RS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ka))Ka[e]?r.emulator.push(e):r.prod.push(e);return r}function AS(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let $g=!1;function Yv(r,e){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||Ka[r]===e||Ka[r]||$g)return;Ka[r]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=RS().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function v(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{$g=!0,c()},x}function w(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=AS(i),N=t("text"),W=document.getElementById(N)||document.createElement("span"),B=t("learnmore"),j=document.getElementById(B)||document.createElement("a"),G=t("preprendIcon"),X=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Y=x.element;f(Y),w(j,B);const se=v();g(X,G),Y.append(X,W,j,se),document.body.appendChild(Y)}l?(W.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function NS(){var e;const r=(e=Rc())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OS(){const r=qt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function VS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jS(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="FirebaseError";class Hr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=FS,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?US(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Hr(o,f,i)}}function US(r,e){return r.replace(zS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const zS=/\{\$([^}]+)}/g;function BS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Es(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],c=e[o];if(Hg(l)&&Hg(c)){if(!Es(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Hg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function $S(r,e){const t=new HS(r,e);return t.subscribe.bind(t)}class HS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");WS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=xd),o.error===void 0&&(o.error=xd),o.complete===void 0&&(o.complete=xd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WS(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(r){return r&&r._delegate?r._delegate:r}class Ts{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new kS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GS(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:KS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KS(r){return r===ms?void 0:r}function GS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const YS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},JS=Le.INFO,XS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},ZS=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=XS[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class If{constructor(e){this.name=e,this._logLevel=JS,this._logHandler=ZS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const eI=(r,e)=>e.some(t=>r instanceof t);let Wg,qg;function tI(){return Wg||(Wg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nI(){return qg||(qg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,Bd=new WeakMap,Xv=new WeakMap,kd=new WeakMap,xf=new WeakMap;function rI(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(ki(r.result)),o()},c=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Jv.set(t,r)}).catch(()=>{}),xf.set(e,r),e}function iI(r){if(Bd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Bd.set(r,e)}let $d={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Bd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Xv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ki(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sI(r){$d=r($d)}function oI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Cd(this),e,...t);return Xv.set(i,e.sort?e.sort():[e]),ki(i)}:nI().includes(r)?function(...e){return r.apply(Cd(this),e),ki(Jv.get(this))}:function(...e){return ki(r.apply(Cd(this),e))}}function aI(r){return typeof r=="function"?oI(r):(r instanceof IDBTransaction&&iI(r),eI(r,tI())?new Proxy(r,$d):r)}function ki(r){if(r instanceof IDBRequest)return rI(r);if(kd.has(r))return kd.get(r);const e=aI(r);return e!==r&&(kd.set(r,e),xf.set(e,r)),e}const Cd=r=>xf.get(r);function lI(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),f=ki(c);return i&&c.addEventListener("upgradeneeded",g=>{i(ki(c.result),g.oldVersion,g.newVersion,ki(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const uI=["get","getKey","getAll","getAllKeys","count"],cI=["put","add","delete","clear"],Rd=new Map;function Kg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Rd.get(e))return Rd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=cI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||uI.includes(t)))return;const l=async function(c,...f){const g=this.transaction(c,o?"readwrite":"readonly");let v=g.store;return i&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return Rd.set(e,l),l}sI(r=>({...r,get:(e,t,i)=>Kg(e,t)||r.get(e,t,i),has:(e,t)=>!!Kg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function dI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hd="@firebase/app",Gg="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new If("@firebase/app"),fI="@firebase/app-compat",pI="@firebase/analytics-compat",mI="@firebase/analytics",gI="@firebase/app-check-compat",yI="@firebase/app-check",vI="@firebase/auth",_I="@firebase/auth-compat",wI="@firebase/database",EI="@firebase/data-connect",TI="@firebase/database-compat",SI="@firebase/functions",II="@firebase/functions-compat",xI="@firebase/installations",kI="@firebase/installations-compat",CI="@firebase/messaging",RI="@firebase/messaging-compat",AI="@firebase/performance",PI="@firebase/performance-compat",NI="@firebase/remote-config",DI="@firebase/remote-config-compat",bI="@firebase/storage",LI="@firebase/storage-compat",OI="@firebase/firestore",VI="@firebase/ai",jI="@firebase/firestore-compat",MI="firebase",FI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="[DEFAULT]",UI={[Hd]:"fire-core",[fI]:"fire-core-compat",[mI]:"fire-analytics",[pI]:"fire-analytics-compat",[yI]:"fire-app-check",[gI]:"fire-app-check-compat",[vI]:"fire-auth",[_I]:"fire-auth-compat",[wI]:"fire-rtdb",[EI]:"fire-data-connect",[TI]:"fire-rtdb-compat",[SI]:"fire-fn",[II]:"fire-fn-compat",[xI]:"fire-iid",[kI]:"fire-iid-compat",[CI]:"fire-fcm",[RI]:"fire-fcm-compat",[AI]:"fire-perf",[PI]:"fire-perf-compat",[NI]:"fire-rc",[DI]:"fire-rc-compat",[bI]:"fire-gcs",[LI]:"fire-gcs-compat",[OI]:"fire-fst",[jI]:"fire-fst-compat",[VI]:"fire-vertex","fire-js":"fire-js",[MI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,zI=new Map,qd=new Map;function Qg(r,e){try{r.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Co(r){const e=r.name;if(qd.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;qd.set(e,r);for(const t of oc.values())Qg(t,r);for(const t of zI.values())Qg(t,r);return!0}function kf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Fn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new fl("app","Firebase",BI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=FI;function Zv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Wd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ci.create("bad-app-name",{appName:String(o)});if(t||(t=Kv()),!t)throw Ci.create("no-options");const l=oc.get(o);if(l){if(Es(t,l.options)&&Es(i,l.config))return l;throw Ci.create("duplicate-app",{appName:o})}const c=new QS(o);for(const g of qd.values())c.addComponent(g);const f=new $I(t,i,c);return oc.set(o,f),f}function e_(r=Wd){const e=oc.get(r);if(!e&&r===Wd&&Kv())return Zv();if(!e)throw Ci.create("no-app",{appName:r});return e}function Ri(r,e,t){let i=UI[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(c.join(" "));return}Co(new Ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="firebase-heartbeat-database",WI=1,tl="firebase-heartbeat-store";let Ad=null;function t_(){return Ad||(Ad=lI(HI,WI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(tl)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ci.create("idb-open",{originalErrorMessage:r.message})})),Ad}async function qI(r){try{const t=(await t_()).transaction(tl),i=await t.objectStore(tl).get(n_(r));return await t.done,i}catch(e){if(e instanceof Hr)Fr.warn(e.message);else{const t=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(t.message)}}}async function Yg(r,e){try{const i=(await t_()).transaction(tl,"readwrite");await i.objectStore(tl).put(e,n_(r)),await i.done}catch(t){if(t instanceof Hr)Fr.warn(t.message);else{const i=Ci.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fr.warn(i.message)}}}function n_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=1024,GI=30;class QI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Jg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>GI){const c=XI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Fr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jg(),{heartbeatsToSend:i,unsentEntries:o}=YI(this._heartbeatsCache.heartbeats),l=sc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Fr.warn(t),""}}}function Jg(){return new Date().toISOString().substring(0,10)}function YI(r,e=KI){const t=[];let i=r.slice();for(const o of r){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Xg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Xg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class JI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jS()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Yg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Yg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xg(r){return sc(JSON.stringify({version:2,heartbeats:r})).length}function XI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(r){Co(new Ts("platform-logger",e=>new hI(e),"PRIVATE")),Co(new Ts("heartbeat",e=>new QI(e),"PRIVATE")),Ri(Hd,Gg,r),Ri(Hd,Gg,"esm2020"),Ri("fire-js","")}ZI("");var ex="firebase",tx="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(ex,tx,"app");function r_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nx=r_,i_=new fl("auth","Firebase",r_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new If("@firebase/auth");function rx(r,...e){ac.logLevel<=Le.WARN&&ac.warn(`Auth (${Mo}): ${r}`,...e)}function Gu(r,...e){ac.logLevel<=Le.ERROR&&ac.error(`Auth (${Mo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(r,...e){throw Rf(r,...e)}function zn(r,...e){return Rf(r,...e)}function Cf(r,e,t){const i={...nx(),[e]:t};return new fl("auth","Firebase",i).create(e,{appName:r.name})}function _s(r){return Cf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ix(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&dr(r,"argument-error"),Cf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rf(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return i_.create(r,...e)}function ke(r,e,...t){if(!r)throw Rf(e,...t)}function Or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gu(e),new Error(e)}function Ur(r,e){r||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function sx(){return Zg()==="http:"||Zg()==="https:"}function Zg(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sx()||bS()||"connection"in navigator)?navigator.onLine:!0}function ax(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=PS()||LS()}get(){return ox()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(r,e){Ur(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cx=new ml(3e4,6e4);function Pf(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Fo(r,e,t,i,o={}){return o_(r,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=pl({key:r.config.apiKey,...c}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:g,...l};return DS()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&jo(r.emulatorConfig.host)&&(v.credentials="include"),s_.fetch()(await a_(r,r.config.apiHost,t,f),v)})}async function o_(r,e,t){r._canInitEmulator=!1;const i={...lx,...e};try{const o=new dx(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Uu(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[g,v]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(r,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw Uu(r,"email-already-in-use",c);if(g==="USER_DISABLED")throw Uu(r,"user-disabled",c);const w=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Cf(r,w,v);dr(r,w)}}catch(o){if(o instanceof Hr)throw o;dr(r,"network-request-failed",{message:String(o)})}}async function hx(r,e,t,i,o={}){const l=await Fo(r,e,t,i,o);return"mfaPendingCredential"in l&&dr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function a_(r,e,t,i){const o=`${e}${t}?${i}`,l=r,c=l.config.emulator?Af(r.config,o):`${r.config.apiScheme}://${o}`;return ux.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class dx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(zn(this.auth,"network-request-failed")),cx.get())})}}function Uu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=zn(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(r,e){return Fo(r,"POST","/v1/accounts:delete",e)}async function lc(r,e){return Fo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function px(r,e=!1){const t=Vt(r),i=await t.getIdToken(e),o=Nf(i);ke(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Ga(Pd(o.auth_time)),issuedAtTime:Ga(Pd(o.iat)),expirationTime:Ga(Pd(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Pd(r){return Number(r)*1e3}function Nf(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Wv(t);return o?JSON.parse(o):(Gu("Failed to decode base64 JWT payload"),null)}catch(o){return Gu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ey(r){const e=Nf(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Hr&&mx(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function mx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(r){var T;const e=r.auth,t=await r.getIdToken(),i=await nl(r,lc(e,{idToken:t}));ke(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=(T=o.providerUserInfo)!=null&&T.length?l_(o.providerUserInfo):[],c=vx(r.providerData,l),f=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!(c!=null&&c.length),v=f?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,w)}async function yx(r){const e=Vt(r);await uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vx(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function l_(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(r,e){const t=await o_(r,{},async()=>{const i=pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=await a_(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:i};return r.emulatorConfig&&jo(r.emulatorConfig.host)&&(g.credentials="include"),s_.fetch()(c,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wx(r,e){return Fo(r,"POST","/v2/accounts:revokeToken",Pf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ey(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=ey(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await _x(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new To;return i&&(ke(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(ke(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(ke(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new gx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await nl(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return px(this,e)}reload(){return yx(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await uc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await nl(this,fx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,g=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:N,providerData:W,stsTokenManager:B}=t;ke(T&&B,e,"internal-error");const j=To.fromJSON(this.name,B);ke(typeof T=="string",e,"internal-error"),Ei(i,e.name),Ei(o,e.name),ke(typeof x=="boolean",e,"internal-error"),ke(typeof N=="boolean",e,"internal-error"),Ei(l,e.name),Ei(c,e.name),Ei(f,e.name),Ei(g,e.name),Ei(v,e.name),Ei(w,e.name);const G=new Un({uid:T,auth:e,email:o,emailVerified:x,displayName:i,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:j,createdAt:v,lastLoginAt:w});return W&&Array.isArray(W)&&(G.providerData=W.map(X=>({...X}))),g&&(G._redirectEventId=g),G}static async _fromIdTokenResponse(e,t,i=!1){const o=new To;o.updateFromServerResponse(t);const l=new Un({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await uc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];ke(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?l_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new To;f.updateFromIdToken(i);const g=new Un({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map;function Vr(r){Ur(r instanceof Function,"Expected a class definition");let e=ty.get(r);return e?(Ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ty.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}u_.type="NONE";const ny=u_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(r,e,t){return`firebase:${r}:${e}:${t}`}class So{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Qu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Qu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await lc(this.auth,{idToken:e}).catch(()=>{});return t?Un._fromGetAccountInfoResponse(this.auth,t,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new So(Vr(ny),e,i);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Vr(ny);const c=Qu(i,e.config.apiKey,e.name);let f=null;for(const v of t)try{const w=await v._get(c);if(w){let T;if(typeof w=="string"){const x=await lc(e,{idToken:w}).catch(()=>{});if(!x)break;T=await Un._fromGetAccountInfoResponse(e,x,w)}else T=Un._fromJSON(e,w);v!==l&&(f=T),l=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new So(l,e,i):(l=g[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(c)}catch{}})),new So(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m_(e))return"Blackberry";if(g_(e))return"Webos";if(h_(e))return"Safari";if((e.includes("chrome/")||d_(e))&&!e.includes("edge/"))return"Chrome";if(p_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function c_(r=qt()){return/firefox\//i.test(r)}function h_(r=qt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d_(r=qt()){return/crios\//i.test(r)}function f_(r=qt()){return/iemobile/i.test(r)}function p_(r=qt()){return/android/i.test(r)}function m_(r=qt()){return/blackberry/i.test(r)}function g_(r=qt()){return/webos/i.test(r)}function Df(r=qt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Ex(r=qt()){var e;return Df(r)&&!!((e=window.navigator)!=null&&e.standalone)}function Tx(){return OS()&&document.documentMode===10}function y_(r=qt()){return Df(r)||p_(r)||g_(r)||m_(r)||/windows phone/i.test(r)||f_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r,e=[]){let t;switch(r){case"Browser":t=ry(qt());break;case"Worker":t=`${ry(qt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Mo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const g=e(l);c(g)}catch(g){f(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(r,e={}){return Fo(r,"GET","/v2/passwordPolicy",Pf(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=6;class kx{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??xx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iy(this),this.idTokenSubscription=new iy(this),this.beforeStateQueue=new Sx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vr(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lc(this,{idToken:e}),i=await Un._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===f)&&(g!=null&&g.user)&&(i=g.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ax()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(_s(this));const t=e?Vt(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ix(this),t=new kx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await wx(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vr(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{c=!0,g()}}else{const g=e.addObserver(t);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&rx(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ac(r){return Vt(r)}class iy{constructor(e){this.auth=e,this.observer=null,this.addObserver=$S(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rx(r){bf=r}function Ax(r){return bf.loadJS(r)}function Px(){return bf.gapiScript}function Nx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(r,e){const t=kf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Es(l,e??{}))return o;dr(o,"already-initialized")}return t.initialize({options:e})}function bx(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Vr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Lx(r,e,t){const i=Ac(r);ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=__(e),{host:c,port:f}=Ox(e),g=f===null?"":`:${f}`,v={url:`${l}//${c}${g}/`},w=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){ke(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ke(Es(v,i.config.emulator)&&Es(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,jo(c)?(Qv(`${l}//${c}${g}`),Yv("Auth",!0)):Vx()}function __(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Ox(r){const e=__(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:sy(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:sy(c)}}}function sy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Vx(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,t){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(r,e){return hx(r,"POST","/v1/accounts:signInWithIdp",Pf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="http://localhost";class Ss extends w_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new Ss(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Io(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Io(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Io(e,t)}buildRequest(){const e={requestUri:jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Lf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends gl{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ss._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Lr.credential(t,i)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends gl{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends gl{constructor(){super("twitter.com")}static credential(e,t){return Ss._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ii.credential(t,i)}catch{return null}}}Ii.TWITTER_SIGN_IN_METHOD="twitter.com";Ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Un._fromIdTokenResponse(e,i,o),c=oy(i);return new Ro({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=oy(i);return new Ro({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function oy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Hr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new cc(e,t,i,o)}}function E_(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(r,l,e,i):l})}async function Mx(r,e,t=!1){const i=await nl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ro._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(r,e,t=!1){const{auth:i}=r;if(Fn(i.app))return Promise.reject(_s(i));const o="reauthenticate";try{const l=await nl(r,E_(i,o,e,r),t);ke(l.idToken,i,"internal-error");const c=Nf(l.idToken);ke(c,i,"internal-error");const{sub:f}=c;return ke(r.uid===f,i,"user-mismatch"),Ro._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&dr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(r,e,t=!1){if(Fn(r.app))return Promise.reject(_s(r));const i="signIn",o=await E_(r,i,e),l=await Ro._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function zx(r,e,t,i){return Vt(r).onIdTokenChanged(e,t,i)}function Bx(r,e,t){return Vt(r).beforeAuthStateChanged(e,t)}function $x(r,e,t,i){return Vt(r).onAuthStateChanged(e,t,i)}function Hx(r){return Vt(r).signOut()}const hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=1e3,qx=10;class S_ extends T_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,g)=>{this.notifyListeners(c,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);Tx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qx):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Wx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}S_.type="LOCAL";const Kx=S_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_ extends T_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}I_.type="SESSION";const x_=I_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Pc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async v=>v(t.origin,l)),g=await Gx(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,g)=>{const v=Of("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const x=T;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(w),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function Yx(r){lr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function Jx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xx(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Zx(){return k_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="firebaseLocalStorageDb",ek=1,dc="firebaseLocalStorage",R_="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nc(r,e){return r.transaction([dc],e?"readwrite":"readonly").objectStore(dc)}function tk(){const r=indexedDB.deleteDatabase(C_);return new yl(r).toPromise()}function Qd(){const r=indexedDB.open(C_,ek);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(dc,{keyPath:R_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(dc)?e(i):(i.close(),await tk(),e(await Qd()))})})}async function ay(r,e,t){const i=Nc(r,!0).put({[R_]:e,value:t});return new yl(i).toPromise()}async function nk(r,e){const t=Nc(r,!1).get(e),i=await new yl(t).toPromise();return i===void 0?null:i.value}function ly(r,e){const t=Nc(r,!0).delete(e);return new yl(t).toPromise()}const rk=800,ik=3;class A_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>ik)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pc._getInstance(Zx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Jx(),!this.activeServiceWorker)return;this.sender=new Qx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await ay(e,hc,"1"),await ly(e,hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ay(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>nk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ly(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Nc(o,!1).getAll();return new yl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A_.type="LOCAL";const sk=A_;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(r,e){return e?Vr(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends w_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Io(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ok(r){return Ux(r.auth,new Vf(r),r.bypassAuthState)}function ak(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),Fx(t,new Vf(r),r.bypassAuthState)}async function lk(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),Mx(t,new Vf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ok;case"linkViaPopup":case"linkViaRedirect":return lk;case"reauthViaPopup":case"reauthViaRedirect":return ak;default:dr(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new ml(2e3,1e4);async function ck(r,e,t){if(Fn(r.app))return Promise.reject(zn(r,"operation-not-supported-in-this-environment"));const i=Ac(r);ix(r,e,Lf);const o=P_(i,t);return new ys(i,"signInViaPopup",e,o).executeNotNull()}class ys extends N_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,ys.currentPopupAction&&ys.currentPopupAction.cancel(),ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=Of();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uk.get())};e()}}ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="pendingRedirect",Yu=new Map;class dk extends N_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const i=await fk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fk(r,e){const t=gk(e),i=mk(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function pk(r,e){Yu.set(r._key(),e)}function mk(r){return Vr(r._redirectPersistence)}function gk(r){return Qu(hk,r.config.apiKey,r.name)}async function yk(r,e,t=!1){if(Fn(r.app))return Promise.reject(_s(r));const i=Ac(r),o=P_(i,e),c=await new dk(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=600*1e3;class _k{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!D_(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(zn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vk&&this.cachedEventUids.clear(),this.cachedEventUids.has(uy(e))}saveEventToCache(e){this.cachedEventUids.add(uy(e)),this.lastProcessedEventTime=Date.now()}}function uy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function D_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wk(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(r,e={}){return Fo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sk=/^https?/;async function Ik(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Ek(r);for(const t of e)try{if(xk(t))return}catch{}dr(r,"unauthorized-domain")}function xk(r){const e=Kd(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Sk.test(t))return!1;if(Tk.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new ml(3e4,6e4);function cy(){const r=lr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Ck(r){return new Promise((e,t)=>{var o,l,c;function i(){cy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cy(),t(zn(r,"network-request-failed"))},timeout:kk.get()})}if((l=(o=lr().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=lr().gapi)!=null&&c.load)i();else{const f=Nx("iframefcb");return lr()[f]=()=>{gapi.load?i():t(zn(r,"network-request-failed"))},Ax(`${Px()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function Rk(r){return Ju=Ju||Ck(r),Ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new ml(5e3,15e3),Pk="__/auth/iframe",Nk="emulator/auth/iframe",Dk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lk(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Af(e,Nk):`https://${r.config.authDomain}/${Pk}`,i={apiKey:e.apiKey,appName:r.name,v:Mo},o=bk.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${pl(i).slice(1)}`}async function Ok(r){const e=await Rk(r),t=lr().gapi;return ke(t,r,"internal-error"),e.open({where:document.body,url:Lk(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dk,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=zn(r,"network-request-failed"),f=lr().setTimeout(()=>{l(c)},Ak.get());function g(){lr().clearTimeout(f),o(i)}i.ping(g).then(g,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jk=500,Mk=600,Fk="_blank",Uk="http://localhost";class hy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zk(r,e,t,i=jk,o=Mk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const g={...Vk,width:i.toString(),height:o.toString(),top:l,left:c},v=qt().toLowerCase();t&&(f=d_(v)?Fk:t),c_(v)&&(e=e||Uk,g.scrollbars="yes");const w=Object.entries(g).reduce((x,[N,W])=>`${x}${N}=${W},`,"");if(Ex(v)&&f!=="_self")return Bk(e||"",f),new hy(null);const T=window.open(e||"",f,w);ke(T,r,"popup-blocked");try{T.focus()}catch{}return new hy(T)}function Bk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="__/auth/handler",Hk="emulator/auth/handler",Wk=encodeURIComponent("fac");async function dy(r,e,t,i,o,l){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Mo,eventId:o};if(e instanceof Lf){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",BS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))c[w]=T}if(e instanceof gl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(c.scopes=w.join(","))}r.tenantId&&(c.tid=r.tenantId);const f=c;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const g=await r._getAppCheckToken(),v=g?`#${Wk}=${encodeURIComponent(g)}`:"";return`${qk(r)}?${pl(f).slice(1)}${v}`}function qk({config:r}){return r.emulator?Af(r,Hk):`https://${r.authDomain}/${$k}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class Kk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x_,this._completeRedirectFn=yk,this._overrideRedirectResult=pk}async _openPopup(e,t,i,o){var c;Ur((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await dy(e,t,i,Kd(),o);return zk(e,l,Of())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await dy(e,t,i,Kd(),o);return Yx(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ur(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Ok(e),i=new _k(e);return t.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nd,{type:Nd},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[Nd];l!==void 0&&t(!!l),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ik(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return y_()||h_()||Df()}}const Gk=Kk;var fy="@firebase/auth",py="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jk(r){Co(new Ts("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;ke(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:c,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v_(r)},v=new Cx(i,o,l,g);return bx(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Co(new Ts("auth-internal",e=>{const t=Ac(e.getProvider("auth").getImmediate());return(i=>new Qk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(fy,py,Yk(r)),Ri(fy,py,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=300,Zk=Gv("authIdTokenMaxAge")||Xk;let my=null;const eC=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Zk)return;const o=t==null?void 0:t.token;my!==o&&(my=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tC(r=e_()){const e=kf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Dx(r,{popupRedirectResolver:Gk,persistence:[sk,Kx,x_]}),i=Gv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=eC(l.toString());Bx(t,c,()=>c(t.currentUser)),zx(t,f=>c(f))}}const o=qv("auth");return o&&Lx(t,`http://${o}`),t}function nC(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}Rx({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=zn("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",nC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jk("Browser");var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,b_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function k(){}k.prototype=S.prototype,A.F=S.prototype,A.prototype=new k,A.prototype.constructor=A,A.D=function(P,D,M){for(var R=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)R[ze-2]=arguments[ze];return S.prototype[D].apply(P,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,S,k){k||(k=0);const P=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)P[D]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(D=0;D<16;++D)P[D]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=A.g[0],k=A.g[1],D=A.g[2];let M=A.g[3],R;R=S+(M^k&(D^M))+P[0]+3614090360&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(D^S&(k^D))+P[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=D+(k^M&(S^k))+P[2]+606105819&4294967295,D=M+(R<<17&4294967295|R>>>15),R=k+(S^D&(M^S))+P[3]+3250441966&4294967295,k=D+(R<<22&4294967295|R>>>10),R=S+(M^k&(D^M))+P[4]+4118548399&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(D^S&(k^D))+P[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=D+(k^M&(S^k))+P[6]+2821735955&4294967295,D=M+(R<<17&4294967295|R>>>15),R=k+(S^D&(M^S))+P[7]+4249261313&4294967295,k=D+(R<<22&4294967295|R>>>10),R=S+(M^k&(D^M))+P[8]+1770035416&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(D^S&(k^D))+P[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=D+(k^M&(S^k))+P[10]+4294925233&4294967295,D=M+(R<<17&4294967295|R>>>15),R=k+(S^D&(M^S))+P[11]+2304563134&4294967295,k=D+(R<<22&4294967295|R>>>10),R=S+(M^k&(D^M))+P[12]+1804603682&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(D^S&(k^D))+P[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=D+(k^M&(S^k))+P[14]+2792965006&4294967295,D=M+(R<<17&4294967295|R>>>15),R=k+(S^D&(M^S))+P[15]+1236535329&4294967295,k=D+(R<<22&4294967295|R>>>10),R=S+(D^M&(k^D))+P[1]+4129170786&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^D&(S^k))+P[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=D+(S^k&(M^S))+P[11]+643717713&4294967295,D=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(D^M))+P[0]+3921069994&4294967295,k=D+(R<<20&4294967295|R>>>12),R=S+(D^M&(k^D))+P[5]+3593408605&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^D&(S^k))+P[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=D+(S^k&(M^S))+P[15]+3634488961&4294967295,D=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(D^M))+P[4]+3889429448&4294967295,k=D+(R<<20&4294967295|R>>>12),R=S+(D^M&(k^D))+P[9]+568446438&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^D&(S^k))+P[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=D+(S^k&(M^S))+P[3]+4107603335&4294967295,D=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(D^M))+P[8]+1163531501&4294967295,k=D+(R<<20&4294967295|R>>>12),R=S+(D^M&(k^D))+P[13]+2850285829&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^D&(S^k))+P[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=D+(S^k&(M^S))+P[7]+1735328473&4294967295,D=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(D^M))+P[12]+2368359562&4294967295,k=D+(R<<20&4294967295|R>>>12),R=S+(k^D^M)+P[5]+4294588738&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^D)+P[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=D+(M^S^k)+P[11]+1839030562&4294967295,D=M+(R<<16&4294967295|R>>>16),R=k+(D^M^S)+P[14]+4259657740&4294967295,k=D+(R<<23&4294967295|R>>>9),R=S+(k^D^M)+P[1]+2763975236&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^D)+P[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=D+(M^S^k)+P[7]+4139469664&4294967295,D=M+(R<<16&4294967295|R>>>16),R=k+(D^M^S)+P[10]+3200236656&4294967295,k=D+(R<<23&4294967295|R>>>9),R=S+(k^D^M)+P[13]+681279174&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^D)+P[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=D+(M^S^k)+P[3]+3572445317&4294967295,D=M+(R<<16&4294967295|R>>>16),R=k+(D^M^S)+P[6]+76029189&4294967295,k=D+(R<<23&4294967295|R>>>9),R=S+(k^D^M)+P[9]+3654602809&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^D)+P[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=D+(M^S^k)+P[15]+530742520&4294967295,D=M+(R<<16&4294967295|R>>>16),R=k+(D^M^S)+P[2]+3299628645&4294967295,k=D+(R<<23&4294967295|R>>>9),R=S+(D^(k|~M))+P[0]+4096336452&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~D))+P[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=D+(S^(M|~k))+P[14]+2878612391&4294967295,D=M+(R<<15&4294967295|R>>>17),R=k+(M^(D|~S))+P[5]+4237533241&4294967295,k=D+(R<<21&4294967295|R>>>11),R=S+(D^(k|~M))+P[12]+1700485571&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~D))+P[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=D+(S^(M|~k))+P[10]+4293915773&4294967295,D=M+(R<<15&4294967295|R>>>17),R=k+(M^(D|~S))+P[1]+2240044497&4294967295,k=D+(R<<21&4294967295|R>>>11),R=S+(D^(k|~M))+P[8]+1873313359&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~D))+P[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=D+(S^(M|~k))+P[6]+2734768916&4294967295,D=M+(R<<15&4294967295|R>>>17),R=k+(M^(D|~S))+P[13]+1309151649&4294967295,k=D+(R<<21&4294967295|R>>>11),R=S+(D^(k|~M))+P[4]+4149444226&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~D))+P[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=D+(S^(M|~k))+P[2]+718787259&4294967295,D=M+(R<<15&4294967295|R>>>17),R=k+(M^(D|~S))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+M&4294967295}i.prototype.v=function(A,S){S===void 0&&(S=A.length);const k=S-this.blockSize,P=this.C;let D=this.h,M=0;for(;M<S;){if(D==0)for(;M<=k;)o(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<S;)if(P[D++]=A.charCodeAt(M++),D==this.blockSize){o(this,P),D=0;break}}else for(;M<S;)if(P[D++]=A[M++],D==this.blockSize){o(this,P),D=0;break}}this.h=D,this.o+=S},i.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var k=A.length-8;k<A.length;++k)A[k]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,k=0;k<4;++k)for(let P=0;P<32;P+=8)A[S++]=this.g[k]>>>P&255;return A};function l(A,S){var k=f;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=S(A)}function c(A,S){this.h=S;const k=[];let P=!0;for(let D=A.length-1;D>=0;D--){const M=A[D]|0;P&&M==S||(k[D]=M,P=!1)}this.g=k}var f={};function g(A){return-128<=A&&A<128?l(A,function(S){return new c([S|0],S<0?-1:0)}):new c([A|0],A<0?-1:0)}function v(A){if(isNaN(A)||!isFinite(A))return T;if(A<0)return j(v(-A));const S=[];let k=1;for(let P=0;A>=k;P++)S[P]=A/k|0,k*=4294967296;return new c(S,0)}function w(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return j(w(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=v(Math.pow(S,8));let P=T;for(let M=0;M<A.length;M+=8){var D=Math.min(8,A.length-M);const R=parseInt(A.substring(M,M+D),S);D<8?(D=v(Math.pow(S,D)),P=P.j(D).add(v(R))):(P=P.j(k),P=P.add(v(R)))}return P}var T=g(0),x=g(1),N=g(16777216);r=c.prototype,r.m=function(){if(B(this))return-j(this).m();let A=0,S=1;for(let k=0;k<this.g.length;k++){const P=this.i(k);A+=(P>=0?P:4294967296+P)*S,S*=4294967296}return A},r.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(W(this))return"0";if(B(this))return"-"+j(this).toString(A);const S=v(Math.pow(A,6));var k=this;let P="";for(;;){const D=se(k,S).g;k=G(k,D.j(S));let M=((k.g.length>0?k.g[0]:k.h)>>>0).toString(A);if(k=D,W(k))return M+P;for(;M.length<6;)M="0"+M;P=M+P}},r.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function W(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function B(A){return A.h==-1}r.l=function(A){return A=G(this,A),B(A)?-1:W(A)?0:1};function j(A){const S=A.g.length,k=[];for(let P=0;P<S;P++)k[P]=~A.g[P];return new c(k,~A.h).add(x)}r.abs=function(){return B(this)?j(this):this},r.add=function(A){const S=Math.max(this.g.length,A.g.length),k=[];let P=0;for(let D=0;D<=S;D++){let M=P+(this.i(D)&65535)+(A.i(D)&65535),R=(M>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);P=R>>>16,M&=65535,R&=65535,k[D]=R<<16|M}return new c(k,k[k.length-1]&-2147483648?-1:0)};function G(A,S){return A.add(j(S))}r.j=function(A){if(W(this)||W(A))return T;if(B(this))return B(A)?j(this).j(j(A)):j(j(this).j(A));if(B(A))return j(this.j(j(A)));if(this.l(N)<0&&A.l(N)<0)return v(this.m()*A.m());const S=this.g.length+A.g.length,k=[];for(var P=0;P<2*S;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<A.g.length;D++){const M=this.i(P)>>>16,R=this.i(P)&65535,ze=A.i(D)>>>16,tt=A.i(D)&65535;k[2*P+2*D]+=R*tt,X(k,2*P+2*D),k[2*P+2*D+1]+=M*tt,X(k,2*P+2*D+1),k[2*P+2*D+1]+=R*ze,X(k,2*P+2*D+1),k[2*P+2*D+2]+=M*ze,X(k,2*P+2*D+2)}for(A=0;A<S;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=S;A<2*S;A++)k[A]=0;return new c(k,0)};function X(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function Y(A,S){this.g=A,this.h=S}function se(A,S){if(W(S))throw Error("division by zero");if(W(A))return new Y(T,T);if(B(A))return S=se(j(A),S),new Y(j(S.g),j(S.h));if(B(S))return S=se(A,j(S)),new Y(j(S.g),S.h);if(A.g.length>30){if(B(A)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var k=x,P=S;P.l(A)<=0;)k=pe(k),P=pe(P);var D=le(k,1),M=le(P,1);for(P=le(P,2),k=le(k,2);!W(P);){var R=M.add(P);R.l(A)<=0&&(D=D.add(k),M=R),P=le(P,1),k=le(k,1)}return S=G(A,D.j(S)),new Y(D,S)}for(D=T;A.l(S)>=0;){for(k=Math.max(1,Math.floor(A.m()/S.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),M=v(k),R=M.j(S);B(R)||R.l(A)>0;)k-=P,M=v(k),R=M.j(S);W(M)&&(M=x),D=D.add(M),A=G(A,R)}return new Y(D,A)}r.B=function(A){return se(this,A).h},r.and=function(A){const S=Math.max(this.g.length,A.g.length),k=[];for(let P=0;P<S;P++)k[P]=this.i(P)&A.i(P);return new c(k,this.h&A.h)},r.or=function(A){const S=Math.max(this.g.length,A.g.length),k=[];for(let P=0;P<S;P++)k[P]=this.i(P)|A.i(P);return new c(k,this.h|A.h)},r.xor=function(A){const S=Math.max(this.g.length,A.g.length),k=[];for(let P=0;P<S;P++)k[P]=this.i(P)^A.i(P);return new c(k,this.h^A.h)};function pe(A){const S=A.g.length+1,k=[];for(let P=0;P<S;P++)k[P]=A.i(P)<<1|A.i(P-1)>>>31;return new c(k,A.h)}function le(A,S){const k=S>>5;S%=32;const P=A.g.length-k,D=[];for(let M=0;M<P;M++)D[M]=S>0?A.i(M+k)>>>S|A.i(M+k+1)<<32-S:A.i(M+k);return new c(D,A.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,b_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=w,Ai=c}).apply(typeof gy<"u"?gy:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L_,$a,O_,Xu,Yd,V_,j_,M_;(function(){var r,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var U=u[I];if(!(U in _))break e;_=_[U]}u=u[u.length-1],I=_[u],m=m(I),m!=I&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],I;for(I in m)Object.prototype.hasOwnProperty.call(m,I)&&_.push([I,m[I]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=g,v.apply(null,arguments)}function w(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function T(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(I,U,H){for(var ie=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ie[Ae-2]=arguments[Ae];return m.prototype[U].apply(I,ie)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function N(u){const m=u.length;if(m>0){const _=Array(m);for(let I=0;I<m;I++)_[I]=u[I];return _}return[]}function W(u,m){for(let I=1;I<arguments.length;I++){const U=arguments[I];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const H=U.length||0;u.length=_+H;for(let ie=0;ie<H;ie++)u[_+ie]=U[ie]}else u.push(U)}}class B{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function j(u){c.setTimeout(()=>{throw u},0)}function G(){var u=A;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class X{constructor(){this.h=this.g=null}add(m,_){const I=Y.get();I.set(m,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Y=new B(()=>new se,u=>u.reset());class se{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,le=!1,A=new X,S=()=>{const u=Promise.resolve(void 0);pe=()=>{u.then(k)}};function k(){for(var u;u=G();){try{u.h.call(u.g)}catch(_){j(_)}var m=Y;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}le=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};c.addEventListener("test",_,m),c.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ze(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}T(ze,D),ze.prototype.init=function(u,m){const _=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),nt=0;function We(u,m,_,I,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!I,this.ha=U,this.key=++nt,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ye(u,m,_){for(const I in u)m.call(_,u[I],I,u)}function q(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(u,m){let _,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(_ in I)u[_]=I[_];for(let H=0;H<K.length;H++)_=K[H],Object.prototype.hasOwnProperty.call(I,_)&&(u[_]=I[_])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,_,I,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ie=oe(u,m,I,U);return ie>-1?(m=u[ie],_||(m.fa=!1)):(m=new We(m,this.src,H,!!I,U),m.fa=_,u.push(m)),m};function Ie(u,m){const _=m.type;if(_ in u.g){var I=u.g[_],U=Array.prototype.indexOf.call(I,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(I,U,1),H&&(ne(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function oe(u,m,_,I){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==I)return U}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),je={};function Ke(u,m,_,I,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Ke(u,m[H],_,I,U);return null}return _=qo(_),u&&u[tt]?u.J(m,_,f(I)?!!I.capture:!1,U):Kt(u,m,_,!1,I,U)}function Kt(u,m,_,I,U,H){if(!m)throw Error("Invalid event type");const ie=f(U)?!!U.capture:!!U;let Ae=Ns(u);if(Ae||(u[Ce]=Ae=new ae(u)),_=Ae.add(m,_,I,ie,H),_.proxy)return _;if(I=As(),_.proxy=I,I.src=u,I.listener=_,u.addEventListener)M||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),I,U);else if(u.attachEvent)u.attachEvent(Ps(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function As(){function u(_){return m.call(u.src,u.listener,_)}const m=Sl;return u}function Wo(u,m,_,I,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Wo(u,m[H],_,I,U);else I=f(I)?!!I.capture:!!I,_=qo(_),u&&u[tt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=oe(m,_,I,U),_>-1&&(ne(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=oe(m,_,I,U)),(_=u>-1?m[u]:null)&&Wr(_))}function Wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[tt])Ie(m.i,u);else{var _=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(_,I,u.capture):m.detachEvent?m.detachEvent(Ps(_),I):m.addListener&&m.removeListener&&m.removeListener(I),(_=Ns(m))?(Ie(_,u),_.h==0&&(_.src=null,m[Ce]=null)):ne(u)}}}function Ps(u){return u in je?je[u]:je[u]="on"+u}function Sl(u,m){if(u.da)u=!0;else{m=new ze(m,this);const _=u.listener,I=u.ha||u.src;u.fa&&Wr(u),u=_.call(I,m)}return u}function Ns(u){return u=u[Ce],u instanceof ae?u:null}var Bi="__closure_events_fn_"+(Math.random()*1e9>>>0);function qo(u){return typeof u=="function"?u:(u[Bi]||(u[Bi]=function(m){return u.handleEvent(m)}),u[Bi])}function pt(){P.call(this),this.i=new ae(this),this.M=this,this.G=null}T(pt,P),pt.prototype[tt]=!0,pt.prototype.removeEventListener=function(u,m,_,I){Wo(this,u,m,_,I)};function ct(u,m){var _,I=u.G;if(I)for(_=[];I;I=I.G)_.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(I,u),_e(m,U)}U=!0;let H,ie;if(_)for(ie=_.length-1;ie>=0;ie--)H=m.g=_[ie],U=An(H,I,!0,m)&&U;if(H=m.g=u,U=An(H,I,!0,m)&&U,U=An(H,I,!1,m)&&U,_)for(ie=0;ie<_.length;ie++)H=m.g=_[ie],U=An(H,I,!1,m)&&U}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let I=0;I<_.length;I++)ne(_[I]);delete u.g[m],u.h--}}this.G=null},pt.prototype.J=function(u,m,_,I){return this.i.add(String(u),m,!1,_,I)},pt.prototype.K=function(u,m,_,I){return this.i.add(String(u),m,!0,_,I)};function An(u,m,_,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const ie=m[H];if(ie&&!ie.da&&ie.capture==_){const Ae=ie.listener,ht=ie.ha||ie.src;ie.fa&&Ie(u.i,ie),U=Ae.call(ht,I)!==!1&&U}}return U&&!I.defaultPrevented}function Ko(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:c.setTimeout(u,m||0)}function Go(u){u.g=Ko(()=>{u.g=null,u.i&&(u.i=!1,Go(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Il extends P{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(u){P.call(this),this.h=u,this.g={}}T(qr,P);var Qo=[];function Ds(u){ye(u.g,function(m,_){this.g.hasOwnProperty(_)&&Wr(m)},u),u.g={}}qr.prototype.N=function(){qr.Z.N.call(this),Ds(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kr=c.JSON.stringify,xl=c.JSON.parse,$i=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function Gr(){}function kl(){}var Qr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bs(){D.call(this,"d")}T(bs,D);function Yo(){D.call(this,"c")}T(Yo,D);var Pn={},Ls=null;function Yr(){return Ls=Ls||new pt}Pn.Ia="serverreachability";function Os(u){D.call(this,Pn.Ia,u)}T(Os,D);function gr(u){const m=Yr();ct(m,new Os(m))}Pn.STAT_EVENT="statevent";function yr(u,m){D.call(this,Pn.STAT_EVENT,u),this.stat=m}T(yr,D);function lt(u){const m=Yr();ct(m,new yr(m,u))}Pn.Ja="timingevent";function Jo(u,m){D.call(this,Pn.Ja,u),this.size=m}T(Jo,D);function Jr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},m)}function Xr(){this.g=!0}Xr.prototype.ua=function(){this.g=!1};function Cl(u,m,_,I,U,H){u.info(function(){if(u.g)if(H){var ie="",Ae=H.split("&");for(let qe=0;qe<Ae.length;qe++){var ht=Ae[qe].split("=");if(ht.length>1){const mt=ht[0];ht=ht[1];const cn=mt.split("_");ie=cn.length>=2&&cn[1]=="type"?ie+(mt+"="+ht+"&"):ie+(mt+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+m+`
`+_+`
`+ie})}function Rl(u,m,_,I,U,H,ie){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+m+`
`+_+`
`+H+" "+ie})}function $n(u,m,_,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hi(u,_)+(I?" "+I:"")})}function Al(u,m){u.info(function(){return"TIMEOUT: "+m})}Xr.prototype.info=function(){};function Hi(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var I=_[1];if(Array.isArray(I)&&!(I.length<1)){var U=I[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<I.length;ie++)I[ie]=""}}}}return Kr(H)}catch{return m}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ei={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function vr(){}T(vr,Gr),vr.prototype.g=function(){return new XMLHttpRequest},Pl=new vr;function Hn(u){return encodeURIComponent(String(u))}function Vs(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function mn(u,m,_,I){this.j=u,this.i=m,this.l=_,this.S=I||1,this.V=new qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Nl}function Nl(){this.i=null,this.g="",this.h=!1}var Dl={},Xo={};function Nn(u,m,_){u.M=1,u.A=wr(gn(m)),u.u=_,u.R=!0,Zo(u,null)}function Zo(u,m){u.F=Date.now(),Wi(u),u.B=gn(u.A);var _=u.B,I=u.S;Array.isArray(I)||(I=[String(I)]),ua(_.i,"t",I),u.C=0,_=u.j.L,u.h=new Nl,u.g=Bl(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Il(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,I=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Qo[0]=U.toString()),U=Qo);for(let H=0;H<U.length;H++){const ie=Ke(_,U[H],I||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?b(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gr(),Cl(u.i,u.v,u.B,u.l,u.S,u.u)}mn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},mn.prototype.Y=function(u){try{if(u==this.g)e:{const Ae=Jn(this.g),ht=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Ul(this.g)))){this.K||Ae!=4||ht==7||(ht==8||qe<=0?gr(3):gr(2)),js(this);var m=this.g.ca();this.X=m;var _=bl(this);if(this.o=m==200,Rl(this.i,this.v,this.B,this.l,this.S,Ae,m),this.o){if(this.U&&!this.L){t:{if(this.g){var I,U=this.g;if((I=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(I)){var H=I;break t}}H=null}if(u=H)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ye(this,u);else{this.o=!1,this.m=3,lt(12),_r(this),qi(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<_.length;)if(mt=Ol(this,_),mt==Xo){Ae==4&&(this.m=4,lt(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Dl){this.m=4,lt(15),$n(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,mt,null),Ye(this,mt);if(Ll(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||_.length!=0||this.h.h||(this.m=1,lt(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,_,"[Invalid Chunked Response]"),_r(this),qi(this);else if(_.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),ts(ie),ie.P=!0,lt(11))}}else $n(this.i,this.l,_,null),Ye(this,_);Ae==4&&_r(this),this.o&&!this.K&&(Ae==4?Ks(this.j,this):(this.o=!1,Wi(this)))}else ha(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),_r(this),qi(this)}}}catch{}finally{}};function bl(u){if(!Ll(u))return u.g.la();const m=Ul(u.g);if(m==="")return"";let _="";const I=m.length,U=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _r(u),qi(u),"";u.h.i=new c.TextDecoder}for(let H=0;H<I;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(U&&H==I-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Ll(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ol(u,m){var _=u.C,I=m.indexOf(`
`,_);return I==-1?Xo:(_=Number(m.substring(_,I)),isNaN(_)?Dl:(I+=1,I+_>m.length?Xo:(m=m.slice(I,I+_),u.C=I+_,m)))}mn.prototype.cancel=function(){this.K=!0,_r(this)};function Wi(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jr(v(u.aa,u),m)}function js(u){u.D&&(c.clearTimeout(u.D),u.D=null)}mn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Al(this.i,this.B),this.M!=2&&(gr(),lt(17)),_r(this),this.m=2,qi(this)):ea(this,this.T-u)};function qi(u){u.j.I==0||u.K||Ks(u.j,u)}function _r(u){js(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ds(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ye(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||na(_.h,u))){if(!u.L&&na(_.h,u)&&_.I==3){try{var I=_.Ba.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)qs(_),ln(_);else break e;er(_),lt(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Jr(v(_.Va,_),6e3));Ki(_.h)<=1&&_.ta&&(_.ta=void 0)}else un(_,11)}else if((u.L||_.g==u)&&qs(_),!R(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let qe=U[m];const mt=qe[0];if(!(mt<=_.K))if(_.K=mt,qe=qe[1],_.I==2)if(qe[0]=="c"){_.M=qe[1],_.ba=qe[2];const cn=qe[3];cn!=null&&(_.ka=cn,_.j.info("VER="+_.ka));const xr=qe[4];xr!=null&&(_.za=xr,_.j.info("SVER="+_.za));const tr=qe[5];tr!=null&&typeof tr=="number"&&tr>0&&(I=1.5*tr,_.O=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const nr=u.g;if(nr){const Ys=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var H=I.h;H.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Fs(H,H.h),H.h=null))}if(I.G){const pa=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(I.wa=pa,$e(I.J,I.G,pa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),I=_;var ie=u;if(I.na=fa(I,I.L?I.ba:null,I.W),ie.L){Gi(I.h,ie);var Ae=ie,ht=I.O;ht&&(Ae.H=ht),Ae.D&&(js(Ae),Wi(Ae)),I.g=ie}else Mt(I);_.i.length>0&&Ir(_)}else qe[0]!="stop"&&qe[0]!="close"||un(_,7);else _.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?un(_,7):Hs(_):qe[0]!="noop"&&_.l&&_.l.qa(qe),_.A=0)}}gr(4)}catch{}}var Gc=class{constructor(u,m){this.g=u,this.map=m}};function Ms(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ta(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ki(u){return u.h?1:u.g?u.g.size:0}function na(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fs(u,m){u.g?u.g.add(m):u.h=m}function Gi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ms.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return N(u.i)}var Vl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function on(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const I=u[_].indexOf("=");let U,H=null;I>=0?(U=u[_].substring(0,I),H=u[_].substring(I+1)):U=u[_],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Wn?(this.l=u.l,Qi(this,u.j),this.o=u.o,this.g=u.g,qn(this,u.u),this.h=u.h,ti(this,ca(u.i)),this.m=u.m):u&&(m=String(u).match(Vl))?(this.l=!1,Qi(this,m[1]||"",!0),this.o=Yi(m[2]||""),this.g=Yi(m[3]||"",!0),qn(this,m[4]),this.h=Yi(m[5]||"",!0),ti(this,m[6]||"",!0),this.m=Yi(m[7]||"")):(this.l=!1,this.i=new Me(null,this.l))}Wn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ji(m,ia,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ji(m,ia,!0),"@"),u.push(Hn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ji(_,_.charAt(0)=="/"?Xi:sa,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ji(_,oa)),u.join("")},Wn.prototype.resolve=function(u){const m=gn(this);let _=!!u.j;_?Qi(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var I=u.h;if(_)qn(m,u.u);else if(_=!!u.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var U=m.h.lastIndexOf("/");U!=-1&&(I=m.h.slice(0,U+1)+I)}if(U=I,U==".."||U==".")I="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){I=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ie=0;ie<U.length;){const Ae=U[ie++];Ae=="."?I&&ie==U.length&&H.push(""):Ae==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),I&&ie==U.length&&H.push("")):(H.push(Ae),I=!0)}I=H.join("/")}else I=U}return _?m.h=I:_=u.i.toString()!=="",_?ti(m,ca(u.i)):_=!!u.m,_&&(m.m=u.m),m};function gn(u){return new Wn(u)}function Qi(u,m,_){u.j=_?Yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qn(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ti(u,m,_){m instanceof Me?(u.i=m,zs(u.i,u.l)):(_||(m=Ji(m,Qc)),u.i=new Me(m,u.l))}function $e(u,m,_){u.i.set(m,_)}function wr(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ji(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,ra),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ra(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,sa=/[#\?:]/g,Xi=/[#\?]/g,Qc=/[#\?@]/g,oa=/#/g;function Me(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Kn(u){u.g||(u.g=new Map,u.h=0,u.i&&on(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Me.prototype,r.add=function(u,m){Kn(this),this.i=null,u=Gn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function aa(u,m){Kn(u),m=Gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Us(u,m){return Kn(u),m=Gn(u,m),u.g.has(m)}r.forEach=function(u,m){Kn(this),this.g.forEach(function(_,I){_.forEach(function(U){u.call(m,U,I,this)},this)},this)};function la(u,m){Kn(u);let _=[];if(typeof m=="string")Us(u,m)&&(_=_.concat(u.g.get(Gn(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return Kn(this),this.i=null,u=Gn(this,u),Us(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=la(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,_){aa(u,m),_.length>0&&(u.i=null,u.g.set(Gn(u,m),N(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let I=0;I<m.length;I++){var _=m[I];const U=Hn(_);_=la(this,_);for(let H=0;H<_.length;H++){let ie=U;_[H]!==""&&(ie+="="+Hn(_[H])),u.push(ie)}}return this.i=u.join("&")};function ca(u){const m=new Me;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zs(u,m){m&&!u.j&&(Kn(u),u.i=null,u.g.forEach(function(_,I){const U=I.toLowerCase();I!=U&&(aa(this,I),ua(this,U,_))},u)),u.j=m}function Qn(u,m){const _=new Xr;if(c.Image){const I=new Image;I.onload=w(Pt,_,"TestLoadImage: loaded",!0,m,I),I.onerror=w(Pt,_,"TestLoadImage: error",!1,m,I),I.onabort=w(Pt,_,"TestLoadImage: abort",!1,m,I),I.ontimeout=w(Pt,_,"TestLoadImage: timeout",!1,m,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Yn(u,m){const _=new Xr,I=new AbortController,U=setTimeout(()=>{I.abort(),Pt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(H=>{clearTimeout(U),H.ok?Pt(_,"TestPingServer: ok",!0,m):Pt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Pt(_,"TestPingServer: error",!1,m)})}function Pt(u,m,_,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(_)}catch{}}function Zi(){this.g=new $i}function Er(u){this.i=u.Sb||null,this.h=u.ab||!1}T(Er,Gr),Er.prototype.g=function(){return new an(this.i,this.h)};function an(u,m){pt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(an,pt),r=an.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Dn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||c).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function jl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ni(this):Dn(this),this.readyState==3&&jl(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ni(this))},r.Na=function(u){this.g&&(this.response=u,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Dn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Dn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(an.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ml(u){let m="";return ye(u,function(_,I){m+=I,m+=":",m+=_,m+=`\r
`}),m}function Bs(u,m,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Ml(_),typeof u=="string"?_!=null&&Hn(_):$e(u,m,_))}function Ge(u){pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ge,pt);var Fl=/^https?$/i,Yc=["POST","PUT"];r=Ge.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=x(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){ri(this,H);return}if(u=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)_.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const H of I.keys())_.set(H,I.get(H));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(Yc,m,void 0)>=0)||I||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of _)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){ri(this,H)}};function ri(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ii(u),Sr(u)}function ii(u){u.A||(u.A=!0,ct(u,"complete"),ct(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ct(this,"complete"),ct(this,"abort"),Sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),Ge.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},r.Xa=function(){Tr(this)};function Tr(u){if(u.h&&typeof l<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ct(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var I;if(I=H===0){let ie=String(u.D).match(Vl)[1]||null;!ie&&c.self&&c.self.location&&(ie=c.self.location.protocol.slice(0,-1)),I=!Fl.test(ie?ie.toLowerCase():"")}_=I}if(_)ct(u,"complete"),ct(u,"success");else{u.o=6;try{var U=Jn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ii(u)}}finally{Sr(u)}}}}function Sr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||ct(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xl(m)}};function Ul(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ha(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(R(u[I]))continue;var _=Vs(u[I]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[U]||[];m[U]=H,H.push(_)}q(m,function(I){return I.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function $s(u){this.za=0,this.i=[],this.j=new Xr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xn("baseRetryDelayMs",5e3,u),this.Za=Xn("retryDelaySeedMs",1e4,u),this.Ta=Xn("forwardChannelMaxRetries",2,u),this.va=Xn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ms(u&&u.concurrentRequestLimit),this.Ba=new Zi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=$s.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,I){lt(0),this.W=u,this.H=m||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.J=fa(this,null,this.W),Ir(this)};function Hs(u){if(Ws(u),u.I==3){var m=u.V++,_=gn(u.J);if($e(_,"SID",u.M),$e(_,"RID",m),$e(_,"TYPE","terminate"),Zn(u,_),m=new mn(u,u.j,m),m.M=2,m.A=wr(gn(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=m.A,_=!0),_||(m.g=Bl(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wi(m)}ns(u)}function ln(u){u.g&&(ts(u),u.g.cancel(),u.g=null)}function Ws(u){ln(u),u.v&&(c.clearTimeout(u.v),u.v=null),qs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function Ir(u){if(!ta(u.h)&&!u.m){u.m=!0;var m=u.Ea;pe||S(),le||(pe(),le=!0),A.add(m,u),u.D=0}}function zl(u,m){return Ki(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jr(v(u.Ea,u,m),Gs(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new mn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=b(H),_e(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=da(this,U,m),_=gn(this.J),$e(_,"RID",u),$e(_,"CVER",22),this.G&&$e(_,"X-HTTP-Session-Id",this.G),Zn(this,_),H&&(this.R?m="headers="+Hn(Ml(H))+"&"+m:this.u&&Bs(_,this.u,H)),Fs(this.h,U),this.Ra&&$e(_,"TYPE","init"),this.S?($e(_,"$req",m),$e(_,"SID","null"),U.U=!0,Nn(U,_,null)):Nn(U,_,m),this.I=2}}else this.I==3&&(u?es(this,u):this.i.length==0||ta(this.h)||es(this))};function es(u,m){var _;m?_=m.l:_=u.V++;const I=gn(u.J);$e(I,"SID",u.M),$e(I,"RID",_),$e(I,"AID",u.K),Zn(u,I),u.u&&u.o&&Bs(I,u.u,u.o),_=new mn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=da(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Fs(u.h,_),Nn(_,I,m)}function Zn(u,m){u.H&&ye(u.H,function(_,I){$e(m,I,_)}),u.l&&ye({},function(_,I){$e(m,I,_)})}function da(u,m,_){_=Math.min(u.i.length,_);const I=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ae=-1;for(;;){const ht=["count="+_];Ae==-1?_>0?(Ae=U[0].g,ht.push("ofs="+Ae)):Ae=0:ht.push("ofs="+Ae);let qe=!0;for(let mt=0;mt<_;mt++){var H=U[mt].g;const cn=U[mt].map;if(H-=Ae,H<0)Ae=Math.max(0,U[mt].g-100),qe=!1;else try{H="req"+H+"_"||"";try{var ie=cn instanceof Map?cn:Object.entries(cn);for(const[xr,tr]of ie){let nr=tr;f(tr)&&(nr=Kr(tr)),ht.push(H+xr+"="+encodeURIComponent(nr))}}catch(xr){throw ht.push(H+"type="+encodeURIComponent("_badmap")),xr}}catch{I&&I(cn)}}if(qe){ie=ht.join("&");break e}}ie=void 0}return u=u.i.splice(0,_),m.G=u,ie}function Mt(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;pe||S(),le||(pe(),le=!0),A.add(m,u),u.A=0}}function er(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jr(v(u.Da,u),Gs(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,si(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jr(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),ln(this),si(this))};function ts(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function si(u){u.g=new mn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=gn(u.na);$e(m,"RID","rpc"),$e(m,"SID",u.M),$e(m,"AID",u.K),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(m,"TO",u.ia),$e(m,"TYPE","xmlhttp"),Zn(u,m),u.u&&u.o&&Bs(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=wr(gn(m)),_.u=null,_.R=!0,Zo(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ln(this),er(this),lt(19))};function qs(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function Ks(u,m){var _=null;if(u.g==m){qs(u),ts(u),u.g=null;var I=2}else if(na(u.h,m))_=m.G,Gi(u.h,m),I=1;else return;if(u.I!=0){if(m.o)if(I==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;I=Yr(),ct(I,new Jo(I,_)),Ir(u)}else Mt(u);else if(U=m.m,U==3||U==0&&m.X>0||!(I==1&&zl(u,m)||I==2&&er(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:un(u,5);break;case 4:un(u,10);break;case 3:un(u,6);break;default:un(u,2)}}}function Gs(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function un(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),I=u.Ua;const U=!I;I=new Wn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qi(I,"https"),wr(I),U?Qn(I.toString(),_):Yn(I.toString(),_)}else lt(2);u.I=0,u.l&&u.l.pa(m),ns(u),Ws(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function ns(u){if(u.I=0,u.ja=[],u.l){const m=sn(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.oa()}}function fa(u,m,_){var I=_ instanceof Wn?gn(_):new Wn(_);if(I.g!="")m&&(I.g=m+"."+I.g),qn(I,I.u);else{var U=c.location;I=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new Wn(null);I&&Qi(H,I),m&&(H.g=m),U&&qn(H,U),_&&(H.h=_),I=H}return _=u.G,m=u.wa,_&&m&&$e(I,_,m),$e(I,"VER",u.ka),Zn(u,I),I}function Bl(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ge(new Er({ab:_})):new Ge(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $l(){}r=$l.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Qs(){}Qs.prototype.g=function(u,m){return new Nt(u,m)};function Nt(u,m){pt.call(this),this.g=new $s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new oi(this)}T(Nt,pt),Nt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Hs(this.g)},Nt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Kr(u),u=_);m.i.push(new Gc(m.Ya++,u)),m.I==3&&Ir(m)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,Nt.Z.N.call(this)};function Hl(u){bs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}T(Hl,bs);function Wl(){Yo.call(this),this.status=1}T(Wl,Yo);function oi(u){this.g=u}T(oi,$l),oi.prototype.ra=function(){ct(this.g,"a")},oi.prototype.qa=function(u){ct(this.g,new Hl(u))},oi.prototype.pa=function(u){ct(this.g,new Wl)},oi.prototype.oa=function(){ct(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,M_=function(){return new Qs},j_=function(){return Yr()},V_=Pn,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,Xu=Zr,ei.COMPLETE="complete",O_=ei,kl.EventType=Qr,Qr.OPEN="a",Qr.CLOSE="b",Qr.ERROR="c",Qr.MESSAGE="d",pt.prototype.listen=pt.prototype.J,$a=kl,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,L_=Ge}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="12.8.0";function rC(r){Uo=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new If("@firebase/firestore");function vo(){return Is.logLevel}function ce(r,...e){if(Is.logLevel<=Le.DEBUG){const t=e.map(jf);Is.debug(`Firestore (${Uo}): ${r}`,...t)}}function zr(r,...e){if(Is.logLevel<=Le.ERROR){const t=e.map(jf);Is.error(`Firestore (${Uo}): ${r}`,...t)}}function Ao(r,...e){if(Is.logLevel<=Le.WARN){const t=e.map(jf);Is.warn(`Firestore (${Uo}): ${r}`,...t)}}function jf(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,F_(r,i,t)}function F_(r,e,t){let i=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw zr(i),new Error(i)}function He(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||F_(e,o,i)}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ht.UNAUTHENTICATED)))}shutdown(){}}class sC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class oC{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Pi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Pi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(He(typeof i.accessToken=="string",31837,{l:i}),new U_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class aC{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class lC{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new aC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ht.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const i=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new yy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=cC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Oe(r,e){return r<e?-1:r>e?1:0}function Jd(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),l=e.charAt(i);if(o!==l)return Dd(o)===Dd(l)?Oe(o,l):Dd(o)?1:-1}return Oe(r.length,e.length)}const hC=55296,dC=57343;function Dd(r){const e=r.charCodeAt(0);return e>=hC&&e<=dC}function Po(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="__name__";class ar{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ar.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Oe(e.length,t.length)}static compareSegments(e,t){const i=ar.isNumericId(e),o=ar.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ar.extractNumericId(e).compare(ar.extractNumericId(t)):Jd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ai.fromString(e.substring(4,e.length-2))}}class Ze extends ar{construct(e,t,i){return new Ze(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const fC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ar{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return fC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vy}static keyField(){return new Ot([vy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(Ze.fromString(e))}static fromName(e){return new we(Ze.fromString(e).popFirst(5))}static empty(){return new we(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r,e,t){if(!t)throw new ge(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function pC(r,e,t,i){if(e===!0&&i===!0)throw new ge(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function _y(r){if(!we.isDocumentKey(r))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wy(r){if(we.isDocumentKey(r))throw new ge(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function B_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ff(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function No(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ff(r);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,e){const t={typeString:r};return e&&(t.value=e),t}function vl(r,e){if(!B_(r))throw new ge(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ge(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=-62135596800,Ty=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Ty);return new et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ey)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ty}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vl(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ey;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:_t("string",et._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new et(0,0))}static max(){return new Re(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=-1;function mC(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new et(t+1,0):new et(t,i));return new bi(o,we.empty(),e)}function gC(r){return new bi(r.readTime,r.key,rl)}class bi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new bi(Re.min(),we.empty(),rl)}static max(){return new bi(Re.max(),we.empty(),rl)}}function yC(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(r.documentKey,e.documentKey),t!==0?t:Oe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==vC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,i)=>{t(e)}))}static reject(e){return new Q(((t,i)=>{i(e)}))}static waitFor(e){return new Q(((t,i)=>{let o=0,l=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++l,c&&l===o&&t()}),(g=>i(g)))})),c=!0,l===o&&t()}))}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next((o=>o?Q.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new Q(((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let g=0;g<l;g++){const v=g;t(e[v]).next((w=>{c[v]=w,++f,f===l&&i(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new Q(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function wC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=-1;function bc(r){return r==null}function fc(r){return r===0&&1/r==-1/0}function EC(r){return typeof r=="number"&&Number.isInteger(r)&&!fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="";function TC(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Sy(e)),e=SC(r.get(t),e);return Sy(e)}function SC(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case $_:t+="";break;default:t+=l}}return t}function Sy(r){return r+$_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ui(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function H_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(e){return new xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new pn([])}unionWith(e){let t=new It(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new W_("Invalid base64 string: "+l):l}})(e);return new jt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const IC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(r){if(He(!!r,39018),typeof r=="string"){let e=0;const t=IC.exec(r);if(He(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(r.seconds),nanos:ft(r.nanos)}}function ft(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oi(r){return typeof r=="string"?jt.fromBase64String(r):jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="server_timestamp",K_="__type__",G_="__previous_value__",Q_="__local_write_time__";function zf(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[K_])==null?void 0:i.stringValue)===q_}function Lc(r){const e=r.mapValue.fields[G_];return zf(e)?Lc(e):e}function il(r){const e=Li(r.mapValue.fields[Q_].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t,i,o,l,c,f,g,v,w,T){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=w,this.apiKey=T}}const pc="(default)";class sl{constructor(e,t){this.projectId=e,this.database=t||pc}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}function kC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__type__",CC="__max__",$u={mapValue:{}},J_="__vector__",mc="value";function Vi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zf(r)?4:AC(r)?9007199254740991:RC(r)?10:11:Se(28295,{value:r})}function fr(r,e){if(r===e)return!0;const t=Vi(r);if(t!==Vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return il(r).isEqual(il(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Li(o.timestampValue),f=Li(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return Oi(o.bytesValue).isEqual(Oi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return ft(o.geoPointValue.latitude)===ft(l.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ft(o.integerValue)===ft(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ft(o.doubleValue),f=ft(l.doubleValue);return c===f?fc(c)===fc(f):isNaN(c)&&isNaN(f)}return!1})(r,e);case 9:return Po(r.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Iy(c)!==Iy(f))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(f[g]===void 0||!fr(c[g],f[g])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function ol(r,e){return(r.values||[]).find((t=>fr(t,e)))!==void 0}function Do(r,e){if(r===e)return 0;const t=Vi(r),i=Vi(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=ft(l.integerValue||l.doubleValue),g=ft(c.integerValue||c.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(r,e);case 3:return ky(r.timestampValue,e.timestampValue);case 4:return ky(il(r),il(e));case 5:return Jd(r.stringValue,e.stringValue);case 6:return(function(l,c){const f=Oi(l),g=Oi(c);return f.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),g=c.split("/");for(let v=0;v<f.length&&v<g.length;v++){const w=Oe(f[v],g[v]);if(w!==0)return w}return Oe(f.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Oe(ft(l.latitude),ft(c.latitude));return f!==0?f:Oe(ft(l.longitude),ft(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Cy(r.arrayValue,e.arrayValue);case 10:return(function(l,c){var x,N,W,B;const f=l.fields||{},g=c.fields||{},v=(x=f[mc])==null?void 0:x.arrayValue,w=(N=g[mc])==null?void 0:N.arrayValue,T=Oe(((W=v==null?void 0:v.values)==null?void 0:W.length)||0,((B=w==null?void 0:w.values)==null?void 0:B.length)||0);return T!==0?T:Cy(v,w)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===$u.mapValue&&c===$u.mapValue)return 0;if(l===$u.mapValue)return 1;if(c===$u.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),v=c.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let T=0;T<g.length&&T<w.length;++T){const x=Jd(g[T],w[T]);if(x!==0)return x;const N=Do(f[g[T]],v[w[T]]);if(N!==0)return N}return Oe(g.length,w.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function ky(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const t=Li(r),i=Li(e),o=Oe(t.seconds,i.seconds);return o!==0?o:Oe(t.nanos,i.nanos)}function Cy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Do(t[o],i[o]);if(l)return l}return Oe(t.length,i.length)}function bo(r){return Xd(r)}function Xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Li(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Oi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return we.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Xd(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Xd(t.fields[c])}`;return o+"}"})(r.mapValue):Se(61005,{value:r})}function Zu(r){switch(Vi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lc(r);return e?16+Zu(e):16;case 5:return 2*r.stringValue.length;case 6:return Oi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Zu(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Ui(i.fields,((l,c)=>{o+=l.length+Zu(c)})),o})(r.mapValue);default:throw Se(13486,{value:r})}}function Zd(r){return!!r&&"integerValue"in r}function Bf(r){return!!r&&"arrayValue"in r}function Ry(r){return!!r&&"nullValue"in r}function Ay(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ec(r){return!!r&&"mapValue"in r}function RC(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[Y_])==null?void 0:i.stringValue)===J_}function Qa(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ui(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Qa(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qa(r.arrayValue.values[t]);return e}return{...r}}function AC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===CC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ec(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=Qa(c):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());ec(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ui(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new rn(Qa(this.value))}}function X_(r){const e=[];return Ui(r.fields,((t,i)=>{const o=new Ot([t]);if(ec(i)){const l=X_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Wt(e,0,Re.min(),Re.min(),Re.min(),rn.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Re.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Re.min(),Re.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Re.min(),Re.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.position=e,this.inclusive=t}}function Py(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=Do(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ny(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!fr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t="asc"){this.field=e,this.dir=t}}function PC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{}class Tt extends Z_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new DC(e,t,i):t==="array-contains"?new OC(e,i):t==="in"?new VC(e,i):t==="not-in"?new jC(e,i):t==="array-contains-any"?new MC(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new bC(e,i):new LC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Do(t,this.value)):t!==null&&Vi(this.value)===Vi(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends Z_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new pr(e,t)}matches(e){return e0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e0(r){return r.op==="and"}function t0(r){return NC(r)&&e0(r)}function NC(r){for(const e of r.filters)if(e instanceof pr)return!1;return!0}function ef(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+bo(r.value);if(t0(r))return r.filters.map((e=>ef(e))).join(",");{const e=r.filters.map((t=>ef(t))).join(",");return`${r.op}(${e})`}}function n0(r,e){return r instanceof Tt?(function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&fr(i.value,o.value)})(r,e):r instanceof pr?(function(i,o){return o instanceof pr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,c,f)=>l&&n0(c,o.filters[f])),!0):!1})(r,e):void Se(19439)}function r0(r){return r instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${bo(t.value)}`})(r):r instanceof pr?(function(t){return t.op.toString()+" {"+t.getFilters().map(r0).join(" ,")+"}"})(r):"Filter"}class DC extends Tt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class bC extends Tt{constructor(e,t){super(e,"in",t),this.keys=i0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class LC extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=i0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function i0(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>we.fromName(i.referenceValue)))}class OC extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bf(t)&&ol(t.arrayValue,this.value)}}class VC extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ol(this.value.arrayValue,t)}}class jC extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ol(this.value.arrayValue,t)}}class MC extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ol(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Dy(r,e=null,t=[],i=[],o=null,l=null,c=null){return new FC(r,e,t,i,o,l,c)}function $f(r){const e=Pe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>ef(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>bo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>bo(i))).join(",")),e.Te=t}return e.Te}function Hf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!PC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!n0(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ny(r.startAt,e.startAt)&&Ny(r.endAt,e.endAt)}function tf(r){return we.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function UC(r,e,t,i,o,l,c,f){return new Oc(r,e,t,i,o,l,c,f)}function Wf(r){return new Oc(r)}function by(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function zC(r){return we.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function BC(r){return r.collectionGroup!==null}function Ya(r){const e=Pe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new It(Ot.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(f=f.add(v.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new yc(l,i))})),t.has(Ot.keyField().canonicalString())||e.Ie.push(new yc(Ot.keyField(),i))}return e.Ie}function ur(r){const e=Pe(r);return e.Ee||(e.Ee=$C(e,Ya(r))),e.Ee}function $C(r,e){if(r.limitType==="F")return Dy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new yc(o.field,l)}));const t=r.endAt?new gc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new gc(r.startAt.position,r.startAt.inclusive):null;return Dy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function nf(r,e,t){return new Oc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Vc(r,e){return Hf(ur(r),ur(e))&&r.limitType===e.limitType}function s0(r){return`${$f(ur(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>r0(o))).join(", ")}]`),bc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>bo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>bo(o))).join(",")),`Target(${i})`})(ur(r))}; limitType=${r.limitType})`}function jc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of Ya(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(c,f,g){const v=Py(c,f,g);return c.inclusive?v<=0:v<0})(i.startAt,Ya(i),o)||i.endAt&&!(function(c,f,g){const v=Py(c,f,g);return c.inclusive?v>=0:v>0})(i.endAt,Ya(i),o))})(r,e)}function HC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function o0(r){return(e,t)=>{let i=!1;for(const o of Ya(r)){const l=WC(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function WC(r,e,t){const i=r.field.isKeyField()?we.comparator(e.key,t.key):(function(l,c,f){const g=c.data.field(l),v=f.data.field(l);return g!==null&&v!==null?Do(g,v):Se(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new at(we.comparator);function Br(){return qC}const a0=new at(we.comparator);function Ha(...r){let e=a0;for(const t of r)e=e.insert(t.key,t);return e}function l0(r){let e=a0;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function vs(){return Ja()}function u0(){return Ja()}function Ja(){return new Cs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const KC=new at(we.comparator),GC=new It(we.comparator);function Ve(...r){let e=GC;for(const t of r)e=e.add(t);return e}const QC=new It(Oe);function YC(){return QC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function c0(r){return{integerValue:""+r}}function JC(r,e){return EC(e)?c0(e):qf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this._=void 0}}function XC(r,e,t){return r instanceof vc?(function(o,l){const c={fields:{[K_]:{stringValue:q_},[Q_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&zf(l)&&(l=Lc(l)),l&&(c.fields[G_]=l),{mapValue:c}})(t,e):r instanceof al?d0(r,e):r instanceof ll?f0(r,e):(function(o,l){const c=h0(o,l),f=Ly(c)+Ly(o.Ae);return Zd(c)&&Zd(o.Ae)?c0(f):qf(o.serializer,f)})(r,e)}function ZC(r,e,t){return r instanceof al?d0(r,e):r instanceof ll?f0(r,e):t}function h0(r,e){return r instanceof _c?(function(i){return Zd(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class vc extends Mc{}class al extends Mc{constructor(e){super(),this.elements=e}}function d0(r,e){const t=p0(e);for(const i of r.elements)t.some((o=>fr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class ll extends Mc{constructor(e){super(),this.elements=e}}function f0(r,e){let t=p0(e);for(const i of r.elements)t=t.filter((o=>!fr(o,i)));return{arrayValue:{values:t}}}class _c extends Mc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ly(r){return ft(r.integerValue||r.doubleValue)}function p0(r){return Bf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function eR(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof al&&o instanceof al||i instanceof ll&&o instanceof ll?Po(i.elements,o.elements,fr):i instanceof _c&&o instanceof _c?fr(i.Ae,o.Ae):i instanceof vc&&o instanceof vc})(r.transform,e.transform)}class tR{constructor(e,t){this.version=e,this.transformResults=t}}class xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Fc{}function m0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Kf(r.key,xn.none()):new _l(r.key,r.data,xn.none());{const t=r.data,i=rn.empty();let o=new It(Ot.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new zi(r.key,i,new pn(o.toArray()),xn.none())}}function nR(r,e,t){r instanceof _l?(function(o,l,c){const f=o.value.clone(),g=Vy(o.fieldTransforms,l,c.transformResults);f.setAll(g),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(r,e,t):r instanceof zi?(function(o,l,c){if(!tc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Vy(o.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(g0(o)),g.setAll(f),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(r,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Xa(r,e,t,i){return r instanceof _l?(function(l,c,f,g){if(!tc(l.precondition,c))return f;const v=l.value.clone(),w=jy(l.fieldTransforms,g,c);return v.setAll(w),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(r,e,t,i):r instanceof zi?(function(l,c,f,g){if(!tc(l.precondition,c))return f;const v=jy(l.fieldTransforms,g,c),w=c.data;return w.setAll(g0(l)),w.setAll(v),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,i):(function(l,c,f){return tc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(r,e,t)}function rR(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=h0(i.transform,o||null);l!=null&&(t===null&&(t=rn.empty()),t.set(i.field,l))}return t||null}function Oy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Po(i,o,((l,c)=>eR(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _l extends Fc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zi extends Fc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function g0(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function Vy(r,e,t){const i=new Map;He(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let o=0;o<t.length;o++){const l=r[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,ZC(c,f,t[o]))}return i}function jy(r,e,t){const i=new Map;for(const o of r){const l=o.transform,c=t.data.field(o.field);i.set(o.field,XC(l,c,e))}return i}class Kf extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iR extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&nR(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Xa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Xa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=u0();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const g=m0(c,f);g!==null&&i.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,((t,i)=>Oy(t,i)))&&Po(this.baseMutations,e.baseMutations,((t,i)=>Oy(t,i)))}}class Gf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){He(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return KC})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Gf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Fe;function lR(r){switch(r){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function y0(r){if(r===void 0)return zr("GRPC error has no .code"),J.UNKNOWN;switch(r){case yt.OK:return J.OK;case yt.CANCELLED:return J.CANCELLED;case yt.UNKNOWN:return J.UNKNOWN;case yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case yt.INTERNAL:return J.INTERNAL;case yt.UNAVAILABLE:return J.UNAVAILABLE;case yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case yt.NOT_FOUND:return J.NOT_FOUND;case yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case yt.ABORTED:return J.ABORTED;case yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case yt.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:r})}}(Fe=yt||(yt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Ai([4294967295,4294967295],0);function My(r){const e=uR().encode(r),t=new b_;return t.update(e),new Uint8Array(t.digest())}function Fy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ai([t,i],0),new Ai([o,l],0)]}class Qf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Wa(`Invalid padding: ${t}`);if(i<0)throw new Wa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Wa(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ai.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Ai.fromNumber(i)));return o.compare(cR)===1&&(o=new Ai([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=My(e),[i,o]=Fy(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Qf(l,o,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=My(e),[i,o]=Fy(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,wl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Uc(Re.min(),o,new at(Oe),Br(),Ve())}}class wl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new wl(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t,i,o){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=o}}class v0{constructor(e,t){this.targetId=e,this.Ce=t}}class _0{constructor(e,t,i=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Uy{constructor(){this.ve=0,this.Fe=zy(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),i=Ve();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se(38017,{changeType:l})}})),new wl(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=zy()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class hR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Br(),this.He=Hu(),this.Je=Hu(),this.Ze=new at(Oe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(tf(l))if(i===0){const c=new we(l.path);this.et(t,c,Wt.newNoDocument(c,Re.min()))}else He(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),g=f?this.ct(f,e,c):1;if(g!==0){this.it(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Oi(i).toUint8Array()}catch(g){if(g instanceof W_)return Ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Qf(c,o,l)}catch(g){return Ao(g instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&tf(f.target)){const g=new we(f.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,Wt.newNoDocument(g,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let i=Ve();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new Uc(e,t,this.Ze,this.je,i);return this.je=Br(),this.He=Hu(),this.Je=Hu(),this.Ze=new at(Oe),o}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Uy,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new It(Oe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new It(Oe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Uy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Hu(){return new at(we.comparator)}function zy(){return new at(we.comparator)}const dR={asc:"ASCENDING",desc:"DESCENDING"},fR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pR={and:"AND",or:"OR"};class mR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rf(r,e){return r.useProto3Json||bc(e)?e:{value:e}}function wc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function gR(r,e){return wc(r,e.toTimestamp())}function cr(r){return He(!!r,49232),Re.fromTimestamp((function(t){const i=Li(t);return new et(i.seconds,i.nanos)})(r))}function Yf(r,e){return sf(r,e).canonicalString()}function sf(r,e){const t=(function(o){return new Ze(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function E0(r){const e=Ze.fromString(r);return He(k0(e),10190,{key:e.toString()}),e}function of(r,e){return Yf(r.databaseId,e.path)}function bd(r,e){const t=E0(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new we(S0(t))}function T0(r,e){return Yf(r.databaseId,e)}function yR(r){const e=E0(r);return e.length===4?Ze.emptyPath():S0(e)}function af(r){return new Ze(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function S0(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function By(r,e,t){return{name:of(r,e),fields:t.value.mapValue.fields}}function vR(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,w){return v.useProto3Json?(He(w===void 0||typeof w=="string",58123),jt.fromBase64String(w||"")):(He(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),jt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(v){const w=v.code===void 0?J.UNKNOWN:y0(v.code);return new ge(w,v.message||"")})(c);t=new _0(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=bd(r,i.document.name),l=cr(i.document.updateTime),c=i.document.createTime?cr(i.document.createTime):Re.min(),f=new rn({mapValue:{fields:i.document.fields}}),g=Wt.newFoundDocument(o,l,c,f),v=i.targetIds||[],w=i.removedTargetIds||[];t=new nc(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=bd(r,i.document),l=i.readTime?cr(i.readTime):Re.min(),c=Wt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new nc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=bd(r,i.document),l=i.removedTargetIds||[];t=new nc([],l,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new aR(o,l),f=i.targetId;t=new v0(f,c)}}return t}function _R(r,e){let t;if(e instanceof _l)t={update:By(r,e.key,e.value)};else if(e instanceof Kf)t={delete:of(r,e.key)};else if(e instanceof zi)t={update:By(r,e.key,e.data),updateMask:RR(e.fieldMask)};else{if(!(e instanceof iR))return Se(16599,{dt:e.type});t={verify:of(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof vc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof al)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ll)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof _c)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Se(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:gR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(r,e.precondition)),t}function wR(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((t=>(function(o,l){let c=o.updateTime?cr(o.updateTime):cr(l);return c.isEqual(Re.min())&&(c=cr(l)),new tR(c,o.transformResults||[])})(t,e)))):[]}function ER(r,e){return{documents:[T0(r,e.path)]}}function TR(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=T0(r,o);const l=(function(v){if(v.length!==0)return x0(pr.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(v){if(v.length!==0)return v.map((w=>(function(x){return{field:wo(x.field),direction:xR(x.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=rf(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function SR(r){let e=yR(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){He(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(T){const x=I0(T);return x instanceof pr&&t0(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((x=>(function(W){return new yc(Eo(W.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(t.orderBy));let f=null;t.limit&&(f=(function(T){let x;return x=typeof T=="object"?T.value:T,bc(x)?null:x})(t.limit));let g=null;t.startAt&&(g=(function(T){const x=!!T.before,N=T.values||[];return new gc(N,x)})(t.startAt));let v=null;return t.endAt&&(v=(function(T){const x=!T.before,N=T.values||[];return new gc(N,x)})(t.endAt)),UC(e,o,c,l,f,"F",g,v)}function IR(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function I0(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Eo(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(t.unaryFilter.field);return Tt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Eo(t.unaryFilter.field);return Tt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Tt.create(Eo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return pr.create(t.compositeFilter.filters.map((i=>I0(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(r):Se(30097,{filter:r})}function xR(r){return dR[r]}function kR(r){return fR[r]}function CR(r){return pR[r]}function wo(r){return{fieldPath:r.canonicalString()}}function Eo(r){return Ot.fromServerFormat(r.fieldPath)}function x0(r){return r instanceof Tt?(function(t){if(t.op==="=="){if(Ay(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(Ry(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ay(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(Ry(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:kR(t.op),value:t.value}}})(r):r instanceof pr?(function(t){const i=t.getFilters().map((o=>x0(o)));return i.length===1?i[0]:{compositeFilter:{op:CR(t.op),filters:i}}})(r):Se(54877,{filter:r})}function RR(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function k0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function C0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,t,i,o,l=Re.min(),c=Re.min(),f=jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.yt=e}}function PR(r){const e=SR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.Sn=new DR}addToCollectionParentIndex(e,t){return this.Sn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(bi.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class DR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new It(Ze.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new It(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R0=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(R0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Lo(0)}static ar(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="LruGarbageCollector",bR=1048576;function Wy([r,e],[t,i]){const o=Oe(r,t);return o===0?Oe(e,i):o}class LR{constructor(e){this.Pr=e,this.buffer=new It(Wy),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Wy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(Hy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?ce(Hy,"Ignoring IndexedDB error during garbage collection: ",t):await zo(t)}await this.Ar(3e5)}))}}class VR{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Dc.ce);const i=new LR(t);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve($y)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$y):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,o,l,c,f,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(i=T,f=Date.now(),this.removeTargets(e,i,t)))).next((T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(v=Date.now(),vo()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${T} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function jR(r,e){return new VR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.changes=new Cs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Xa(i.mutation,o,pn.empty(),et.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ve()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ve()){const o=vs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let c=Ha();return l.forEach(((f,g)=>{c=c.insert(f,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=vs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ve())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,o){let l=Br();const c=Ja(),f=(function(){return Ja()})();return t.forEach(((g,v)=>{const w=i.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof zi)?l=l.insert(v.key,v):w!==void 0?(c.set(v.key,w.mutation.getFieldMask()),Xa(w.mutation,v,w.mutation.getFieldMask(),et.now())):c.set(v.key,pn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((v,w)=>c.set(v,w))),t.forEach(((v,w)=>f.set(v,new FR(w,c.get(v)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=Ja();let o=new at(((c,f)=>c-f)),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((g=>{const v=t.get(g);if(v===null)return;let w=i.get(g)||pn.empty();w=f.applyToLocalView(v,w),i.set(g,w);const T=(o.get(f.batchId)||Ve()).add(g);o=o.insert(f.batchId,T)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,w=g.value,T=u0();w.forEach((x=>{if(!l.has(x)){const N=m0(t.get(x),i.get(x));N!==null&&T.set(x,N),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,T))}return Q.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return zC(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(vs());let f=rl,g=l;return c.next((v=>Q.forEach(v,((w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next((x=>{g=g.insert(w,x)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,g,v,Ve()))).next((w=>({batchId:f,changes:l0(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((i=>{let o=Ha();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Ha();return this.indexManager.getCollectionParents(e,l).next((f=>Q.forEach(f,(g=>{const v=(function(T,x){return new Oc(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next((w=>{w.forEach(((T,x)=>{c=c.insert(T,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((c=>{l.forEach(((g,v)=>{const w=v.getKey();c.get(w)===null&&(c=c.insert(w,Wt.newInvalidDocument(w)))}));let f=Ha();return c.forEach(((g,v)=>{const w=l.get(g);w!==void 0&&Xa(w.mutation,v,pn.empty(),et.now()),jc(t,v)&&(f=f.insert(g,v))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Q.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:PR(o.bundledQuery),readTime:cr(o.readTime)}})(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.overlays=new at(we.comparator),this.Lr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=vs();return Q.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.bt(e,t,l)})),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=vs(),l=t.length+1,c=new we(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>i&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new at(((v,w)=>v-w));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let w=l.get(v.largestBatchId);w===null&&(w=vs(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=vs(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,w)=>f.set(v,w))),!(f.size()>=o)););return Q.resolve(f)}bt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new oR(t,i));let l=this.Lr.get(t);l===void 0&&(l=Ve(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this.kr=new It(Rt.Kr),this.qr=new It(Rt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new Rt(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new Rt(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new we(new Ze([])),i=new Rt(t,e),o=new Rt(t,e+1),l=[];return this.qr.forEachInRange([i,o],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new we(new Ze([])),i=new Rt(t,e),o=new Rt(t,e+1);let l=Ve();return this.qr.forEachInRange([i,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Rt(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return we.comparator(e.key,t.key)||Oe(e.Hr,t.Hr)}static Ur(e,t){return Oe(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new It(Rt.Kr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sR(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Jr=this.Jr.add(new Rt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,t){return Q.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Xr(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Uf:this.Yn-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,o],(c=>{const f=this.Zr(c.Hr);l.push(f)})),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new It(Oe);return t.forEach((o=>{const l=new Rt(o,0),c=new Rt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{i=i.add(f.Hr)}))})),Q.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const c=new Rt(new we(l),0);let f=new It(Oe);return this.Jr.forEachWhile((g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.Hr)),!0)}),c),Q.resolve(this.Yr(f))}Yr(e){const t=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){He(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Q.forEach(t.mutations,(o=>{const l=new Rt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new Rt(t,0),o=this.Jr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.ti=e,this.docs=(function(){return new at(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Br();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Wt.newInvalidDocument(o))})),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Br();const c=t.path,f=new we(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||yC(gC(w),i)<=0||(o.has(w.key)||jc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Se(9500)}ni(e,t){return Q.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new qR(this)}getSize(e){return Q.resolve(this.size)}}class qR extends MR{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),Q.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.persistence=e,this.ri=new Cs((t=>$f(t)),Hf),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new Jf,this.targetCount=0,this.oi=Lo._r()}forEachTarget(e,t){return this.ri.forEach(((i,o)=>t(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),Q.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.lr(t),Q.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Q.waitFor(l).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t){this._i={},this.overlays={},this.ai=new Dc(0),this.ui=!1,this.ui=!0,this.ci=new $R,this.referenceDelegate=e(this),this.li=new KR(this),this.indexManager=new NR,this.remoteDocumentCache=(function(o){return new WR(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new AR(t),this.Pi=new zR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new HR(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const o=new GR(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((l=>this.referenceDelegate.Ii(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return Q.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class GR extends _C{constructor(e){super(),this.currentSequenceNumber=e}}class Xf{constructor(e){this.persistence=e,this.Ri=new Jf,this.Ai=null}static Vi(e){return new Xf(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,(i=>{const o=we.fromPath(i);return this.mi(e,o).next((l=>{l||t.removeEntry(o,Re.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Q.or([()=>Q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ec{constructor(e,t){this.persistence=e,this.fi=new Cs((i=>TC(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=jR(this,t)}static Vi(e,t){return new Ec(e,t)}Ti(){}Ii(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return Q.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((l=>l?Q.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ni(e,(c=>this.wr(e,c,t).next((f=>{f||(i++,l.removeEntry(c,Re.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Q.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zu(e.data.value)),t}wr(e,t,i){return Q.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=o}static Es(e,t){let i=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Zf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return VS()?8:wC(qt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,o,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new QR;return this.ys(e,t,c).next((f=>{if(l.result=f,this.As)return this.ws(e,t,c,f.size)}))})).next((()=>l.result))}ws(e,t,i,o){return i.documentReadCount<this.Vs?(vo()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(vo()<=Le.DEBUG&&ce("QueryEngine","Query:",_o(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(vo()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(t))):Q.resolve())}gs(e,t){if(by(t))return Q.resolve(null);let i=ur(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=nf(t,null,"F"),i=ur(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ve(...l);return this.fs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((g=>{const v=this.bs(t,f);return this.Ss(t,v,c,g.readTime)?this.gs(e,nf(t,null,"F")):this.Ds(e,v,t,g)}))))})))))}ps(e,t,i,o){return by(t)||o.isEqual(Re.min())?Q.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,i,o)?Q.resolve(null):(vo()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.Ds(e,c,t,mC(o,rl)).next((f=>f)))}))}bs(e,t){let i=new It(o0(e));return t.forEach(((o,l)=>{jc(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ys(e,t,i){return vo()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",_o(t)),this.fs.getDocumentsMatchingQuery(e,t,bi.min(),i)}Ds(e,t,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="LocalStore",JR=3e8;class XR{constructor(e,t,i,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new at(Oe),this.Fs=new Cs((l=>$f(l)),Hf),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function ZR(r,e,t,i){return new XR(r,e,t,i)}async function P0(r,e){const t=Pe(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let g=Ve();for(const v of o){c.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of l){f.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(i,g).next((v=>({Ns:v,removedBatchIds:c,addedBatchIds:f})))}))}))}function eA(r,e){const t=Pe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(f,g,v,w){const T=v.batch,x=T.keys();let N=Q.resolve();return x.forEach((W=>{N=N.next((()=>w.getEntry(g,W))).next((B=>{const j=v.docVersions.get(W);He(j!==null,48541),B.version.compareTo(j)<0&&(T.applyToRemoteDocument(B,v),B.isValidDocument()&&(B.setReadTime(v.commitVersion),w.addEntry(B)))}))})),N.next((()=>f.mutationQueue.removeMutationBatch(g,T)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let g=Ve();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function N0(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function tA(r,e){const t=Pe(r),i=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const f=[];e.targetChanges.forEach(((w,T)=>{const x=o.get(T);if(!x)return;f.push(t.li.removeMatchingKeys(l,w.removedDocuments,T).next((()=>t.li.addMatchingKeys(l,w.addedDocuments,T))));let N=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(jt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,i)),o=o.insert(T,N),(function(B,j,G){return B.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=JR?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(x,N,w)&&f.push(t.li.updateTargetData(l,N))}));let g=Br(),v=Ve();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(nA(l,c,e.documentUpdates).next((w=>{g=w.Bs,v=w.Ls}))),!i.isEqual(Re.min())){const w=t.li.getLastRemoteSnapshotVersion(l).next((T=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(w)}return Q.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,v))).next((()=>g))})).then((l=>(t.vs=o,l)))}function nA(r,e,t){let i=Ve(),o=Ve();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=Br();return t.forEach(((f,g)=>{const v=l.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(f,g.readTime),c=c.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),c=c.insert(f,g)):ce(ep,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)})),{Bs:c,Ls:o}}))}function rA(r,e){const t=Pe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Uf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function iA(r,e){const t=Pe(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.li.getTargetData(i,e).next((l=>l?(o=l,Q.resolve(o)):t.li.allocateTargetId(i).next((c=>(o=new xi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function lf(r,e,t){const i=Pe(r),o=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Bo(c))throw c;ce(ep,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function qy(r,e,t){const i=Pe(r);let o=Re.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,v,w){const T=Pe(g),x=T.Fs.get(w);return x!==void 0?Q.resolve(T.vs.get(x)):T.li.getTargetData(v,w)})(i,c,ur(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,f.targetId).next((g=>{l=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?o:Re.min(),t?l:Ve()))).next((f=>(sA(i,HC(e),f),{documents:f,ks:l})))))}function sA(r,e,t){let i=r.Ms.get(e)||Re.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Ms.set(e,i)}class Ky{constructor(){this.activeTargetIds=YC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oA{constructor(){this.vo=new Ky,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Ky,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="ConnectivityMonitor";class Qy{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(Gy,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(Gy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function uf(){return Wu===null?Wu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="RestConnection",lA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class uA{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===pc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,t,i,o,l){const c=uf(),f=this.Qo(e,t.toUriEncodedString());ce(Ld,`Sending RPC '${e}' ${c}:`,f,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,l);const{host:v}=new URL(f),w=jo(v);return this.zo(e,f,g,i,w).then((T=>(ce(Ld,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Ao(Ld,`RPC '${e}' ${c} failed with error: `,T,"url: ",f,"request:",i),T}))}jo(e,t,i,o,l,c){return this.Wo(e,t,i,o,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}Qo(e,t){const i=lA[e];let o=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection",za=(r,e,t)=>{r.listen(e,(i=>{try{t(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class xo extends uA{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!xo.c_){const e=j_();za(e,V_.STAT_EVENT,(t=>{t.stat===Yd.PROXY?ce($t,"STAT_EVENT: detected buffering proxy"):t.stat===Yd.NOPROXY&&ce($t,"STAT_EVENT: detected no buffering proxy")})),xo.c_=!0}}zo(e,t,i,o,l){const c=uf();return new Promise(((f,g)=>{const v=new L_;v.setWithCredentials(!0),v.listenOnce(O_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Xu.NO_ERROR:const T=v.getResponseJson();ce($t,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case Xu.TIMEOUT:ce($t,`RPC '${e}' ${c} timed out`),g(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const x=v.getStatus();if(ce($t,`RPC '${e}' ${c} failed with status:`,x,"response text:",v.getResponseText()),x>0){let N=v.getResponseJson();Array.isArray(N)&&(N=N[0]);const W=N==null?void 0:N.error;if(W&&W.status&&W.message){const B=(function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(X)>=0?X:J.UNKNOWN})(W.status);g(new ge(B,W.message))}else g(new ge(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ge(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce($t,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);ce($t,`RPC '${e}' ${c} sending request:`,o),v.send(t,"POST",w,i,15)}))}T_(e,t,i){const o=uf(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=l.join("");ce($t,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=c.createWebChannel(v,f);this.I_(w);let T=!1,x=!1;const N=new cA({Ho:W=>{x?ce($t,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(T||(ce($t,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ce($t,`RPC '${e}' stream ${o} sending:`,W),w.send(W))},Jo:()=>w.close()});return za(w,$a.EventType.OPEN,(()=>{x||(ce($t,`RPC '${e}' stream ${o} transport opened.`),N.i_())})),za(w,$a.EventType.CLOSE,(()=>{x||(x=!0,ce($t,`RPC '${e}' stream ${o} transport closed`),N.o_(),this.E_(w))})),za(w,$a.EventType.ERROR,(W=>{x||(x=!0,Ao($t,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),N.o_(new ge(J.UNAVAILABLE,"The operation could not be completed")))})),za(w,$a.EventType.MESSAGE,(W=>{var B;if(!x){const j=W.data[0];He(!!j,16349);const G=j,X=(G==null?void 0:G.error)||((B=G[0])==null?void 0:B.error);if(X){ce($t,`RPC '${e}' stream ${o} received error:`,X);const Y=X.status;let se=(function(A){const S=yt[A];if(S!==void 0)return y0(S)})(Y),pe=X.message;se===void 0&&(se=J.INTERNAL,pe="Unknown error status: "+Y+" with message "+X.message),x=!0,N.o_(new ge(se,pe)),w.close()}else ce($t,`RPC '${e}' stream ${o} received:`,j),N.__(j)}})),xo.u_(),setTimeout((()=>{N.s_()}),0),N}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return M_()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(r){return new xo(r)}function Od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(r){return new mR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xo.c_=!1;class D0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=o,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="PersistentStream";class b0{constructor(e,t,i,o,l,c,f,g){this.Ci=e,this.b_=i,this.S_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new D0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new ge(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Yy,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ce(Yy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dA extends b0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=vR(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?cr(c.readTime):Re.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=af(this.serializer),t.addTarget=(function(l,c){let f;const g=c.target;if(f=tf(g)?{documents:ER(l,g)}:{query:TR(l,g).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=w0(l,c.resumeToken);const v=rf(l,c.expectedCount);v!==null&&(f.expectedCount=v)}else if(c.snapshotVersion.compareTo(Re.min())>0){f.readTime=wc(l,c.snapshotVersion.toTimestamp());const v=rf(l,c.expectedCount);v!==null&&(f.expectedCount=v)}return f})(this.serializer,e);const i=IR(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=af(this.serializer),t.removeTarget=e,this.K_(t)}}class fA extends b0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=wR(e.writeResults,e.commitTime),i=cr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=af(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>_R(this.serializer,i)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{}class mA extends pA{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,sf(t,i),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(J.UNKNOWN,l.toString())}))}jo(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(e,sf(t,i),o,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function gA(r,e,t,i){return new mA(r,e,t,i)}class yA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="RemoteStore";class vA{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Rs(this)&&(ce(xs,"Restarting streams for network reachability change."),await(async function(g){const v=Pe(g);v.Ea.add(4),await El(v),v.Va.set("Unknown"),v.Ea.delete(4),await Bc(v)})(this))}))})),this.Va=new yA(i,o)}}async function Bc(r){if(Rs(r))for(const e of r.Ra)await e(!0)}async function El(r){for(const e of r.Ra)await e(!1)}function L0(r,e){const t=Pe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ip(t)?rp(t):$o(t).O_()&&np(t,e))}function tp(r,e){const t=Pe(r),i=$o(t);t.Ia.delete(e),i.O_()&&O0(t,e),t.Ia.size===0&&(i.O_()?i.L_():Rs(t)&&t.Va.set("Unknown"))}function np(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(r).Z_(e)}function O0(r,e){r.da.$e(e),$o(r).X_(e)}function rp(r){r.da=new hR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.Va.ua()}function ip(r){return Rs(r)&&!$o(r).x_()&&r.Ia.size>0}function Rs(r){return Pe(r).Ea.size===0}function V0(r){r.da=void 0}async function _A(r){r.Va.set("Online")}async function wA(r){r.Ia.forEach(((e,t)=>{np(r,e)}))}async function EA(r,e){V0(r),ip(r)?(r.Va.ha(e),rp(r)):r.Va.set("Unknown")}async function TA(r,e,t){if(r.Va.set("Online"),e instanceof _0&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.da.removeTarget(f))})(r,e)}catch(i){ce(xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Tc(r,i)}else if(e instanceof nc?r.da.Xe(e):e instanceof v0?r.da.st(e):r.da.tt(e),!t.isEqual(Re.min()))try{const i=await N0(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.Ia.get(v);w&&l.Ia.set(v,w.withResumeToken(g.resumeToken,c))}})),f.targetMismatches.forEach(((g,v)=>{const w=l.Ia.get(g);if(!w)return;l.Ia.set(g,w.withResumeToken(jt.EMPTY_BYTE_STRING,w.snapshotVersion)),O0(l,g);const T=new xi(w.target,g,v,w.sequenceNumber);np(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){ce(xs,"Failed to raise snapshot:",i),await Tc(r,i)}}async function Tc(r,e,t){if(!Bo(e))throw e;r.Ea.add(1),await El(r),r.Va.set("Offline"),t||(t=()=>N0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(xs,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Bc(r)}))}function j0(r,e){return e().catch((t=>Tc(r,t,e)))}async function $c(r){const e=Pe(r),t=ji(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Uf;for(;SA(e);)try{const o=await rA(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,IA(e,o)}catch(o){await Tc(e,o)}M0(e)&&F0(e)}function SA(r){return Rs(r)&&r.Ta.length<10}function IA(r,e){r.Ta.push(e);const t=ji(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function M0(r){return Rs(r)&&!ji(r).x_()&&r.Ta.length>0}function F0(r){ji(r).start()}async function xA(r){ji(r).ra()}async function kA(r){const e=ji(r);for(const t of r.Ta)e.ea(t.mutations)}async function CA(r,e,t){const i=r.Ta.shift(),o=Gf.from(i,e,t);await j0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await $c(r)}async function RA(r,e){e&&ji(r).Y_&&await(async function(i,o){if((function(c){return lR(c)&&c!==J.ABORTED})(o.code)){const l=i.Ta.shift();ji(i).B_(),await j0(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await $c(i)}})(r,e),M0(r)&&F0(r)}async function Jy(r,e){const t=Pe(r);t.asyncQueue.verifyOperationInProgress(),ce(xs,"RemoteStore received new credentials");const i=Rs(t);t.Ea.add(3),await El(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bc(t)}async function AA(r,e){const t=Pe(r);e?(t.Ea.delete(2),await Bc(t)):e||(t.Ea.add(2),await El(t),t.Va.set("Unknown"))}function $o(r){return r.ma||(r.ma=(function(t,i,o){const l=Pe(t);return l.sa(),new dA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Zo:_A.bind(null,r),Yo:wA.bind(null,r),t_:EA.bind(null,r),J_:TA.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),ip(r)?rp(r):r.Va.set("Unknown")):(await r.ma.stop(),V0(r))}))),r.ma}function ji(r){return r.fa||(r.fa=(function(t,i,o){const l=Pe(t);return l.sa(),new fA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:xA.bind(null,r),t_:RA.bind(null,r),ta:kA.bind(null,r),na:CA.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await $c(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new sp(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,e){if(zr("AsyncQueue",`${e}: ${r}`),Bo(r))return new ge(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=Ha(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.ga=new at(we.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Oo{constructor(e,t,i,o,l,c,f,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Oo(e,t,ko.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class NA{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Pe(t),l=o.queries;o.queries=Zy(),l.forEach(((c,f)=>{for(const g of f.ba)g.onError(i)}))})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function Zy(){return new Cs((r=>s0(r)),Vc)}async function DA(r,e){const t=Pe(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.Da()&&(i=2):(l=new PA,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=op(c,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&ap(t)}async function bA(r,e){const t=Pe(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?o=e.Da()?0:1:!l.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function LA(r,e){const t=Pe(r);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.ba)f.Fa(o)&&(i=!0);c.wa=o}}i&&ap(t)}function OA(r,e,t){const i=Pe(r),o=i.queries.get(e);if(o)for(const l of o.ba)l.onError(t);i.queries.delete(e)}function ap(r){r.Ca.forEach((e=>{e.next()}))}var cf,ev;(ev=cf||(cf={})).Ma="default",ev.Cache="cache";class VA{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Oo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.key=e}}class z0{constructor(e){this.key=e}}class jA{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=o0(e),this.tu=new ko(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new Xy,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const x=o.get(w),N=jc(this.query,T)?T:null,W=!!x&&this.mutatedKeys.has(x.key),B=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let j=!1;x&&N?x.data.isEqual(N.data)?W!==B&&(i.track({type:3,doc:N}),j=!0):this.su(x,N)||(i.track({type:2,doc:N}),j=!0,(g&&this.eu(N,g)>0||v&&this.eu(N,v)<0)&&(f=!0)):!x&&N?(i.track({type:0,doc:N}),j=!0):x&&!N&&(i.track({type:1,doc:x}),j=!0,(g||v)&&(f=!0)),j&&(N?(c=c.add(N),l=B?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{tu:c,iu:i,Ss:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,T)=>(function(N,W){const B=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:j})}};return B(N)-B(W)})(w.type,T.type)||this.eu(w.doc,T.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,v=g!==this.Xa;return this.Xa=g,c.length!==0||v?{snapshot:new Oo(this.query,e.tu,l,c,e.mutatedKeys,g===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xy,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new z0(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new U0(i))})),t}cu(e){this.Za=e.ks,this.Ya=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const lp="SyncEngine";class MA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class FA{constructor(e){this.key=e,this.hu=!1}}class UA{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Cs((f=>s0(f)),Vc),this.Iu=new Map,this.Eu=new Set,this.Ru=new at(we.comparator),this.Au=new Map,this.Vu=new Jf,this.du={},this.mu=new Map,this.fu=Lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zA(r,e,t=!0){const i=K0(r);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await B0(i,e,t,!0),o}async function BA(r,e){const t=K0(r);await B0(t,e,!0,!1)}async function B0(r,e,t,i){const o=await iA(r.localStore,ur(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await $A(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&L0(r.remoteStore,o),f}async function $A(r,e,t,i,o){r.pu=(T,x,N)=>(async function(B,j,G,X){let Y=j.view.ru(G);Y.Ss&&(Y=await qy(B.localStore,j.query,!1).then((({documents:A})=>j.view.ru(A,Y))));const se=X&&X.targetChanges.get(j.targetId),pe=X&&X.targetMismatches.get(j.targetId)!=null,le=j.view.applyChanges(Y,B.isPrimaryClient,se,pe);return nv(B,j.targetId,le.au),le.snapshot})(r,T,x,N);const l=await qy(r.localStore,e,!0),c=new jA(e,l.ks),f=c.ru(l.documents),g=wl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),v=c.applyChanges(f,r.isPrimaryClient,g);nv(r,t,v.au);const w=new MA(e,t,c);return r.Tu.set(e,w),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),v.snapshot}async function HA(r,e,t){const i=Pe(r),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((c=>!Vc(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await lf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&tp(i.remoteStore,o.targetId),hf(i,o.targetId)})).catch(zo)):(hf(i,o.targetId),await lf(i.localStore,o.targetId,!0))}async function WA(r,e){const t=Pe(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),tp(t.remoteStore,i.targetId))}async function qA(r,e,t){const i=ZA(r);try{const o=await(function(c,f){const g=Pe(c),v=et.now(),w=f.reduce(((N,W)=>N.add(W.key)),Ve());let T,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let W=Br(),B=Ve();return g.xs.getEntries(N,w).next((j=>{W=j,W.forEach(((G,X)=>{X.isValidDocument()||(B=B.add(G))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,W))).next((j=>{T=j;const G=[];for(const X of f){const Y=rR(X,T.get(X.key).overlayedDocument);Y!=null&&G.push(new zi(X.key,Y,X_(Y.value.mapValue),xn.exists(!0)))}return g.mutationQueue.addMutationBatch(N,v,G,f)})).next((j=>{x=j;const G=j.applyToLocalDocumentSet(T,B);return g.documentOverlayCache.saveOverlays(N,j.batchId,G)}))})).then((()=>({batchId:x.batchId,changes:l0(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,f,g){let v=c.du[c.currentUser.toKey()];v||(v=new at(Oe)),v=v.insert(f,g),c.du[c.currentUser.toKey()]=v})(i,o.batchId,t),await Tl(i,o.changes),await $c(i.remoteStore)}catch(o){const l=op(o,"Failed to persist write");t.reject(l)}}async function $0(r,e){const t=Pe(r);try{const i=await tA(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?He(c.hu,14607):o.removedDocuments.size>0&&(He(c.hu,42227),c.hu=!1))})),await Tl(t,i,e)}catch(i){await zo(i)}}function tv(r,e,t){const i=Pe(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(c,f){const g=Pe(c);g.onlineState=f;let v=!1;g.queries.forEach(((w,T)=>{for(const x of T.ba)x.va(f)&&(v=!0)})),v&&ap(g)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function KA(r,e,t){const i=Pe(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new at(we.comparator);c=c.insert(l,Wt.newNoDocument(l,Re.min()));const f=Ve().add(l),g=new Uc(Re.min(),new Map,new at(Oe),c,f);await $0(i,g),i.Ru=i.Ru.remove(l),i.Au.delete(e),up(i)}else await lf(i.localStore,e,!1).then((()=>hf(i,e,t))).catch(zo)}async function GA(r,e){const t=Pe(r),i=e.batch.batchId;try{const o=await eA(t.localStore,e);W0(t,i,null),H0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Tl(t,o)}catch(o){await zo(o)}}async function QA(r,e,t){const i=Pe(r);try{const o=await(function(c,f){const g=Pe(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return g.mutationQueue.lookupMutationBatch(v,f).next((T=>(He(T!==null,37113),w=T.keys(),g.mutationQueue.removeMutationBatch(v,T)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>g.localDocuments.getDocuments(v,w)))}))})(i.localStore,e);W0(i,e,t),H0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Tl(i,o)}catch(o){await zo(o)}}function H0(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function W0(r,e,t){const i=Pe(r);let o=i.du[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function hf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||q0(r,i)}))}function q0(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(tp(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),up(r))}function nv(r,e,t){for(const i of t)i instanceof U0?(r.Vu.addReference(i.key,e),YA(r,i)):i instanceof z0?(ce(lp,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||q0(r,i.key)):Se(19791,{wu:i})}function YA(r,e){const t=e.key,i=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(i)||(ce(lp,"New document in limbo: "+t),r.Eu.add(i),up(r))}function up(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new we(Ze.fromString(e)),i=r.fu.next();r.Au.set(i,new FA(t)),r.Ru=r.Ru.insert(t,i),L0(r.remoteStore,new xi(ur(Wf(t.path)),i,"TargetPurposeLimboResolution",Dc.ce))}}async function Tl(r,e,t){const i=Pe(r),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,g)=>{c.push(i.pu(g,e,t).then((v=>{var w;if((v||t)&&i.isPrimaryClient){const T=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))==null?void 0:w.current;i.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Zf.Es(g.targetId,v);l.push(T)}})))})),await Promise.all(c),i.Pu.J_(o),await(async function(g,v){const w=Pe(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Q.forEach(v,(x=>Q.forEach(x.Ts,(N=>w.persistence.referenceDelegate.addReference(T,x.targetId,N))).next((()=>Q.forEach(x.Is,(N=>w.persistence.referenceDelegate.removeReference(T,x.targetId,N)))))))))}catch(T){if(!Bo(T))throw T;ce(ep,"Failed to update sequence numbers: "+T)}for(const T of v){const x=T.targetId;if(!T.fromCache){const N=w.vs.get(x),W=N.snapshotVersion,B=N.withLastLimboFreeSnapshotVersion(W);w.vs=w.vs.insert(x,B)}}})(i.localStore,l))}async function JA(r,e){const t=Pe(r);if(!t.currentUser.isEqual(e)){ce(lp,"User change. New user:",e.toKey());const i=await P0(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((g=>{g.reject(new ge(J.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Tl(t,i.Ns)}}function XA(r,e){const t=Pe(r),i=t.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let o=Ve();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function K0(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=$0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KA.bind(null,e),e.Pu.J_=LA.bind(null,e.eventManager),e.Pu.yu=OA.bind(null,e.eventManager),e}function ZA(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QA.bind(null,e),e}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ZR(this.persistence,new YR,e.initialUser,this.serializer)}Cu(e){return new A0(Xf.Vi,this.serializer)}Du(e){return new oA}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class e2 extends Sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){He(this.persistence.referenceDelegate instanceof Ec,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OR(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new A0((i=>Ec.Vi(i,t)),this.serializer)}}class df{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=JA.bind(null,this.syncEngine),await AA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NA})()}createDatastore(e){const t=zc(e.databaseInfo.databaseId),i=hA(e.databaseInfo);return gA(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,c,f){return new vA(i,o,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>tv(this.syncEngine,t,0)),(function(){return Qy.v()?new Qy:new aA})())}createSyncEngine(e,t){return(function(o,l,c,f,g,v,w){const T=new UA(o,l,c,f,g,v);return w&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Pe(o);ce(xs,"RemoteStore shutting down."),l.Ea.add(5),await El(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}df.provider={build:()=>new df};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="FirestoreClient";class n2{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=o,this.user=Ht.UNAUTHENTICATED,this.clientId=Mf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ce(Mi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ce(Mi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=op(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Vd(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Mi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await P0(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await r2(r);ce(Mi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Jy(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Jy(e.remoteStore,o))),r._onlineComponents=e}async function r2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Mi,"Using user provided OfflineComponentProvider");try{await Vd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ao("Error using user provided cache. Falling back to memory cache: "+t),await Vd(r,new Sc)}}else ce(Mi,"Using default OfflineComponentProvider"),await Vd(r,new e2(void 0));return r._offlineComponents}async function G0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Mi,"Using user provided OnlineComponentProvider"),await rv(r,r._uninitializedComponentsProvider._online)):(ce(Mi,"Using default OnlineComponentProvider"),await rv(r,new df))),r._onlineComponents}function i2(r){return G0(r).then((e=>e.syncEngine))}async function s2(r){const e=await G0(r),t=e.eventManager;return t.onListen=zA.bind(null,e.syncEngine),t.onUnlisten=HA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WA.bind(null,e.syncEngine),t}function o2(r,e,t={}){const i=new Pi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,g,v){const w=new t2({next:x=>{w.Nu(),c.enqueueAndForget((()=>bA(l,T)));const N=x.docs.has(f);!N&&x.fromCache?v.reject(new ge(J.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&g&&g.source==="server"?v.reject(new ge(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),T=new VA(Wf(f.path),w,{includeMetadataChanges:!0,Ka:!0});return DA(l,T)})(await s2(r),r.asyncQueue,e,t,i))),i.promise}function a2(r,e){const t=new Pi;return r.asyncQueue.enqueueAndForget((async()=>qA(await i2(r),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="ComponentProvider",iv=new Map;function u2(r,e,t,i,o){return new xC(r,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Q0(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="firestore.googleapis.com",sv=!0;class ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y0,this.ssl=sv}else this.host=e.host,this.ssl=e.ssl??sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bR)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q0(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new iC;switch(i.type){case"firstParty":return new lC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=iv.get(t);i&&(ce(l2,"Removing Datastore"),iv.delete(t),i.terminate())})(this),Promise.resolve()}}function c2(r,e,t,i={}){var v;r=No(r,Hc);const o=jo(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;o&&(Qv(`https://${f}`),Yv("Firestore",!0)),l.host!==Y0&&l.host!==f&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:f,ssl:o,emulatorOptions:i};if(!Es(g,c)&&(r._setSettings(g),i.mockUserToken)){let w,T;if(typeof i.mockUserToken=="string")w=i.mockUserToken,T=Ht.MOCK_USER;else{w=CS(i.mockUserToken,(v=r._app)==null?void 0:v.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ht(x)}r._authCredentials=new sC(new U_(w,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new cp(this.firestore,e,this._query)}}class St{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(vl(t,St._jsonSchema))return new St(e,i||null,new we(Ze.fromString(t.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:_t("string",St._jsonSchemaVersion),referencePath:_t("string")};class Ni extends cp{constructor(e,t,i){super(e,t,Wf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new we(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function h2(r,e,...t){if(r=Vt(r),z_("collection","path",e),r instanceof Hc){const i=Ze.fromString(e,...t);return wy(i),new Ni(r,null,i)}{if(!(r instanceof St||r instanceof Ni))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Ze.fromString(e,...t));return wy(i),new Ni(r.firestore,null,i)}}function hp(r,e,...t){if(r=Vt(r),arguments.length===1&&(e=Mf.newId()),z_("doc","path",e),r instanceof Hc){const i=Ze.fromString(e,...t);return _y(i),new St(r,null,new we(i))}{if(!(r instanceof St||r instanceof Ni))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Ze.fromString(e,...t));return _y(i),new St(r.firestore,r instanceof Ni?r.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new D0(this,"async_queue_retry"),this._c=()=>{const i=Od();i&&ce(av,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Od();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Od();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Pi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;ce(av,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",uv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=sp.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function uv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Wc extends Hc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function d2(r,e){const t=typeof r=="object"?r:e_(),i=typeof r=="string"?r:pc,o=kf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=xS("firestore");l&&c2(o,...l)}return o}function dp(r){if(r._terminated)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||f2(r),r._firestoreClient}function f2(r){var i,o,l,c;const e=r._freezeSettings(),t=u2(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new n2(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(jt.fromBase64String(e))}catch(t){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new In(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vl(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:_t("string",In._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hr._jsonSchemaVersion}}static fromJSON(e){if(vl(e,hr._jsonSchema))return new hr(e.latitude,e.longitude)}}hr._jsonSchemaVersion="firestore/geoPoint/1.0",hr._jsonSchema={type:_t("string",hr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vl(e,Bn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Bn(e.vectorValues);throw new ge(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bn._jsonSchemaVersion="firestore/vectorValue/1.0",Bn._jsonSchema={type:_t("string",Bn._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=/^__.*__$/;class m2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new _l(e,this.data,t,this.fieldTransforms)}}class J0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new zi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function X0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:r})}}class mp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new mp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ic(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(X0(this.dataSource)&&p2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class g2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||zc(e)}createContext(e,t,i,o=!1){return new mp({dataSource:e,methodName:t,targetDoc:i,path:Ot.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Z0(r){const e=r._freezeSettings(),t=zc(r._databaseId);return new g2(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ew(r,e,t,i,o,l={}){const c=r.createContext(l.merge||l.mergeFields?2:0,e,t,o);gp("Data must be an object, but it was:",c,i);const f=tw(i,c);let g,v;if(l.merge)g=new pn(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const x=ul(e,T,t);if(!c.contains(x))throw new ge(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);iw(w,x)||w.push(x)}g=new pn(w),v=c.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,v=c.fieldTransforms;return new m2(new rn(f),g,v)}class qc extends pp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}function y2(r,e,t,i){const o=r.createContext(1,e,t);gp("Data must be an object, but it was:",o,i);const l=[],c=rn.empty();Ui(i,((g,v)=>{const w=rw(e,g,t);v=Vt(v);const T=o.childContextForFieldPath(w);if(v instanceof qc)l.push(w);else{const x=Kc(v,T);x!=null&&(l.push(w),c.set(w,x))}}));const f=new pn(l);return new J0(c,f,o.fieldTransforms)}function v2(r,e,t,i,o,l){const c=r.createContext(1,e,t),f=[ul(e,i,t)],g=[o];if(l.length%2!=0)throw new ge(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(ul(e,l[x])),g.push(l[x+1]);const v=[],w=rn.empty();for(let x=f.length-1;x>=0;--x)if(!iw(v,f[x])){const N=f[x];let W=g[x];W=Vt(W);const B=c.childContextForFieldPath(N);if(W instanceof qc)v.push(N);else{const j=Kc(W,B);j!=null&&(v.push(N),w.set(N,j))}}const T=new pn(v);return new J0(w,T,c.fieldTransforms)}function Kc(r,e){if(nw(r=Vt(r)))return gp("Unsupported field value:",e,r),tw(r,e);if(r instanceof pp)return(function(i,o){if(!X0(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const l=[];let c=0;for(const f of i){let g=Kc(f,o.childContextForArray(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=Vt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=et.fromDate(i);return{timestampValue:wc(o.serializer,l)}}if(i instanceof et){const l=new et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wc(o.serializer,l)}}if(i instanceof hr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof In)return{bytesValue:w0(o.serializer,i._byteString)};if(i instanceof St){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Bn)return(function(c,f){const g=c instanceof Bn?c.toArray():c;return{mapValue:{fields:{[Y_]:{stringValue:J_},[mc]:{arrayValue:{values:g.map((w=>{if(typeof w!="number")throw f.createError("VectorValues must only contain numeric values.");return qf(f.serializer,w)}))}}}}}})(i,o);if(C0(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ff(i)}`)})(r,e)}function tw(r,e){const t={};return H_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(r,((i,o)=>{const l=Kc(o,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function nw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof et||r instanceof hr||r instanceof In||r instanceof St||r instanceof pp||r instanceof Bn||C0(r))}function gp(r,e,t){if(!nw(t)||!B_(t)){const i=Ff(t);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function ul(r,e,t){if((e=Vt(e))instanceof fp)return e._internalPath;if(typeof e=="string")return rw(r,e);throw Ic("Field path arguments must be of type string or ",r,!1,void 0,t)}const _2=new RegExp("[~\\*/\\[\\]]");function rw(r,e,t){if(e.search(_2)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new fp(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ic(r,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${i}`),c&&(g+=` in document ${o}`),g+=")"),new ge(J.INVALID_ARGUMENT,f+r+g)}function iw(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{convertValue(e,t="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ui(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[mc].arrayValue)==null?void 0:o.values)==null?void 0:l.map((c=>ft(c.doubleValue)));return new Bn(t)}convertGeoPoint(e){return new hr(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Lc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const t=Li(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ze.fromString(e);He(k0(i),9688,{name:e});const o=new sl(i.get(1),i.get(3)),l=new we(i.popFirst(5));return o.isEqual(t)||zr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends w2{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}}const cv="@firebase/firestore",hv="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(ul("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class T2 extends sw{data(){return super.data()}}function ow(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ws extends sw{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ul("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ws._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:_t("string",ws._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class rc extends ws{data(e={}){return super.data(e)}}class Za{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new qa(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new rc(this._firestore,this._userDataWriter,i.key,i,new qa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((f=>{const g=new rc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const g=new rc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return f.type!==0&&(v=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:S2(f.type),doc:g,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:_t("string",Za._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Z0(e)}set(e,t,i){this._verifyNotCommitted();const o=jd(e,this._firestore),l=ow(o.converter,t,i),c=ew(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,i);return this._mutations.push(c.toMutation(o._key,xn.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const l=jd(e,this._firestore);let c;return c=typeof(t=Vt(t))=="string"||t instanceof fp?v2(this._dataReader,"WriteBatch.update",l._key,t,i,o):y2(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jd(e,this._firestore);return this._mutations=this._mutations.concat(new Kf(t._key,xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ge(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jd(r,e){if((r=Vt(r)).firestore!==e)throw new ge(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r){r=No(r,St);const e=No(r.firestore,Wc),t=dp(e);return o2(t,r._key).then((i=>k2(e,r,i)))}function aw(r,e,t){r=No(r,St);const i=No(r.firestore,Wc),o=ow(r.converter,e,t),l=Z0(i);return lw(i,[ew(l,"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,xn.none())])}function lw(r,e){const t=dp(r);return a2(t,e)}function k2(r,e,t){const i=t.docs.get(e._key),o=new E2(r);return new ws(r,o,e._key,i,new qa(t.hasPendingWrites,t.fromCache),e.converter)}function C2(r){return r=No(r,Wc),dp(r),new I2(r,(e=>lw(r,e)))}(function(e,t=!0){rC(Mo),Co(new Ts("firestore",((i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Wc(new oC(i.getProvider("auth-internal")),new uC(c,i.getProvider("app-check-internal")),kC(c,o),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ri(cv,hv,e),Ri(cv,hv,"esm2020")})();const R2={apiKey:"AIzaSyCO5r-8hPDpEJD2qY2llWyf_gAQXVlu4CU",authDomain:"stop-procrastinating-9ffaf.firebaseapp.com",projectId:"stop-procrastinating-9ffaf",storageBucket:"stop-procrastinating-9ffaf.firebasestorage.app",messagingSenderId:"270312713724",appId:"1:270312713724:web:98e212793206ff87511679",measurementId:"G-KYLVPZXV20"},uw=Zv(R2),$r=tC(uw),A2=new Lr,xc=d2(uw),he={USER_MOOD:"sp_user_mood",TASKS:"sp_tasks",SCHEDULED_TASKS:"sp_scheduled_tasks",DISTRACTION_LOGS:"sp_distraction_logs",WORK_LOGS:"sp_work_logs",REFLECTIONS:"sp_daily_reflections",USER_STATS:"sp_user_stats",EVENT_LOG:"sp_event_log"},cw=async(r,e,t=!1)=>{const i=$r.currentUser;if(i)try{const o=hp(xc,"users",i.uid);t||window.dispatchEvent(new CustomEvent("sp-sync-start"));const c={[he.TASKS]:"tasks",[he.SCHEDULED_TASKS]:"scheduled",[he.REFLECTIONS]:"reflections",[he.USER_STATS]:"stats",[he.USER_MOOD]:"mood",[he.DISTRACTION_LOGS]:"distractions",[he.WORK_LOGS]:"work_logs"}[r];if(c){const f=typeof e=="object"?JSON.stringify(e):e;await aw(o,{[c]:f},{merge:!0}),console.log(`Synced ${r} to cloud.`),t||window.dispatchEvent(new CustomEvent("sp-sync-success"))}}catch(o){console.error("Cloud sync failed:",o),t||window.dispatchEvent(new CustomEvent("sp-sync-error",{detail:o}))}},Ne=(r,e=null)=>{try{const t=localStorage.getItem(r);return t?JSON.parse(t):e}catch(t){return console.error(`Error reading ${r} from storage:`,t),e}},vt=(r,e)=>{try{localStorage.setItem(r,JSON.stringify(e)),cw(r,e)}catch(t){console.error(`Error writing ${r} to storage:`,t)}},hw=()=>{const r=new Date().toDateString();let e=Ne(he.USER_STATS,{totalPoints:0,currentStreak:0,longestStreak:0,lastActiveDate:null});if(e.lastActiveDate!==r){const t=new Date;t.setDate(t.getDate()-1),e.lastActiveDate===t.toDateString()?e.currentStreak+=1:e.lastActiveDate===null?e.currentStreak=1:e.currentStreak+=1,e.currentStreak>e.longestStreak&&(e.longestStreak=e.currentStreak),e.lastActiveDate=r,vt(he.USER_STATS,e)}return e},ff=r=>{let e=Ne(he.USER_STATS,{totalPoints:0,currentStreak:0,longestStreak:0,lastActiveDate:null});return e.totalPoints+=r,vt(he.USER_STATS,e),e},dw=()=>{Object.values(he).forEach(r=>{localStorage.removeItem(r)}),localStorage.removeItem("sp_user_name")},P2=async()=>{if($r.currentUser){window.dispatchEvent(new CustomEvent("sp-sync-start"));try{const e=Object.values(he).map(async t=>{const i=Ne(t);i!==null&&await cw(t,i,!0)});return await Promise.all(e),window.dispatchEvent(new CustomEvent("sp-sync-success")),!0}catch(e){return console.error("Force sync failed:",e),window.dispatchEvent(new CustomEvent("sp-sync-error",{detail:e})),!1}}},fw=O.createContext(),pw=()=>O.useContext(fw),N2=({children:r})=>{const[e,t]=O.useState(()=>{try{return localStorage.getItem("sp_theme")||"light"}catch{return"light"}});O.useEffect(()=>{const o=document.documentElement;e==="dark"?o.setAttribute("data-theme","dark"):o.removeAttribute("data-theme"),localStorage.setItem("sp_theme",e)},[e]);const i=()=>{t(o=>o==="light"?"dark":"light")};return y.jsx(fw.Provider,{value:{theme:e,toggleTheme:i},children:r})},At=({children:r})=>{const e=Fi(),t=Ne(he.USER_STATS,{totalPoints:0,currentStreak:0}),[i,o]=O.useState(null),{theme:l,toggleTheme:c}=pw();return O.useEffect(()=>{const f=$x($r,g=>{o(g)});return()=>f()},[]),y.jsxs("div",{className:"layout-wrapper",style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[y.jsxs("header",{style:{padding:"1rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",background:"var(--header-bg)",color:"var(--color-text-primary)"},children:[y.jsx(gs,{to:"/",style:{textDecoration:"none",color:"var(--color-primary)",fontWeight:"bold"},children:"Stop Procrastinating"}),y.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",fontSize:"0.875rem"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[y.jsx("span",{role:"img","aria-label":"streak",children:""}),y.jsxs("span",{children:[t.currentStreak," Days"]})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[y.jsx("span",{role:"img","aria-label":"points",children:""}),y.jsxs("span",{children:[t.totalPoints," pts"]})]}),y.jsx(gs,{to:"/settings",style:{color:"var(--color-primary)",display:"flex",alignItems:"center"},children:y.jsx(XT,{size:20})}),y.jsx("button",{onClick:c,style:{background:"none",border:"none",cursor:"pointer",color:"var(--color-primary)",display:"flex",alignItems:"center",padding:"0.25rem"},"aria-label":"Toggle Theme",children:l==="light"?y.jsx(Tf,{size:20}):y.jsx(Sf,{size:20})}),i?y.jsx(gs,{to:"/settings",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginLeft:"0.5rem",textDecoration:"none",color:"inherit"},children:i.photoURL?y.jsx("img",{src:i.photoURL,alt:"User",style:{width:"28px",height:"28px",borderRadius:"50%",objectFit:"cover"}}):y.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(99, 102, 241, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-primary)"},children:y.jsx(Uv,{size:16})})}):y.jsxs(gs,{to:"/signin",style:{display:"flex",alignItems:"center",gap:"0.25rem",textDecoration:"none",color:"var(--color-primary)",marginLeft:"0.5rem"},children:[y.jsx(Vv,{size:18}),y.jsx("span",{children:"Sign In"})]})]})]}),y.jsx("main",{style:{flex:1,paddingBottom:"2rem"},children:r}),y.jsxs("nav",{style:{position:"fixed",bottom:0,left:0,width:"100%",background:"var(--nav-bg)",borderTop:"1px solid var(--border-color)",display:"flex",justifyContent:"space-around",padding:"0.75rem 0",zIndex:100},children:[y.jsx(Ba,{to:"/",icon:y.jsx(MT,{size:20}),label:"Home",active:e.pathname==="/"||e.pathname==="/mood"}),y.jsx(Ba,{to:"/schedule",icon:y.jsx(wf,{size:20}),label:"Tasks",active:e.pathname==="/schedule"}),y.jsx(Ba,{to:"/limit",icon:y.jsx(Mv,{size:20}),label:"Limit",active:e.pathname==="/limit"}),y.jsx(Ba,{to:"/reflect",icon:y.jsx(ST,{size:20}),label:"Reflect",active:e.pathname==="/reflect"}),y.jsx(Ba,{to:"/analysis",icon:y.jsx(lS,{size:20}),label:"Analysis",active:e.pathname==="/analysis"})]}),y.jsx("div",{style:{height:"70px"}})]})},Ba=({to:r,icon:e,label:t,active:i})=>y.jsxs(gs,{to:r,style:{display:"flex",flexDirection:"column",alignItems:"center",textDecoration:"none",color:i?"var(--color-primary)":"var(--color-text-secondary)",fontSize:"0.75rem"},children:[e,y.jsx("span",{style:{marginTop:"0.25rem"},children:t})]}),D2=()=>{const r=Rn(),[e,t]=O.useState("Friend"),[i,o]=O.useState(0),[l,c]=O.useState(0),[f,g]=O.useState("Start your day!"),[v,w]=O.useState([]),[T,x]=O.useState(null);return O.useEffect(()=>{t(Ne(he.USER_NAME,"Friend"));const N=Ne(he.USER_STATS,{currentStreak:0,totalPoints:0});o(N.currentStreak),c(N.totalPoints),(()=>{const B=new Date().setHours(0,0,0,0),G=Ne(he.DISTRACTION_LOGS,[]).filter(oe=>new Date(oe.date).setHours(0,0,0,0)===B),X=G.reduce((oe,Ce)=>oe+parseInt(Ce.duration||0),0),Y=G.length,se={};G.forEach(oe=>{se[oe.app]=(se[oe.app]||0)+parseInt(oe.duration||0)});const pe=Object.entries(se).sort(([,oe],[,Ce])=>Ce-oe).slice(0,3).map(([oe,Ce])=>({name:oe,duration:Ce}));w(pe);const le=Ne(he.TASKS,[]),A=Ne(he.SCHEDULED_TASKS,[]),S=le.filter(oe=>oe.completed&&oe.completedAt&&new Date(oe.completedAt).setHours(0,0,0,0)===B),k=A.filter(oe=>oe.completed&&oe.completedAt&&new Date(oe.completedAt).setHours(0,0,0,0)===B),P=[...S,...k],D=P.reduce((oe,Ce)=>oe+(parseInt(Ce.timeTaken)||0),0),R=Ne(he.WORK_LOGS,[]).filter(oe=>new Date(oe.date).setHours(0,0,0,0)===B),ze=R.reduce((oe,Ce)=>oe+parseInt(Ce.duration||0),0),tt=D+ze,nt=P.length,We=P.reduce((oe,Ce)=>{if(Ce.pointsEarned!==void 0)return oe+Ce.pointsEarned;const je=parseInt(Ce.timeTaken)||0;return oe+10+je},0)+R.length*2;let ne=0,ye=0;const q=tt+X;let b="Ready to start?";if(q>0){const oe=Math.round(X/q*100);ye=oe,ne=100-oe,ne>=80?b="You are on fire!  Highly Focused.":ne>=50?b="Good flow. Keep working! ":ne>=30?b="Distractions are creeping in. ":b="Procrastination is winning. Fight back! "}g(b);const ae=Ne(he.REFLECTIONS,[]).sort((oe,Ce)=>new Date(Ce.date)-new Date(oe.date))[0],Ie=ae?ae.tomorrowGoal:null;x({date:new Date().toISOString(),workScore:ne,procrastinationScore:ye,tasksDoneCount:nt,pointsScored:We,distractionTime:X,distractionCount:Y,tomorrowGoal:Ie,isLive:!0})})()},[]),y.jsx(At,{children:y.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"2rem"},children:[y.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"0.5rem",background:"linear-gradient(135deg, #6366f1 0%, #a855f7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Stop Procrastinating"}),y.jsx("p",{style:{fontSize:"1.2rem",color:"var(--color-text-secondary)",marginBottom:"2rem"},children:"Start small. Be kind to yourself."}),y.jsxs("div",{className:"card",style:{textAlign:"left",marginBottom:"2rem"},children:[y.jsxs("h3",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[y.jsx(dS,{className:"text-secondary",size:20}),"Your Progress"]}),y.jsx("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-md)",fontWeight:"500",color:"var(--color-primary)"},children:f}),y.jsxs("ul",{style:{paddingLeft:"1.5rem",color:"var(--color-text-secondary)",lineHeight:"1.6",marginBottom:"1rem"},children:[y.jsxs("li",{children:[y.jsx("strong",{children:i})," Total Days Active"]}),y.jsxs("li",{children:[y.jsx("strong",{children:l})," Focus Points"]})]}),v.length>0&&y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"var(--color-text-primary)"},children:"Top Distractions Today:"}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.5rem"},children:v.map((N,W)=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fef2f2",padding:"0.5rem 0.75rem",borderRadius:"0.5rem",border:"1px solid #fecaca"},children:[y.jsx("span",{style:{color:"#ef4444",fontWeight:"500"},children:N.name}),y.jsxs("span",{style:{fontWeight:"bold",color:"#b91c1c"},children:[N.duration,"m"]})]},W))})]})]}),y.jsx("div",{style:{marginTop:"2rem"},children:y.jsxs("button",{className:"btn-primary",onClick:()=>r("/mood"),children:["Get Started ",y.jsx(yT,{size:18,style:{marginLeft:"0.5rem"}})]})}),T&&y.jsxs("div",{style:{marginTop:"3rem",textAlign:"left"},children:[y.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-text-secondary)"},children:[y.jsx(pT,{size:18}),"Today's Live Snapshot"]}),y.jsxs("div",{className:"card",children:[y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.9rem"},children:[y.jsxs("span",{style:{color:"#15803d",fontWeight:"bold"},children:["Work ",T.workScore,"%"]}),y.jsxs("span",{style:{color:"#b91c1c",fontWeight:"bold"},children:["Procrastinate ",T.procrastinationScore,"%"]})]}),y.jsxs("div",{style:{height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden",display:"flex"},children:[y.jsx("div",{style:{width:`${T.workScore}%`,background:"#22c55e"}}),y.jsx("div",{style:{width:`${T.procrastinationScore}%`,background:"#ef4444"}})]})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem",paddingBottom:"1.5rem",borderBottom:"1px solid #f1f5f9"},children:[y.jsxs("div",{style:{textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-primary)"},children:T.tasksDoneCount||0}),y.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-secondary)"},children:"Tasks Done"})]}),y.jsxs("div",{style:{textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-warning)"},children:T.pointsScored||0}),y.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-secondary)"},children:"Points Scored"})]})]}),y.jsxs("div",{style:{display:"flex",gap:"2rem",marginBottom:"1.5rem"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:"Distractions"}),y.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:[T.distractionTime||0,"m"]})]}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:"Count"}),y.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:T.distractionCount||0})]})]}),T.tomorrowGoal&&y.jsxs("div",{style:{padding:"1rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-md)"},children:[y.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-primary)",display:"flex",alignItems:"center",gap:"0.25rem",marginBottom:"0.25rem"},children:[y.jsx(wf,{size:14}),new Date(T.date).toDateString()===new Date().toDateString()?"Goal for Tomorrow":"Target set for Today"]}),y.jsx("div",{style:{fontWeight:500},children:T.tomorrowGoal})]})]})]})]})})},b2=(r,e={})=>{const t=new Date;let i="night";if(e.overrideTimeOfDay)i=e.overrideTimeOfDay;else{const f=t.getHours();f>=5&&f<12?i="morning":f>=12&&f<17?i="afternoon":f>=17&&f<21&&(i="evening")}const{overrideTimeOfDay:o,...l}=e,c=Ne(he.USER_MOOD,"neutral");return{event_id:crypto.randomUUID(),user_id:$r.currentUser?$r.currentUser.uid:"local_user",timestamp:t.toISOString(),date:t.toISOString().split("T")[0],time_of_day:i,event_type:r,mood_before:c,payload:l,synced:!1}},Ho=(r,e)=>{const t=b2(r,e),i=Ne(he.EVENT_LOG,[]);i.push(t),vt(he.EVENT_LOG,i),L2()},L2=async()=>{const r=$r.currentUser;if(!r)return;const e=Ne(he.EVENT_LOG,[]),t=e.filter(i=>!i.synced);if(t.length!==0)try{const i=C2(xc),o=h2(xc,"users",r.uid,"events");t.forEach(c=>{const f=hp(o,c.event_id),{synced:g,...v}=c;i.set(f,v)}),await i.commit();const l=e.map(c=>t.find(f=>f.event_id===c.event_id)?{...c,synced:!0}:c);vt(he.EVENT_LOG,l),console.log(`Synced ${t.length} events to cloud.`)}catch(i){console.error("Failed to sync events:",i)}},O2=()=>{const r=Rn(),e=[{id:"focused",label:"Focused",icon:y.jsx(Bv,{size:32}),color:"var(--color-success)",desc:"I'm ready to tackle something big."},{id:"low-energy",label:"Low Energy",icon:y.jsx(_T,{size:32}),color:"var(--color-warning)",desc:"I need something small and easy."},{id:"bored",label:"Bored",icon:y.jsx(OT,{size:32}),color:"var(--color-text-accent)",desc:"I need to get interested."}],t=i=>{vt(he.USER_MOOD,i),Ho("mood_update",{mood:i}),r("/tasks")};return y.jsx(At,{children:y.jsxs("div",{className:"container",children:[y.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem"},children:"How are you feeling right now?"}),y.jsx("div",{style:{display:"grid",gap:"1rem"},children:e.map(i=>y.jsxs("button",{onClick:()=>t(i.id),className:"card",style:{display:"flex",alignItems:"center",gap:"1rem",textAlign:"left",width:"100%",border:"1px solid transparent",cursor:"pointer",transition:"transform 0.2s, border-color 0.2s"},onMouseEnter:o=>{o.currentTarget.style.transform="scale(1.02)",o.currentTarget.style.borderColor=i.color},onMouseLeave:o=>{o.currentTarget.style.transform="scale(1)",o.currentTarget.style.borderColor="transparent"},children:[y.jsx("div",{style:{color:i.color},children:i.icon}),y.jsxs("div",{children:[y.jsx("strong",{style:{display:"block",fontSize:"1.1rem"},children:i.label}),y.jsx("span",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)"},children:i.desc})]})]},i.id))})]})})},V2=()=>{const r=Rn(),[e,t]=O.useState([]),[i,o]=O.useState(null),[l,c]=O.useState([]);return O.useEffect(()=>{const f=Ne(he.USER_MOOD);o(f);const v=Ne(he.TASKS,[]).filter(N=>{var W;return!N.completed&&(((W=N.moods)==null?void 0:W.includes(f))||!N.moods||N.moods.length===0)});t(v);const w=Ne(he.SCHEDULED_TASKS,[]),T=new Date().setHours(0,0,0,0),x=w.filter(N=>{const W=new Date(N.startDate).setHours(0,0,0,0),B=new Date(N.dueDate).setHours(0,0,0,0);return!N.completed&&T>=W&&T<=B});c(x)},[]),y.jsx(At,{children:y.jsxs("div",{className:"container",children:[y.jsxs("button",{onClick:()=>r("/schedule"),style:{background:"transparent",border:"none",color:"var(--color-primary)",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0",fontSize:"1rem",cursor:"pointer",marginBottom:"1rem"},children:[y.jsx(Di,{size:20})," Back"]}),l.length>0&&y.jsxs("div",{style:{background:"var(--color-bg-accent)",padding:"1rem",borderRadius:"var(--radius-md)",marginBottom:"1.5rem",border:"1px solid var(--color-primary)"},children:[y.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"start",color:"var(--color-primary)",marginBottom:"0.5rem"},children:[y.jsx(Ef,{size:20,style:{marginTop:"0.1rem"}}),y.jsxs("strong",{style:{display:"block"},children:["Daily Commitments (",l.length,")"]})]}),l.map(f=>y.jsx("div",{style:{marginLeft:"1.75rem",marginBottom:"0.5rem",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.5rem"},children:y.jsxs("span",{style:{color:"var(--color-text-primary)"},children:["Planned to work on ",y.jsx("strong",{children:f.workToComplete})," for the ",y.jsx("strong",{children:f.name}),"."]})},f.id))]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[y.jsx("h2",{children:"Suggested for You"}),y.jsxs("button",{className:"btn-primary",style:{padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},onClick:()=>r("/add-task"),children:[y.jsx(zd,{size:18})," Add Task"]})]}),e.length===0?y.jsxs("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",padding:"2rem"},children:[y.jsxs("p",{children:["No tasks fit your current mood (",i,")."]}),y.jsx("p",{children:"Why not add a small one?"})]}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:e.map(f=>y.jsxs("div",{className:"card",children:[y.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:y.jsxs("div",{children:[y.jsx("h3",{style:{margin:"0 0 0.25rem",fontSize:"1.25rem"},children:f.title}),y.jsxs("p",{style:{fontSize:"0.9rem",marginBottom:"0.5rem"},children:[y.jsx("strong",{children:"Start with:"})," ",f.smallStep]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-secondary)"},children:[y.jsx(AT,{size:16})," ",f.time]})]})}),y.jsx("div",{style:{marginTop:"1rem",textAlign:"right"},children:y.jsx("button",{className:"btn-primary",style:{background:"var(--color-success)",fontSize:"0.9rem"},onClick:()=>r(`/complete/${f.id}`),children:"Task Done (Add Proof)"})})]},f.id))})]})})},j2=()=>{const r=Rn(),[e,t]=O.useState({title:"",smallStep:"",time:"15 mins",moods:[]}),i=[{id:"focused",label:"Focused"},{id:"low-energy",label:"Low Energy"},{id:"bored",label:"Bored"}],o=c=>{c.preventDefault();const f=Ne(he.TASKS,[]),g={id:Date.now().toString(),...e,completed:!1,createdAt:new Date().toISOString()};vt(he.TASKS,[g,...f]),Ho("task_create",{task_id:g.id,title:g.title,expected_time:e.time}),r("/tasks")},l=c=>{t(f=>{const g=f.moods.includes(c)?f.moods.filter(v=>v!==c):[...f.moods,c];return{...f,moods:g}})};return y.jsx(At,{children:y.jsxs("div",{className:"container",children:[y.jsxs("button",{onClick:()=>r("/schedule"),style:{background:"transparent",border:"none",color:"var(--color-primary)",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0",fontSize:"1rem",cursor:"pointer",marginBottom:"1rem"},children:[y.jsx(Di,{size:20})," Back"]}),y.jsx("h2",{children:"Add a New Task"}),y.jsxs("form",{onSubmit:o,className:"card",children:[y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Task Name"}),y.jsx("input",{required:!0,value:e.title,onChange:c=>t({...e,title:c.target.value}),placeholder:"e.g. Study Math"})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Small First Step (Crucial!)"}),y.jsx("input",{required:!0,value:e.smallStep,onChange:c=>t({...e,smallStep:c.target.value}),placeholder:"e.g. Open the textbook to page 50"}),y.jsx("small",{style:{color:"var(--color-text-secondary)"},children:"Just write what you will do in the first 2 minutes."})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Expected Time (Minutes)"}),y.jsx("input",{type:"number",required:!0,value:e.time,onChange:c=>t({...e,time:c.target.value}),placeholder:"e.g. 30"})]}),y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{children:"Best for Mood (Optional)"}),y.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:i.map(c=>y.jsx("button",{type:"button",onClick:()=>l(c.id),style:{padding:"0.5rem 1rem",borderRadius:"var(--radius-full)",border:"1px solid var(--color-primary)",background:e.moods.includes(c.id)?"var(--color-primary)":"transparent",color:e.moods.includes(c.id)?"white":"var(--color-primary)",fontSize:"0.85rem"},children:c.label},c.id))})]}),y.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%"},children:"Save Task"})]})]})})},yp=({value:r,onChange:e})=>y.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:[["15","30","45","60"].map(t=>y.jsxs("button",{type:"button",onClick:()=>e(t),style:{padding:"0.5rem 1rem",borderRadius:"2rem",border:"1px solid var(--color-primary)",background:r===t?"var(--color-primary)":"transparent",color:r===t?"white":"var(--color-primary)",cursor:"pointer",transition:"all 0.2s"},children:[t,"m"]},t)),y.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Custom (max 600)",value:r,onChange:t=>{const i=t.target.value;(i===""||/^\d+$/.test(i)&&parseInt(i,10)<=600)&&e(i)},style:{width:"120px",padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #cbd5e1",outlineColor:"var(--color-primary)"}})]}),vp=({value:r,onChange:e})=>{const t=[{id:"morning",label:"Morning",icon:y.jsx(Sf,{size:20}),color:"#f59e0b"},{id:"afternoon",label:"Afternoon",icon:y.jsx(NT,{size:20}),color:"#ea580c"},{id:"evening",label:"Evening",icon:y.jsx(nS,{size:20}),color:"#7c3aed"},{id:"night",label:"Night",icon:y.jsx(Tf,{size:20}),color:"#1e293b"}];return y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"var(--color-text-secondary)"},children:"When did this happen?"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem"},children:t.map(i=>y.jsxs("button",{type:"button",onClick:()=>e(i.id),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.25rem",padding:"0.75rem 0.25rem",borderRadius:"var(--radius-md)",border:`1px solid ${r===i.id?i.color:"transparent"}`,background:r===i.id?`${i.color}15`:"var(--color-bg-secondary)",color:r===i.id?i.color:"var(--color-text-secondary)",cursor:"pointer",transition:"all 0.2s"},children:[i.icon,y.jsx("span",{style:{fontSize:"0.75rem",fontWeight:r===i.id?"600":"400"},children:i.label})]},i.id))})]})},M2=()=>{const{taskId:r}=mE(),e=Rn(),[t,i]=O.useState(null),[o,l]=O.useState(""),[c,f]=O.useState(""),[g,v]=O.useState(null),w=O.useRef(null),T=O.useRef(null),[x,N]=O.useState(!1),[W,B]=O.useState(0),[j,G]=O.useState("morning");O.useEffect(()=>{const se=new Date().getHours();se>=5&&se<12?G("morning"):se>=12&&se<17?G("afternoon"):se>=17&&se<21?G("evening"):G("night")},[]),O.useEffect(()=>{let pe=Ne(he.TASKS,[]).find(le=>le.id===r);if(!pe){const A=Ne(he.SCHEDULED_TASKS,[]).find(S=>String(S.id)===r);A&&(pe={...A,title:A.name,smallStep:A.workToComplete||"Scheduled Work",isSchedule:!0})}pe&&i(pe)},[r]);const X=se=>{const pe=se.target.files[0];if(pe){const le=new FileReader;le.onloadend=()=>{v(le.result)},le.readAsDataURL(pe)}},Y=se=>{se.preventDefault();const pe=new Date().setHours(0,0,0,0);let le=10;if(t.isSchedule){const S=new Date(t.dueDate).setHours(0,0,0,0);pe<=S?le=100:le=10}const A=parseInt(c)||0;if(le+=A,t.isSchedule){const k=Ne(he.SCHEDULED_TASKS,[]).map(P=>String(P.id)===r?{...P,completed:!0,completedAt:new Date().toISOString(),timeTaken:parseInt(c)||0,proofImage:g,pointsEarned:le}:P);vt(he.SCHEDULED_TASKS,k)}else{const k=Ne(he.TASKS,[]).map(P=>P.id===r?{...P,completed:!0,learning:o,completedAt:new Date().toISOString(),timeTaken:parseInt(c)||0,proofImage:g,pointsEarned:le}:P);vt(he.TASKS,k)}ff(le),hw(),Ho("task_complete",{task_id:r,task_title:t.title,actual_time_spent:parseInt(c)||0,points_earned:le,has_proof:!!g,learning_note:o,overrideTimeOfDay:j}),B(le),N(!0)};return t?x?y.jsx(At,{children:y.jsxs("div",{className:"container",style:{textAlign:"center",padding:"3rem 1rem"},children:[y.jsx(Ov,{size:64,color:"var(--color-success)",style:{margin:"0 auto 1rem"}}),y.jsx("h2",{children:"Well Done!"}),y.jsx("p",{children:"You started despite resistance. That matters."}),y.jsxs("div",{style:{margin:"2rem 0",padding:"1.5rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-lg)"},children:[y.jsxs("h3",{style:{margin:0,color:"var(--color-primary)"},children:["+",W," Focus Points"]}),y.jsx("p",{style:{margin:"0.5rem 0 0"},children:"Streak Updated!"})]}),y.jsx("button",{className:"btn-primary",onClick:()=>e("/"),children:"Back Home"})]})}):y.jsx(At,{children:y.jsxs("div",{className:"container",children:[y.jsxs("h2",{children:['Complete "',t.title,'"']}),y.jsx("div",{className:"card",children:y.jsxs("form",{onSubmit:Y,children:[y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{children:"Time Taken (minutes)"}),y.jsx(yp,{value:c,onChange:f})]}),y.jsx(vp,{value:j,onChange:G}),y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{children:"What did you learn or do? (Optional)"}),y.jsx("textarea",{value:o,onChange:se=>l(se.target.value),placeholder:"I learned that starting wasn't so bad...",rows:2})]}),y.jsxs("div",{style:{marginBottom:"2rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Upload Proof (Optional)"}),y.jsx("input",{type:"file",accept:"image/*",ref:w,onChange:X,style:{display:"none"}}),y.jsx("input",{type:"file",accept:"image/*",capture:"environment",id:"cameraInput",ref:T,onChange:X,style:{display:"none"}}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[y.jsxs("div",{onClick:()=>{var se;return(se=w.current)==null?void 0:se.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1.5rem",textAlign:"center",color:"var(--color-text-secondary)",cursor:"pointer",background:g?"#f0fdf4":"transparent"},children:[y.jsx(Fv,{size:24,style:{marginBottom:"0.5rem"}}),y.jsx("div",{children:"Upload Image"})]}),y.jsxs("div",{onClick:()=>{var se;return(se=T.current)==null?void 0:se.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1.5rem",textAlign:"center",color:"var(--color-text-secondary)",cursor:"pointer",background:g?"#f0fdf4":"transparent"},children:[y.jsx(Lv,{size:24,style:{marginBottom:"0.5rem"}}),y.jsx("div",{children:"Take Photo"})]})]}),g&&y.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--color-success)",textAlign:"center"},children:"Proof Attached!"})]}),y.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%"},children:"Mark as Completed"})]})})]})}):y.jsx(At,{children:y.jsx("div",{children:"Loading..."})})},F2=()=>{const r=Rn(),[e,t]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState(null),[f,g]=O.useState(""),[v,w]=O.useState(!1),[T,x]=O.useState(!1),[N,W]=O.useState(!1),[B,j]=O.useState(""),[G,X]=O.useState(""),[Y,se]=O.useState(null),pe=O.useRef(null),le=O.useRef(null),[A,S]=O.useState("morning"),[k,P]=O.useState({name:"",workToComplete:"",startDate:"",dueDate:""}),[D,M]=O.useState({title:"",smallStep:"",time:"15 mins",moods:[]}),R=[{id:"focused",label:"Focused"},{id:"low-energy",label:"Low Energy"},{id:"bored",label:"Bored"}];O.useEffect(()=>{t(Ne(he.SCHEDULED_TASKS,[])),o(Ne(he.TASKS,[]))},[]);const ze=q=>{if(q.preventDefault(),!l||!f)return;const b=parseInt(f);if(isNaN(b)||b<=0)return;const K={id:Date.now().toString(),taskId:l.id,taskTitle:l.title||l.name,duration:b,date:new Date().toISOString()},_e=Ne(he.WORK_LOGS,[]);vt(he.WORK_LOGS,[..._e,K]),ff(b),c(null),g(""),alert(`Logged ${b} mins of work! Keep it up.`)},tt=q=>{q.preventDefault();const b=[...e,{id:Date.now(),...k}];vt(he.SCHEDULED_TASKS,b),t(b),w(!1),P({name:"",workToComplete:"",startDate:"",dueDate:""})},nt=q=>{q.preventDefault();const K=[{id:Date.now().toString(),...D,completed:!1,createdAt:new Date().toISOString()},...i];vt(he.TASKS,K),o(K),x(!1),M({title:"",smallStep:"",time:"15 mins",moods:[]})},We=q=>{M(b=>{const K=b.moods.includes(q)?b.moods.filter(_e=>_e!==q):[...b.moods,q];return{...b,moods:K}})},ne=q=>{const b=q.target.files[0];if(b){const K=new FileReader;K.onloadend=()=>{se(K.result)},K.readAsDataURL(b)}},ye=q=>{q.preventDefault();const K=10+(parseInt(G)||0),_e=Ne(he.TASKS,[]),ae={id:Date.now().toString(),title:B,smallStep:"Ad-hoc Logged",time:G,completed:!0,completedAt:new Date().toISOString(),timeTaken:parseInt(G)||0,proofImage:Y,isAdhoc:!0,pointsEarned:K};vt(he.TASKS,[ae,..._e]),o([ae,..._e]),ff(K),hw(),Ho("task_complete",{task_id:ae.id,task_title:ae.title,actual_time_spent:parseInt(G)||0,points_earned:K,has_proof:!!Y,is_adhoc:!0,overrideTimeOfDay:A}),alert(`Saved! +${K} Points.`),W(!1),j(""),X(""),se(null)};return y.jsx(At,{children:y.jsxs("div",{className:"container",children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[y.jsxs("button",{onClick:()=>r("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginRight:"1rem"},children:[y.jsx(Di,{size:18})," Back"]}),y.jsx("h2",{style:{margin:0},children:"Planning Hub"})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"3rem"},children:[y.jsxs("div",{className:"card",style:{textAlign:"center",cursor:"pointer",border:T?"2px solid var(--color-primary)":"1px solid transparent",transition:"all 0.2s",padding:"2rem 1rem"},onClick:()=>{x(!T),w(!1),W(!1)},children:[y.jsx("div",{style:{background:"var(--color-bg-accent)",width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"var(--color-primary)"},children:y.jsx(Bv,{size:24})}),y.jsx("h3",{style:{fontSize:"1.2rem",margin:"0 0 0.5rem"},children:"Add Task"}),y.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",margin:0},children:"For immediate work today. Small steps."})]}),y.jsxs("div",{className:"card",style:{textAlign:"center",cursor:"pointer",border:v?"2px solid var(--color-primary)":"1px solid transparent",padding:"2rem 1rem"},onClick:()=>{w(!v),x(!1),W(!1)},children:[y.jsx("div",{style:{background:"#f0f9ff",width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"#0284c7"},children:y.jsx(wf,{size:24})}),y.jsx("h3",{style:{fontSize:"1.2rem",margin:"0 0 0.5rem"},children:"Schedule Future Task"}),y.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",margin:0},children:"Plan ahead to reduce uncertainty."})]})]}),T&&y.jsxs("div",{style:{animation:"fadeIn 0.3s ease-in-out"},children:[y.jsx("h3",{style:{marginBottom:"1rem"},children:"Add a New Task"}),y.jsxs("form",{onSubmit:nt,className:"card",style:{marginBottom:"3rem",borderLeft:"4px solid var(--color-primary)"},children:[y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Task Name"}),y.jsx("input",{required:!0,value:D.title,onChange:q=>M({...D,title:q.target.value}),placeholder:"e.g. Study Math",autoFocus:!0})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Small First Step (Crucial!)"}),y.jsx("input",{required:!0,value:D.smallStep,onChange:q=>M({...D,smallStep:q.target.value}),placeholder:"e.g. Open the textbook to page 50"}),y.jsx("small",{style:{color:"var(--color-text-secondary)"},children:"Just write what you will do in the first 2 minutes."})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Expected Time (Minutes)"}),y.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",required:!0,value:D.time,onChange:q=>{const b=q.target.value;b===""?M({...D,time:b}):/^\d+$/.test(b)&&parseInt(b,10)<=600&&M({...D,time:b})},placeholder:"e.g. 30 (max 600)"})]}),y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{children:"Best for Mood (Optional)"}),y.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:R.map(q=>y.jsx("button",{type:"button",onClick:()=>We(q.id),style:{padding:"0.5rem 1rem",borderRadius:"var(--radius-full)",border:"1px solid var(--color-primary)",background:D.moods.includes(q.id)?"var(--color-primary)":"transparent",color:D.moods.includes(q.id)?"white":"var(--color-primary)",fontSize:"0.85rem"},children:q.label},q.id))})]}),y.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[y.jsx("button",{type:"button",onClick:()=>x(!1),className:"btn-secondary",style:{flex:1},children:"Cancel"}),y.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Save Task"})]})]})]}),v&&y.jsxs("div",{style:{animation:"fadeIn 0.3s ease-in-out"},children:[y.jsx("h3",{style:{marginBottom:"1rem"},children:"New Future Plan"}),y.jsxs("form",{onSubmit:tt,className:"card",style:{marginBottom:"3rem",borderLeft:"4px solid #0284c7"},children:[y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Task Name"}),y.jsx("input",{required:!0,value:k.name,onChange:q=>P({...k,name:q.target.value}),autoFocus:!0})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Work to Complete"}),y.jsx("input",{value:k.workToComplete,onChange:q=>P({...k,workToComplete:q.target.value}),placeholder:"e.g. Read Chapters 1-3"})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[y.jsxs("div",{children:[y.jsx("label",{children:"Start Date"}),y.jsx("input",{type:"date",required:!0,value:k.startDate,onChange:q=>P({...k,startDate:q.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{children:"Due Date"}),y.jsx("input",{type:"date",required:!0,value:k.dueDate,onChange:q=>P({...k,dueDate:q.target.value})})]})]}),y.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[y.jsx("button",{type:"button",onClick:()=>w(!1),className:"btn-secondary",style:{flex:1},children:"Cancel"}),y.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Save Plan"})]})]})]}),N&&y.jsxs("div",{style:{animation:"fadeIn 0.3s ease-in-out"},children:[y.jsx("h3",{style:{marginBottom:"1rem"},children:"Log Unplanned Work"}),y.jsxs("form",{onSubmit:ye,className:"card",style:{marginBottom:"3rem",borderLeft:"4px solid #8b5cf6"},children:[y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"What did you do?"}),y.jsx("input",{required:!0,value:B,onChange:q=>j(q.target.value),placeholder:"e.g. Helper a friend",autoFocus:!0})]}),y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{children:"Time Taken (minutes)"}),y.jsx(yp,{value:G,onChange:X})]}),y.jsxs("div",{style:{marginBottom:"2rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Upload Proof (Optional)"}),y.jsx("input",{type:"file",accept:"image/*",ref:pe,onChange:ne,style:{display:"none"}}),y.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:le,onChange:ne,style:{display:"none"}}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[y.jsxs("div",{onClick:()=>{var q;return(q=pe.current)==null?void 0:q.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1rem",textAlign:"center",cursor:"pointer",background:Y?"#f0fdf4":"transparent"},children:[y.jsx(Fv,{size:24,style:{marginBottom:"0.5rem"}}),y.jsx("div",{children:"Upload"})]}),y.jsxs("div",{onClick:()=>{var q;return(q=le.current)==null?void 0:q.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1rem",textAlign:"center",cursor:"pointer",background:Y?"#f0fdf4":"transparent"},children:[y.jsx(Lv,{size:24,style:{marginBottom:"0.5rem"}}),y.jsx("div",{children:"Camera"})]})]}),Y&&y.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--color-success)",textAlign:"center"},children:"Proof Attached!"})]}),y.jsx(vp,{value:A,onChange:S}),y.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[y.jsx("button",{type:"button",onClick:()=>W(!1),className:"btn-secondary",style:{flex:1},children:"Cancel"}),y.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Save Work"})]})]})]}),y.jsxs("div",{children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[y.jsx(UT,{size:20,className:"text-secondary"}),y.jsx("h3",{style:{margin:0,color:"var(--color-text-secondary)"},children:"Your Plans"}),y.jsx("div",{style:{flex:1}}),y.jsx("button",{onClick:()=>{W(!N),x(!1),w(!1)},style:{background:"var(--color-bg-secondary)",border:"none",padding:"0.5rem 1rem",borderRadius:"var(--radius-full)",color:"var(--color-primary)",fontSize:"0.85rem",fontWeight:"500",cursor:"pointer"},children:"+ Log Other Task"})]}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[i.length>0&&i.some(q=>!q.completed)&&y.jsx("h4",{style:{margin:"1rem 0 0.5rem",color:"var(--color-primary)",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.25rem"},children:"Daily Commitments"}),i.filter(q=>!q.completed).map(q=>y.jsxs("div",{className:"card",style:{borderLeft:"4px solid var(--color-warning)"},children:[y.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:y.jsxs("div",{children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[y.jsx("h3",{style:{margin:0},children:q.title}),y.jsx("span",{style:{fontSize:"0.75rem",background:"#fef3c7",color:"#d97706",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:"Now"})]}),y.jsx("p",{style:{margin:"0 0 0.5rem",color:"var(--color-text-primary)"},children:q.smallStep})]})}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem"},children:[y.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-secondary)"},children:["Duration: ",q.time,"m"]}),y.jsx("button",{className:"btn-primary",style:{background:"var(--color-success)",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>r(`/complete/${q.id}`),children:"Task Done"})]})]},q.id)),e.length>0&&y.jsx("h4",{style:{margin:"1.5rem 0 0.5rem",color:"#0284c7",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.25rem"},children:"Future Schedule"}),e.map(q=>{const b=new Date().setHours(0,0,0,0),K=new Date(q.startDate).setHours(0,0,0,0),_e=new Date(q.dueDate).setHours(0,0,0,0),ae=b>=K&&b<=_e;return _e<b||q.completed?null:y.jsxs("div",{className:"card",style:{borderLeft:"4px solid var(--color-primary)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[y.jsxs("div",{children:[y.jsx("h3",{style:{margin:"0 0 0.25rem"},children:q.name}),y.jsx("p",{style:{margin:"0 0 0.5rem",color:"var(--color-text-primary)"},children:q.workToComplete})]}),ae&&y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",fontSize:"0.8rem",fontWeight:"bold",background:"var(--color-bg-accent)",padding:"0.25rem 0.5rem",borderRadius:"var(--radius-md)"},children:[y.jsx(Ef,{size:14}),"Active Today"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem"},children:[y.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.85rem",color:"var(--color-text-secondary)"},children:[y.jsxs("span",{children:["Start: ",q.startDate]}),y.jsxs("span",{children:["Due: ",q.dueDate]})]}),y.jsx("button",{className:"btn-primary",style:{background:"var(--color-success)",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>r(`/complete/${q.id}`),children:"Task Done"}),y.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>c(q),children:"Done some work"})]}),(l==null?void 0:l.id)===q.id&&y.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"var(--color-bg-secondary)",borderRadius:"var(--radius-md)"},children:[y.jsx("h4",{style:{margin:"0 0 0.5rem"},children:"Log Work (Not Done Yet)"}),y.jsxs("form",{onSubmit:ze,style:{display:"flex",gap:"0.5rem"},children:[y.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Mins",value:f,onChange:Ie=>{const oe=Ie.target.value;(oe===""||/^\d+$/.test(oe)&&parseInt(oe,10)<=600)&&g(oe)},style:{width:"80px",padding:"0.25rem"},autoFocus:!0}),y.jsxs("button",{type:"submit",className:"btn-primary",style:{padding:"0.25rem 0.75rem",fontSize:"0.85rem"},children:[y.jsx(YT,{size:14})," Save"]}),y.jsx("button",{type:"button",onClick:()=>{c(null),g("")},style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--color-text-secondary)"},children:y.jsx(zv,{size:18})})]})]})]},q.id)}),i.length===0&&e.length===0&&y.jsx("p",{style:{textAlign:"center",padding:"2rem",background:"var(--color-bg-secondary)",borderRadius:"var(--radius-md)"},children:"No plans yet. Clear mind, clear path."})]})]})]})})},U2=()=>{const r=Rn(),[e,t]=O.useState(0),[i,o]=O.useState(0),[l,c]=O.useState(""),[f,g]=O.useState([]),[v,w]=O.useState([]),[T,x]=O.useState([]),[N,W]=O.useState(!1),[B,j]=O.useState(0),[G,X]=O.useState(0),[Y,se]=O.useState(0),[pe,le]=O.useState(0);O.useEffect(()=>{const S=new Date().setHours(0,0,0,0),P=Ne(he.DISTRACTION_LOGS,[]).filter(ae=>new Date(ae.date).setHours(0,0,0,0)===S);g(P);const D=P.reduce((ae,Ie)=>ae+parseInt(Ie.duration||0),0);X(D);const M=Ne(he.TASKS,[]),R=Ne(he.SCHEDULED_TASKS,[]),ze=M.filter(ae=>!ae.completed||!ae.completedAt?!1:new Date(ae.completedAt).setHours(0,0,0,0)===S),tt=R.filter(ae=>!ae.completed||!ae.completedAt?!1:new Date(ae.completedAt).setHours(0,0,0,0)===S),nt=[...ze,...tt];w(nt);const ne=Ne(he.WORK_LOGS,[]).filter(ae=>new Date(ae.date).setHours(0,0,0,0)===S);x(ne);const ye=nt.reduce((ae,Ie)=>ae+(parseInt(Ie.timeTaken)||0),0),q=ne.reduce((ae,Ie)=>ae+parseInt(Ie.duration||0),0),b=ye+q;j(b);const K=nt.length;se(K),le(K*10+ne.length*2);const _e=b+D;if(_e>0){const ae=Math.round(D/_e*100);t(ae),o(100-ae)}else o(0),t(0)},[]);const A=S=>{S.preventDefault();const k=Ne(he.REFLECTIONS,[]),P={id:Date.now(),date:new Date().toISOString(),procrastinationScore:e,workScore:i,tomorrowGoal:l,distractionCount:f.length,distractionTime:G,tasksDoneCount:Y,taskTime:B,pointsScored:pe};vt(he.REFLECTIONS,[P,...k]),Ho("diary_entry",{procrastination_score:e,work_score:i,tomorrow_goal:l,total_distraction_time:G,total_work_time:B}),W(!0)};return N?y.jsx(At,{children:y.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"3rem"},children:[y.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),y.jsx("h2",{children:"Reflection Saved"}),y.jsx("p",{children:"Rest well. Tomorrow is a fresh start."}),y.jsx("button",{className:"btn-primary",onClick:()=>r("/"),style:{marginTop:"2rem"},children:"Back Home"}),y.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-lg)",textAlign:"left"},children:[y.jsx("h3",{style:{fontSize:"1.1rem",marginTop:0},children:"Target for Tomorrow:"}),y.jsx("p",{style:{fontSize:"1.2rem",color:"var(--color-primary)",fontWeight:600},children:l})]})]})}):y.jsx(At,{children:y.jsxs("div",{className:"container",children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[y.jsxs("button",{onClick:()=>r("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginRight:"1rem"},children:[y.jsx(Di,{size:18})," Back"]}),y.jsx("h2",{style:{margin:0},children:"Today's Reflection"})]}),y.jsxs("form",{onSubmit:A,className:"card",children:[y.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"#f0fdf4",borderRadius:"var(--radius-md)",border:"1px solid #bbf7d0",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"0.9rem",color:"#166534",marginBottom:"0.25rem"},children:"Overall Focus Score"}),y.jsxs("div",{style:{fontSize:"3rem",fontWeight:"bold",color:"#15803d"},children:[i,"%"]})]}),y.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#fef2f2",borderRadius:"var(--radius-md)",border:"1px solid #fecaca",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{style:{color:"#991b1b",fontWeight:"500"},children:"Procrastination Level"}),y.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ef4444"},children:[e,"%"]})]}),y.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Time Breakdown"}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"2rem"},children:[y.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center",background:"var(--color-bg-secondary)"},children:[y.jsx(Ov,{size:24,style:{color:"var(--color-success)",marginBottom:"0.5rem"}}),y.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[B,"m"]}),y.jsx("div",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:"Work Time"})]}),y.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center",background:"var(--color-bg-secondary)"},children:[y.jsx(cS,{size:24,style:{color:"var(--color-warning)",marginBottom:"0.5rem"}}),y.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[G,"m"]}),y.jsx("div",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:"Distracted"})]})]}),y.jsxs("div",{style:{marginBottom:"2rem"},children:[y.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Today's Activity Log"}),y.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Today's Activity Log"}),v.length===0&&f.length===0&&T.length===0?y.jsx("p",{style:{color:"var(--color-text-secondary)",fontStyle:"italic"},children:"No activity recorded yet."}):y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[v.map((S,k)=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"var(--radius-sm)",borderLeft:"4px solid var(--color-success)"},children:[y.jsxs("span",{children:[S.title||S.name," ",y.jsx("strong",{style:{color:"var(--color-success)"},children:"(Done)"})]}),y.jsxs("strong",{children:[S.timeTaken||0,"m"]})]},`task-${k}`)),T.map((S,k)=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"var(--radius-sm)",borderLeft:"4px solid #3b82f6"},children:[y.jsxs("span",{children:[S.taskTitle," ",y.jsx("small",{children:"(Work Log)"})]}),y.jsxs("strong",{children:[S.duration,"m"]})]},`log-${k}`)),f.map((S,k)=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"var(--radius-sm)",borderLeft:"4px solid var(--color-danger)"},children:[y.jsxs("span",{children:[S.app," ",y.jsxs("small",{children:["(",S.reasons.join(", "),")"]})]}),y.jsxs("strong",{children:[S.duration,"m"]})]},`dist-${k}`))]})]}),y.jsxs("div",{style:{marginBottom:"2rem"},children:[y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[y.jsx(iS,{size:18})," Goal for Tomorrow"]}),y.jsx("input",{required:!0,value:l,onChange:S=>c(S.target.value),placeholder:"e.g. Finish the Math Chapter without phone",style:{width:"100%",padding:"0.75rem",borderRadius:"var(--radius-md)",border:"1px solid #cbd5e1"}})]}),y.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"1rem"},children:"Save & Close Day"})]})]})})},z2=()=>{const r=Rn(),[e,t]=O.useState("initial"),[i,o]=O.useState([]),[l,c]=O.useState(""),[f,g]=O.useState(""),[v,w]=O.useState([]),[T,x]=O.useState(null),[N,W]=O.useState([]),[B,j]=O.useState(""),[G,X]=O.useState("morning");O.useEffect(()=>{const S=new Date().getHours();S>=5&&S<12?X("morning"):S>=12&&S<17?X("afternoon"):S>=17&&S<21?X("evening"):X("night")},[]),O.useEffect(()=>{const S=Ne("sp_distraction_types",[]);o(S)},[]);const Y=()=>{if(!l)return;const S=[...i,{id:Date.now(),name:l,reasons:v.length>0?v:["General"]}];vt("sp_distraction_types",S),o(S),c(""),w([]),g(""),t("initial")},se=()=>{f&&(w([...v,f]),g(""))},pe=S=>{S.preventDefault();const k=Ne(he.DISTRACTION_LOGS,[]),P={id:Date.now(),app:T.name,reasons:N,duration:B,date:new Date().toISOString()};vt(he.DISTRACTION_LOGS,[P,...k]),Ho("distraction_log",{app:T.name,reasons:N,duration:parseInt(B)||0,overrideTimeOfDay:G}),t("success")},le=S=>{N.includes(S)?W(N.filter(k=>k!==S)):W([...N,S])},A=()=>{x(null),W([]),j("")};return e==="calm"?y.jsx(At,{children:y.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"4rem"},children:[y.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),y.jsx("h2",{children:"Great Job!"}),y.jsx("p",{children:"Focusing on your improvement is the best gift you can give yourself."}),y.jsx("button",{className:"btn-primary",onClick:()=>t("initial"),style:{marginTop:"2rem"},children:"Back"})]})}):e==="success"?y.jsx(At,{children:y.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"4rem"},children:[y.jsx("h2",{children:"Logged."}),y.jsx("p",{children:"Awareness is the first step. Use this data tomorrow."}),y.jsx("button",{className:"btn-primary",onClick:()=>{t("initial"),A()},style:{marginTop:"2rem"},children:"Done"})]})}):e==="config"?y.jsx(At,{children:y.jsxs("div",{className:"container",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[y.jsx("h2",{children:"Add Distraction"}),y.jsx("button",{onClick:()=>t("initial"),style:{background:"none",border:"none",cursor:"pointer"},children:y.jsx(zv,{})})]}),y.jsxs("div",{className:"card",children:[y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Distraction Name"}),y.jsx("input",{value:l,onChange:S=>c(S.target.value),placeholder:"e.g. YouTube Shorts"})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{children:"Possible Reasons"}),y.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[y.jsx("input",{value:f,onChange:S=>g(S.target.value),placeholder:"e.g. Boredom"}),y.jsx("button",{type:"button",onClick:se,className:"btn-primary",style:{padding:"0.5rem"},children:y.jsx(zd,{size:16})})]}),y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:v.map((S,k)=>y.jsx("span",{style:{background:"#f1f5f9",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.85rem"},children:S},k))})]}),y.jsx("button",{className:"btn-primary",onClick:Y,style:{width:"100%"},children:"Save"})]})]})}):e==="logging"?y.jsx(At,{children:y.jsxs("div",{className:"container",children:[y.jsxs("button",{onClick:()=>{t("initial"),A()},style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginBottom:"1rem"},children:[y.jsx(Di,{size:18})," Back"]}),y.jsx("h2",{children:"Log Distraction"}),T?y.jsxs("form",{onSubmit:pe,className:"card",children:[y.jsx("h3",{style:{marginTop:0},children:T.name}),y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{children:"Why did you check it? (Select all that apply)"}),y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:T.reasons.map((S,k)=>y.jsx("button",{type:"button",onClick:()=>le(S),style:{padding:"0.5rem 1rem",borderRadius:"2rem",border:"1px solid var(--color-primary)",background:N.includes(S)?"var(--color-primary)":"white",color:N.includes(S)?"white":"var(--color-primary)",cursor:"pointer"},children:S},k))})]}),y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{children:"Time Spent (Minutes)"}),y.jsx(yp,{value:B,onChange:j})]}),y.jsx(vp,{value:G,onChange:X}),y.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%"},children:"Save Log"})]}):y.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[y.jsx("p",{children:"Which app did you use?"}),i.map(S=>y.jsx("button",{className:"card",onClick:()=>x(S),style:{textAlign:"left",cursor:"pointer",borderColor:"var(--color-primary)"},children:y.jsx("strong",{children:S.name})},S.id)),i.length===0&&y.jsx("p",{children:"No distractions configured. Go back and add some!"})]})]})}):y.jsx(At,{children:y.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"2rem"},children:[y.jsx("div",{style:{position:"absolute",left:"1rem",top:"5rem"},children:y.jsxs("button",{onClick:()=>r("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500"},children:[y.jsx(Di,{size:18})," Back"]})}),y.jsx(Mv,{size:64,style:{color:"var(--color-text-accent)",marginBottom:"1rem"}}),y.jsx("h2",{style:{fontSize:"2rem",marginBottom:"2rem"},children:"Distracted?"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[y.jsx("button",{className:"btn-primary",style:{padding:"1.5rem",fontSize:"1.25rem",background:"#ef4444"},onClick:()=>{A(),t("logging")},children:"Yes, I gave in."}),y.jsx("button",{className:"btn-primary",style:{padding:"1rem",fontSize:"1.1rem",background:"#10b981"},onClick:()=>t("calm"),children:"No, I'm focused."})]}),y.jsx("div",{style:{marginTop:"2rem"},children:y.jsxs("button",{onClick:()=>t("config"),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",background:"transparent",border:"1px dashed var(--color-text-secondary)",color:"var(--color-text-secondary)",cursor:"pointer",padding:"0.75rem 1.5rem",borderRadius:"var(--radius-full)",fontSize:"0.9rem",transition:"all 0.2s"},children:[y.jsx(zd,{size:16})," Add Distraction"]})})]})})},mw=(r,e="")=>Object.keys(r).reduce((t,i)=>{const o=e.length?e+".":"";return typeof r[i]=="object"&&r[i]!==null&&!Array.isArray(r[i])?Object.assign(t,mw(r[i],o+i)):Array.isArray(r[i])?t[o+i]=r[i].join(";"):t[o+i]=r[i],t},{}),gw=r=>{if(!r||r.length===0)return"";const e=r.map(o=>mw(o)),t=Array.from(new Set(e.flatMap(Object.keys)));return t.sort((o,l)=>o==="timestamp"?-1:l==="timestamp"?1:o==="event_type"?-1:l==="event_type"?1:o.localeCompare(l)),[t.join(","),...e.map(o=>t.map(l=>{let c=o[l]||"";const f=String(c);return f.includes(",")||f.includes('"')||f.includes(`
`)?`"${f.replace(/"/g,'""')}"`:f}).join(","))].join(`
`)},yw=(r,e="stop-procrastinating-data.csv")=>{const t=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const o=URL.createObjectURL(t);i.setAttribute("href",o),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}},dv=({data:r,dataKeys:e,colors:t,height:i=200,width:o="100%"})=>{if(!r||r.length===0)return y.jsx("div",{style:{height:i,display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",background:"#f8fafc",borderRadius:"8px"},children:"No Data Available"});const l=500,c=200,f=30,g=l-2*f,v=c-2*f,w=r.flatMap(j=>e.map(G=>Number(j[G]||0))),T=Math.max(...w,0),x=T>0?T*1.1:10,N=g/r.length,W=N*.2,B=(N-W)/e.length;return y.jsxs("div",{style:{width:o,overflow:"hidden"},children:[y.jsxs("svg",{viewBox:`0 0 ${l} ${c}`,style:{width:"100%",height:"auto",background:"#fff",borderRadius:"8px",border:"1px solid #f1f5f9"},children:[[0,.25,.5,.75,1].map(j=>y.jsx("line",{x1:f,y1:f+j*v,x2:l-f,y2:f+j*v,stroke:"#e2e8f0",strokeWidth:"1"},j)),r.map((j,G)=>{const X=f+G*N+W/2;return y.jsxs("g",{children:[e.map((Y,se)=>{const le=Number(j[Y]||0)/x*v,A=X+se*B,S=f+v-le;return y.jsx("rect",{x:A,y:S,width:B*.9,height:le,fill:t[se],rx:"2"},Y)}),y.jsxs("text",{x:X+(N-W)/2,y:c-10,textAnchor:"middle",fontSize:"10",fill:"#64748b",children:[new Date(j.date).getDate(),"/",new Date(j.date).getMonth()+1]})]},G)}),[0,.5,1].map(j=>y.jsx("text",{x:f-5,y:f+(1-j)*v+3,textAnchor:"end",fontSize:"9",fill:"#94a3b8",children:Math.round(j*x)},j))]}),y.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"0.5rem"},children:e.map((j,G)=>y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.8rem",color:"#64748b"},children:[y.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"2px",background:t[G]}}),j==="taskTime"?"Work Time":j==="distractionTime"?"Distracted":j==="pointsScored"?"Points":j]},j))})]})},B2=({data:r,dataKeys:e,colors:t,height:i=200,width:o="100%"})=>{if(!r||r.length===0)return y.jsx("div",{style:{height:i,display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",background:"#f8fafc",borderRadius:"8px"},children:"No Data Available"});const l=500,c=200,f=20,g=Math.max(...r.map(x=>Math.max(...e.map(N=>Number(x[N]||0))))),v=g>0?g*1.1:10,w=x=>f+x/(r.length-1||1)*(l-2*f),T=x=>c-f-x/v*(c-2*f);return y.jsxs("div",{style:{width:o,overflow:"hidden"},children:[y.jsxs("svg",{viewBox:`0 0 ${l} ${c}`,style:{width:"100%",height:"auto",background:"#fff",borderRadius:"8px",border:"1px solid #f1f5f9"},children:[[0,.25,.5,.75,1].map(x=>y.jsx("line",{x1:f,y1:f+x*(c-2*f),x2:l-f,y2:f+x*(c-2*f),stroke:"#e2e8f0",strokeWidth:"1"},x)),e.map((x,N)=>{const W=r.map((B,j)=>`${w(j)},${T(Number(B[x]||0))}`).join(" ");return y.jsxs("g",{children:[y.jsx("polyline",{fill:"none",stroke:t[N],strokeWidth:"3",points:W,strokeLinecap:"round",strokeLinejoin:"round"}),r.map((B,j)=>y.jsx("circle",{cx:w(j),cy:T(Number(B[x]||0)),r:"3",fill:"#fff",stroke:t[N],strokeWidth:"2"},j))]},x)}),r.map((x,N)=>y.jsxs("text",{x:w(N),y:c-5,textAnchor:"middle",fontSize:"10",fill:"#64748b",children:[new Date(x.date).getDate(),"/",new Date(x.date).getMonth()+1]},N))]}),y.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"0.5rem"},children:e.map((x,N)=>y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.8rem",color:"#64748b"},children:[y.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:t[N]}}),x==="workScore"?"Work":x==="procrastinationScore"?"Procrastination":x==="pointsScored"?"Points":x==="distractionTime"?"Time Lost (m)":x]},x))})]})},$2=()=>{const r=Rn(),[e,t]=O.useState([]);O.useEffect(()=>{const o=Ne(he.REFLECTIONS,[]),l={};o.forEach(f=>{const g=new Date(f.date).toDateString();(!l[g]||new Date(f.date)>new Date(l[g].date))&&(l[g]=f)});const c=Object.values(l).sort((f,g)=>new Date(f.date)-new Date(g.date));t(c)},[]);const i=()=>{const o=Ne(he.EVENT_LOG,[]);if(!o||o.length===0){alert("No detailed event data found yet. Start using the app to generate logs!");return}const l=gw(o);yw(l,`stop_procrastinating_events_${new Date().toISOString().split("T")[0]}.csv`)};return y.jsx(At,{children:y.jsxs("div",{className:"container",children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[y.jsxs("button",{onClick:()=>r("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginRight:"1rem"},children:[y.jsx(Di,{size:18})," Back"]}),y.jsx("h2",{style:{flex:1,textAlign:"center",margin:0},children:"Progress Analysis"}),y.jsx("button",{onClick:i,style:{background:"transparent",border:"1px solid var(--color-primary)",color:"var(--color-primary)",padding:"0.5rem",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Export Detailed Event Logs (CSV)",children:y.jsx(Ud,{size:20})})]}),y.jsxs("div",{style:{display:"grid",gap:"2rem"},children:[y.jsxs("div",{className:"card",children:[y.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-text-primary)"},children:"Work vs Procrastination (%)"}),y.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",marginBottom:"1rem"},children:["Aim to keep the ",y.jsx("span",{style:{color:"#22c55e",fontWeight:"bold"},children:"Green"})," line above the ",y.jsx("span",{style:{color:"#ef4444",fontWeight:"bold"},children:"Red"})," line."]}),y.jsx(B2,{data:e,dataKeys:["workScore","procrastinationScore"],colors:["#22c55e","#ef4444"]})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-text-primary)"},children:"Time: Work vs Distracted (Minutes)"}),y.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",marginBottom:"1rem"},children:"Daily comparison of productive time vs lost time."}),y.jsx(dv,{data:e,dataKeys:["taskTime","distractionTime"],colors:["#22c55e","#f97316"]})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-text-primary)"},children:"Focus Points Earned"}),y.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",marginBottom:"1rem"},children:"Your daily rewards for completing tasks and building habits."}),y.jsx(dv,{data:e,dataKeys:["pointsScored"],colors:["#a855f7"]})]})]})]})})},H2=()=>{const r=Rn(),[e,t]=O.useState(!1),[i,o]=O.useState(null),l=async()=>{t(!0),o(null);try{const f=(await ck($r,A2)).user,g=hp(xc,"users",f.uid),v=await x2(g);if(v.exists()){dw();const w=v.data();w.tasks&&vt(he.TASKS,JSON.parse(w.tasks)),w.scheduled&&vt(he.SCHEDULED_TASKS,JSON.parse(w.scheduled)),w.reflections&&vt(he.REFLECTIONS,JSON.parse(w.reflections)),w.stats&&vt(he.USER_STATS,JSON.parse(w.stats)),w.mood&&vt(he.USER_MOOD,w.mood),console.log("Data synced from cloud!")}else{const w={email:f.email,displayName:f.displayName,createdAt:new Date().toISOString(),tasks:JSON.stringify(Ne(he.TASKS,[])),scheduled:JSON.stringify(Ne(he.SCHEDULED_TASKS,[])),reflections:JSON.stringify(Ne(he.REFLECTIONS,[])),stats:JSON.stringify(Ne(he.USER_STATS,{})),mood:Ne(he.USER_MOOD,null)};await aw(g,w),console.log("Local data backed up to cloud!")}r("/")}catch(c){console.error("Login Result Error:",c),o(`Failed to sign in: ${c.message}`)}finally{t(!1)}};return y.jsx(At,{children:y.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"4rem"},children:y.jsxs("div",{className:"card",style:{maxWidth:"400px",margin:"0 auto"},children:[y.jsx("h2",{style:{marginBottom:"1rem"},children:"Backup Your Progress"}),y.jsx("p",{style:{color:"var(--color-text-secondary)",marginBottom:"2rem"},children:"Sign in to save your tasks, streaks, and reflections to the cloud. Access them from any device."}),i&&y.jsx("div",{style:{color:"var(--color-danger)",marginBottom:"1rem",fontSize:"0.9rem"},children:i}),y.jsxs("button",{onClick:l,disabled:e,className:"btn-primary",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.75rem",padding:"0.75rem"},children:[e?y.jsx(BT,{className:"spin",size:20}):y.jsx(Vv,{size:20}),e?"Signing In...":"Sign in with Google"]})]})})})},W2=()=>{const[r,e]=O.useState("idle");return O.useEffect(()=>{let t;const i=()=>{e("syncing"),clearTimeout(t)},o=()=>{e("success"),t=setTimeout(()=>{e("idle")},3e3)},l=()=>{e("error")};return window.addEventListener("sp-sync-start",i),window.addEventListener("sp-sync-success",o),window.addEventListener("sp-sync-error",l),()=>{window.removeEventListener("sp-sync-start",i),window.removeEventListener("sp-sync-success",o),window.removeEventListener("sp-sync-error",l),clearTimeout(t)}},[]),y.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0.75rem",borderRadius:"2rem",fontSize:"0.85rem",fontWeight:"500",transition:"all 0.3s ease",...q2(r)},children:[K2(r),y.jsx("span",{children:G2(r)})]})},q2=r=>{switch(r){case"syncing":return{background:"#ebf8ff",color:"#0369a1"};case"success":return{background:"#f0fdf4",color:"#166534"};case"error":return{background:"#fef2f2",color:"#991b1b"};default:return{}}},K2=r=>{switch(r){case"syncing":return y.jsx(jv,{size:14,className:"spin"});case"success":return y.jsx(xT,{size:14});case"error":return y.jsx(Ef,{size:14});default:return y.jsx(bT,{size:14})}},G2=r=>{switch(r){case"syncing":return"Syncing...";case"success":return"Saved";case"error":return"Sync Failed";default:return"Sync Ready"}},Q2=()=>{const r=Rn(),{theme:e,toggleTheme:t}=pw(),i=$r.currentUser,[o,l]=O.useState(0),c=()=>{const w=Ne(he.EVENT_LOG,[]);if(!w||w.length===0){alert("No data to export yet.");return}const T=gw(w);yw(T,`stop_procrastinating_backup_${new Date().toISOString().split("T")[0]}.csv`)},f=()=>{window.confirm("ARE YOU SURE? This will delete ALL your logs, streaks, and local data. This action cannot be undone.")&&(dw(),window.location.reload())},g=()=>{Hx($r).then(()=>{r("/"),window.location.reload()})},v=async()=>{await P2()};return y.jsx(At,{children:y.jsxs("div",{className:"container",children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[y.jsxs("button",{onClick:()=>r(-1),className:"btn-secondary",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginRight:"1rem"},children:[y.jsx(Di,{size:18})," Back"]}),y.jsx("h2",{style:{margin:0},children:"Settings"}),y.jsx("div",{style:{marginLeft:"auto"},children:y.jsx(W2,{})})]}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[y.jsxs("div",{className:"card",children:[y.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e==="light"?y.jsx(Sf,{size:20}):y.jsx(Tf,{size:20})," Appearance"]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{children:"App Theme"}),y.jsx("button",{onClick:t,className:"btn-secondary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:e==="light"?"Switch to Dark Mode":"Switch to Light Mode"})]})]}),y.jsxs("div",{className:"card",children:[y.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[y.jsx(Ud,{size:20})," Data Management"]}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[y.jsxs("button",{onClick:v,className:"btn-secondary",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%"},children:[y.jsx(jv,{size:18})," Sync Now"]}),y.jsxs("button",{onClick:c,className:"btn-secondary",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%"},children:[y.jsx(Ud,{size:18})," Export Data (CSV)"]}),y.jsx("div",{style:{borderTop:"1px solid var(--border-color)",margin:"0.5rem 0"}}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("strong",{style:{color:"var(--color-danger)"},children:"Danger Zone"}),y.jsx("p",{style:{fontSize:"0.85rem",color:"var(--color-text-secondary)",margin:0},children:"Irreversible data loss."})]}),y.jsxs("button",{onClick:f,style:{background:"#fee2e2",color:"#b91c1c",border:"1px solid #fca5a5",padding:"0.5rem 1rem",borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",fontWeight:"500"},children:[y.jsx(oS,{size:16})," Clear All Data"]})]})]})]}),y.jsxs("div",{className:"card",children:[y.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[y.jsx(Uv,{size:20})," Account"]}),i?y.jsxs("div",{style:{textAlign:"center"},children:[i.photoURL&&y.jsx("img",{src:i.photoURL,alt:"Profile",style:{width:"64px",height:"64px",borderRadius:"50%",marginBottom:"0.5rem"}}),y.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:i.displayName||"User"}),y.jsx("div",{style:{color:"var(--color-text-secondary)",marginBottom:"1.5rem"},children:i.email}),y.jsxs("button",{onClick:g,className:"btn-secondary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[y.jsx(WT,{size:18})," Sign Out"]})]}):y.jsxs("div",{style:{textAlign:"center"},children:[y.jsx("p",{children:"You are using a local guest account."}),y.jsx("button",{onClick:()=>r("/signin"),className:"btn-primary",style:{width:"100%"},children:"Sign In with Google"})]})]}),y.jsxs("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",fontSize:"0.9rem",marginTop:"1rem",cursor:"default"},onClick:()=>l(w=>w+1),children:[y.jsx("p",{children:"Stop Procrastinating v1.0.1"}),y.jsx("p",{children:"Build healthy habits, one day at a time."}),o>5&&y.jsx("p",{children:" You found a unicorn!"})]})]})]})})};function Y2(){return y.jsx(eT,{children:y.jsxs(PE,{children:[y.jsx(Sn,{path:"/",element:y.jsx(D2,{})}),y.jsx(Sn,{path:"/analysis",element:y.jsx($2,{})}),y.jsx(Sn,{path:"/settings",element:y.jsx(Q2,{})}),y.jsx(Sn,{path:"/signin",element:y.jsx(H2,{})}),y.jsx(Sn,{path:"/mood",element:y.jsx(O2,{})}),y.jsx(Sn,{path:"/tasks",element:y.jsx(V2,{})}),y.jsx(Sn,{path:"/add-task",element:y.jsx(j2,{})}),y.jsx(Sn,{path:"/complete/:taskId",element:y.jsx(M2,{})}),y.jsx(Sn,{path:"/schedule",element:y.jsx(F2,{})}),y.jsx(Sn,{path:"/reflect",element:y.jsx(U2,{})}),y.jsx(Sn,{path:"/limit",element:y.jsx(z2,{})})]})})}D1.createRoot(document.getElementById("root")).render(y.jsx(O.StrictMode,{children:y.jsx(N2,{children:y.jsx(Y2,{})})}));
