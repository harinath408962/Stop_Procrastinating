(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var vd={exports:{}},Fa={},_d={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function x1(){if(Rg)return be;Rg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function I(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,z={};function j(L,K,ve){this.props=L,this.context=K,this.refs=z,this.updater=ve||A}j.prototype.isReactComponent={},j.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=j.prototype;function X(L,K,ve){this.props=L,this.context=K,this.refs=z,this.updater=ve||A}var Q=X.prototype=new G;Q.constructor=X,W(Q,j.prototype),Q.isPureReactComponent=!0;var se=Array.isArray,de=Object.prototype.hasOwnProperty,oe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(L,K,ve){var le,we={},Ne=null,We=null;if(K!=null)for(le in K.ref!==void 0&&(We=K.ref),K.key!==void 0&&(Ne=""+K.key),K)de.call(K,le)&&!P.hasOwnProperty(le)&&(we[le]=K[le]);var Ve=arguments.length-2;if(Ve===1)we.children=ve;else if(1<Ve){for(var Ge=Array(Ve),Se=0;Se<Ve;Se++)Ge[Se]=arguments[Se+2];we.children=Ge}if(L&&L.defaultProps)for(le in Ve=L.defaultProps,Ve)we[le]===void 0&&(we[le]=Ve[le]);return{$$typeof:r,type:L,key:Ne,ref:We,props:we,_owner:oe.current}}function k(L,K){return{$$typeof:r,type:L.type,key:K,ref:L.ref,props:L.props,_owner:L._owner}}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function N(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ve){return K[ve]})}var M=/\/+/g;function R(L,K){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):K.toString(36)}function Ie(L,K,ve,le,we){var Ne=typeof L;(Ne==="undefined"||Ne==="boolean")&&(L=null);var We=!1;if(L===null)We=!0;else switch(Ne){case"string":case"number":We=!0;break;case"object":switch(L.$$typeof){case r:case e:We=!0}}if(We)return We=L,we=we(We),L=le===""?"."+R(We,0):le,se(we)?(ve="",L!=null&&(ve=L.replace(M,"$&/")+"/"),Ie(we,K,ve,"",function(Se){return Se})):we!=null&&(D(we)&&(we=k(we,ve+(!we.key||We&&We.key===we.key?"":(""+we.key).replace(M,"$&/")+"/")+L)),K.push(we)),1;if(We=0,le=le===""?".":le+":",se(L))for(var Ve=0;Ve<L.length;Ve++){Ne=L[Ve];var Ge=le+R(Ne,Ve);We+=Ie(Ne,K,ve,Ge,we)}else if(Ge=I(L),typeof Ge=="function")for(L=Ge.call(L),Ve=0;!(Ne=L.next()).done;)Ne=Ne.value,Ge=le+R(Ne,Ve++),We+=Ie(Ne,K,ve,Ge,we);else if(Ne==="object")throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return We}function Le(L,K,ve){if(L==null)return L;var le=[],we=0;return Ie(L,le,"","",function(Ne){return K.call(ve,Ne,we++)}),le}function rt(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(ve){(L._status===0||L._status===-1)&&(L._status=1,L._result=ve)},function(ve){(L._status===0||L._status===-1)&&(L._status=2,L._result=ve)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var Ke={current:null},re={transition:null},ge={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:re,ReactCurrentOwner:oe};function q(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Le,forEach:function(L,K,ve){Le(L,function(){K.apply(this,arguments)},ve)},count:function(L){var K=0;return Le(L,function(){K++}),K},toArray:function(L){return Le(L,function(K){return K})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},be.Component=j,be.Fragment=t,be.Profiler=o,be.PureComponent=X,be.StrictMode=i,be.Suspense=y,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,be.act=q,be.cloneElement=function(L,K,ve){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var le=W({},L.props),we=L.key,Ne=L.ref,We=L._owner;if(K!=null){if(K.ref!==void 0&&(Ne=K.ref,We=oe.current),K.key!==void 0&&(we=""+K.key),L.type&&L.type.defaultProps)var Ve=L.type.defaultProps;for(Ge in K)de.call(K,Ge)&&!P.hasOwnProperty(Ge)&&(le[Ge]=K[Ge]===void 0&&Ve!==void 0?Ve[Ge]:K[Ge])}var Ge=arguments.length-2;if(Ge===1)le.children=ve;else if(1<Ge){Ve=Array(Ge);for(var Se=0;Se<Ge;Se++)Ve[Se]=arguments[Se+2];le.children=Ve}return{$$typeof:r,type:L.type,key:we,ref:Ne,props:le,_owner:We}},be.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},be.createElement=S,be.createFactory=function(L){var K=S.bind(null,L);return K.type=L,K},be.createRef=function(){return{current:null}},be.forwardRef=function(L){return{$$typeof:f,render:L}},be.isValidElement=D,be.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:rt}},be.memo=function(L,K){return{$$typeof:v,type:L,compare:K===void 0?null:K}},be.startTransition=function(L){var K=re.transition;re.transition={};try{L()}finally{re.transition=K}},be.unstable_act=q,be.useCallback=function(L,K){return Ke.current.useCallback(L,K)},be.useContext=function(L){return Ke.current.useContext(L)},be.useDebugValue=function(){},be.useDeferredValue=function(L){return Ke.current.useDeferredValue(L)},be.useEffect=function(L,K){return Ke.current.useEffect(L,K)},be.useId=function(){return Ke.current.useId()},be.useImperativeHandle=function(L,K,ve){return Ke.current.useImperativeHandle(L,K,ve)},be.useInsertionEffect=function(L,K){return Ke.current.useInsertionEffect(L,K)},be.useLayoutEffect=function(L,K){return Ke.current.useLayoutEffect(L,K)},be.useMemo=function(L,K){return Ke.current.useMemo(L,K)},be.useReducer=function(L,K,ve){return Ke.current.useReducer(L,K,ve)},be.useRef=function(L){return Ke.current.useRef(L)},be.useState=function(L){return Ke.current.useState(L)},be.useSyncExternalStore=function(L,K,ve){return Ke.current.useSyncExternalStore(L,K,ve)},be.useTransition=function(){return Ke.current.useTransition()},be.version="18.3.1",be}var Ag;function mf(){return Ag||(Ag=1,_d.exports=x1()),_d.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function k1(){if(Pg)return Fa;Pg=1;var r=mf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,y,v){var w,T={},I=null,A=null;v!==void 0&&(I=""+v),y.key!==void 0&&(I=""+y.key),y.ref!==void 0&&(A=y.ref);for(w in y)i.call(y,w)&&!l.hasOwnProperty(w)&&(T[w]=y[w]);if(f&&f.defaultProps)for(w in y=f.defaultProps,y)T[w]===void 0&&(T[w]=y[w]);return{$$typeof:e,type:f,key:I,ref:A,props:T,_owner:o.current}}return Fa.Fragment=t,Fa.jsx=c,Fa.jsxs=c,Fa}var Dg;function C1(){return Dg||(Dg=1,vd.exports=k1()),vd.exports}var g=C1(),O=mf(),Mu={},wd={exports:{}},nn={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function R1(){return Ng||(Ng=1,(function(r){function e(re,ge){var q=re.length;re.push(ge);e:for(;0<q;){var L=q-1>>>1,K=re[L];if(0<o(K,ge))re[L]=ge,re[q]=K,q=L;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var ge=re[0],q=re.pop();if(q!==ge){re[0]=q;e:for(var L=0,K=re.length,ve=K>>>1;L<ve;){var le=2*(L+1)-1,we=re[le],Ne=le+1,We=re[Ne];if(0>o(we,q))Ne<K&&0>o(We,we)?(re[L]=We,re[Ne]=q,L=Ne):(re[L]=we,re[le]=q,L=le);else if(Ne<K&&0>o(We,q))re[L]=We,re[Ne]=q,L=Ne;else break e}}return ge}function o(re,ge){var q=re.sortIndex-ge.sortIndex;return q!==0?q:re.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var y=[],v=[],w=1,T=null,I=3,A=!1,W=!1,z=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(re){for(var ge=t(v);ge!==null;){if(ge.callback===null)i(v);else if(ge.startTime<=re)i(v),ge.sortIndex=ge.expirationTime,e(y,ge);else break;ge=t(v)}}function se(re){if(z=!1,Q(re),!W)if(t(y)!==null)W=!0,rt(de);else{var ge=t(v);ge!==null&&Ke(se,ge.startTime-re)}}function de(re,ge){W=!1,z&&(z=!1,G(S),S=-1),A=!0;var q=I;try{for(Q(ge),T=t(y);T!==null&&(!(T.expirationTime>ge)||re&&!N());){var L=T.callback;if(typeof L=="function"){T.callback=null,I=T.priorityLevel;var K=L(T.expirationTime<=ge);ge=r.unstable_now(),typeof K=="function"?T.callback=K:T===t(y)&&i(y),Q(ge)}else i(y);T=t(y)}if(T!==null)var ve=!0;else{var le=t(v);le!==null&&Ke(se,le.startTime-ge),ve=!1}return ve}finally{T=null,I=q,A=!1}}var oe=!1,P=null,S=-1,k=5,D=-1;function N(){return!(r.unstable_now()-D<k)}function M(){if(P!==null){var re=r.unstable_now();D=re;var ge=!0;try{ge=P(!0,re)}finally{ge?R():(oe=!1,P=null)}}else oe=!1}var R;if(typeof X=="function")R=function(){X(M)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Le=Ie.port2;Ie.port1.onmessage=M,R=function(){Le.postMessage(null)}}else R=function(){j(M,0)};function rt(re){P=re,oe||(oe=!0,R())}function Ke(re,ge){S=j(function(){re(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){W||A||(W=!0,rt(de))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(y)},r.unstable_next=function(re){switch(I){case 1:case 2:case 3:var ge=3;break;default:ge=I}var q=I;I=ge;try{return re()}finally{I=q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var q=I;I=re;try{return ge()}finally{I=q}},r.unstable_scheduleCallback=function(re,ge,q){var L=r.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?L+q:L):q=L,re){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=q+K,re={id:w++,callback:ge,priorityLevel:re,startTime:q,expirationTime:K,sortIndex:-1},q>L?(re.sortIndex=q,e(v,re),t(y)===null&&re===t(v)&&(z?(G(S),S=-1):z=!0,Ke(se,q-L))):(re.sortIndex=K,e(y,re),W||A||(W=!0,rt(de))),re},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(re){var ge=I;return function(){var q=I;I=ge;try{return re.apply(this,arguments)}finally{I=q}}}})(Td)),Td}var bg;function A1(){return bg||(bg=1,Ed.exports=R1()),Ed.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function P1(){if(Lg)return nn;Lg=1;var r=mf(),e=A1();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function I(n){return y.call(T,n)?!0:y.call(w,n)?!1:v.test(n)?T[n]=!0:(w[n]=!0,!1)}function A(n,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function W(n,s,a,h){if(s===null||typeof s>"u"||A(n,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(n,s,a,h,d,p,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=p,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new z(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];j[s]=new z(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new z(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new z(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new z(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new z(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new z(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new z(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new z(n,5,!1,n.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function X(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(G,X);j[s]=new z(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(G,X);j[s]=new z(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(G,X);j[s]=new z(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new z(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new z(n,1,!1,n.toLowerCase(),null,!0,!0)});function Q(n,s,a,h){var d=j.hasOwnProperty(s)?j[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(W(s,a,d,h)&&(a=null),h||d===null?I(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?n.setAttributeNS(h,s,a):n.setAttribute(s,a))))}var se=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),oe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),Ke=Symbol.for("react.offscreen"),re=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var q=Object.assign,L;function K(n){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+n}var ve=!1;function le(n,s){if(!n||ve)return"";ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(n,[],s)}else{try{s.call()}catch($){h=$}n.call(s.prototype)}else{try{throw Error()}catch($){h=$}n()}}catch($){if($&&h&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),p=h.stack.split(`
`),E=d.length-1,C=p.length-1;1<=E&&0<=C&&d[E]!==p[C];)C--;for(;1<=E&&0<=C;E--,C--)if(d[E]!==p[C]){if(E!==1||C!==1)do if(E--,C--,0>C||d[E]!==p[C]){var b=`
`+d[E].replace(" at new "," at ");return n.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",n.displayName)),b}while(1<=E&&0<=C);break}}}finally{ve=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?K(n):""}function we(n){switch(n.tag){case 5:return K(n.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return n=le(n.type,!1),n;case 11:return n=le(n.type.render,!1),n;case 1:return n=le(n.type,!0),n;default:return""}}function Ne(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case oe:return"Portal";case k:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case Ie:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case M:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Le:return s=n.displayName||null,s!==null?s:Ne(n.type)||"Memo";case rt:s=n._payload,n=n._init;try{return Ne(n(s))}catch{}}return null}function We(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ve(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ge(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Se(n){var s=Ge(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){h=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function it(n){n._valueTracker||(n._valueTracker=Se(n))}function $i(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return n&&(h=Ge(n)?n.checked?"true":"false":n.value),n=h,n!==a?(s.setValue(n),!0):!1}function qr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ds(n,s){var a=s.checked;return q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Sl(n,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ve(s.value!=null?s.value:a),n._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ns(n,s){s=s.checked,s!=null&&Q(n,"checked",s,!1)}function Wi(n,s){Ns(n,s);var a=Ve(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?gt(n,s.type,a):s.hasOwnProperty("defaultValue")&&gt(n,s.type,Ve(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function qo(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function gt(n,s,a){(s!=="number"||qr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var dt=Array.isArray;function Pn(n,s,a,h){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&h&&(n[a].defaultSelected=!0)}else{for(a=""+Ve(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,h&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Ko(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return q({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Go(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(dt(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Ve(a)}}function Il(n,s){var a=Ve(s.value),h=Ve(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),h!=null&&(n.defaultValue=""+h)}function Kr(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Qo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bs(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Qo(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Gr,xl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,h,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Gr=Gr||document.createElement("div"),Gr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Gr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Hi(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kl=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(n){kl.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Qr[s]=Qr[n]})});function Yr(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Qr.hasOwnProperty(n)&&Qr[n]?(""+s).trim():s+"px"}function Ls(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=Yr(a,s[a],h);a==="float"&&(a="cssFloat"),h?n.setProperty(a,d):n[a]=d}}var Yo=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dn(n,s){if(s){if(Yo[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Os(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jr=null;function Vs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yr=null,vr=null,ct=null;function Jo(n){if(n=Ia(n)){if(typeof yr!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Zl(s),yr(n.stateNode,n.type,s))}}function Xr(n){vr?ct?ct.push(n):ct=[n]:vr=n}function Zr(){if(vr){var n=vr,s=ct;if(ct=vr=null,Jo(n),s)for(n=0;n<s.length;n++)Jo(s[n])}}function Cl(n,s){return n(s)}function Rl(){}var Wn=!1;function Al(n,s,a){if(Wn)return n(s,a);Wn=!0;try{return Cl(n,s,a)}finally{Wn=!1,(vr!==null||ct!==null)&&(Rl(),Zr())}}function qi(n,s){var a=n.stateNode;if(a===null)return null;var h=Zl(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var ei=!1;if(f)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){ei=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{ei=!1}function Pl(n,s,a,h,d,p,E,C,b){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(ee){this.onError(ee)}}var _r=!1,Hn=null,js=!1,gn=null,Dl={onError:function(n){_r=!0,Hn=n}};function Nl(n,s,a,h,d,p,E,C,b){_r=!1,Hn=null,Pl.apply(Dl,arguments)}function Xo(n,s,a,h,d,p,E,C,b){if(Nl.apply(this,arguments),_r){if(_r){var $=Hn;_r=!1,Hn=null}else throw Error(t(198));js||(js=!0,gn=$)}}function Nn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Zo(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function bl(n){if(Nn(n)!==n)throw Error(t(188))}function Ll(n){var s=n.alternate;if(!s){if(s=Nn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,h=s;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return bl(d),n;if(p===h)return bl(d),s;p=p.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=p;else{for(var E=!1,C=d.child;C;){if(C===a){E=!0,a=d,h=p;break}if(C===h){E=!0,h=d,a=p;break}C=C.sibling}if(!E){for(C=p.child;C;){if(C===a){E=!0,a=p,h=d;break}if(C===h){E=!0,h=p,a=d;break}C=C.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function Ol(n){return n=Ll(n),n!==null?Ki(n):null}function Ki(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Ki(n);if(s!==null)return s;n=n.sibling}return null}var ea=e.unstable_scheduleCallback,Ms=e.unstable_cancelCallback,Gi=e.unstable_shouldYield,wr=e.unstable_requestPaint,Xe=e.unstable_now,Qc=e.unstable_getCurrentPriorityLevel,Fs=e.unstable_ImmediatePriority,ta=e.unstable_UserBlockingPriority,Qi=e.unstable_NormalPriority,na=e.unstable_LowPriority,Us=e.unstable_IdlePriority,Yi=null,on=null;function Vl(n){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Yi,n,void 0,(n.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:Ji,qn=Math.log,yn=Math.LN2;function Ji(n){return n>>>=0,n===0?32:31-(qn(n)/yn|0)|0}var Kn=64,ni=4194304;function He(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Er(n,s){var a=n.pendingLanes;if(a===0)return 0;var h=0,d=n.suspendedLanes,p=n.pingedLanes,E=a&268435455;if(E!==0){var C=E&~d;C!==0?h=He(C):(p&=E,p!==0&&(h=He(p)))}else E=a&~d,E!==0?h=He(E):p!==0&&(h=He(p));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,p=s&-s,d>=p||d===16&&(p&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=h;0<s;)a=31-an(s),d=1<<a,h|=n[a],s&=~d;return h}function Xi(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zi(n,s){for(var a=n.suspendedLanes,h=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var E=31-an(p),C=1<<E,b=d[E];b===-1?((C&a)===0||(C&h)!==0)&&(d[E]=Xi(C,s)):b<=s&&(n.expiredLanes|=C),p&=~C}}function ra(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ia(){var n=Kn;return Kn<<=1,(Kn&4194240)===0&&(Kn=64),n}function sa(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function es(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-an(s),n[s]=a}function Yc(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-an(a),p=1<<d;s[d]=0,h[d]=-1,n[d]=-1,a&=~p}}function oa(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var h=31-an(a),d=1<<h;d&s|n[h]&s&&(n[h]|=s),a&=~d}}var Ue=0;function Gn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var aa,zs,la,ua,ca,Qn=!1,Bs=[],Yn=null,Jn=null,Nt=null,ts=new Map,Tr=new Map,ln=[],jl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ri(n,s){switch(n){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":ts.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(s.pointerId)}}function bn(n,s,a,h,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Ia(s),s!==null&&zs(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Ml(n,s,a,h,d){switch(s){case"focusin":return Yn=bn(Yn,n,s,a,h,d),!0;case"dragenter":return Jn=bn(Jn,n,s,a,h,d),!0;case"mouseover":return Nt=bn(Nt,n,s,a,h,d),!0;case"pointerover":var p=d.pointerId;return ts.set(p,bn(ts.get(p)||null,n,s,a,h,d)),!0;case"gotpointercapture":return p=d.pointerId,Tr.set(p,bn(Tr.get(p)||null,n,s,a,h,d)),!0}return!1}function $s(n){var s=ss(n.target);if(s!==null){var a=Nn(s);if(a!==null){if(s=a.tag,s===13){if(s=Zo(a),s!==null){n.blockedOn=s,ca(n.priority,function(){la(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ye(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Ws(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var h=new a.constructor(a.type,a);Jr=h,a.target.dispatchEvent(h),Jr=null}else return s=Ia(a),s!==null&&zs(s),n.blockedOn=a,!1;s.shift()}return!0}function Fl(n,s,a){Ye(n)&&a.delete(s)}function Jc(){Qn=!1,Yn!==null&&Ye(Yn)&&(Yn=null),Jn!==null&&Ye(Jn)&&(Jn=null),Nt!==null&&Ye(Nt)&&(Nt=null),ts.forEach(Fl),Tr.forEach(Fl)}function ii(n,s){n.blockedOn===s&&(n.blockedOn=null,Qn||(Qn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jc)))}function si(n){function s(d){return ii(d,n)}if(0<Bs.length){ii(Bs[0],n);for(var a=1;a<Bs.length;a++){var h=Bs[a];h.blockedOn===n&&(h.blockedOn=null)}}for(Yn!==null&&ii(Yn,n),Jn!==null&&ii(Jn,n),Nt!==null&&ii(Nt,n),ts.forEach(s),Tr.forEach(s),a=0;a<ln.length;a++)h=ln[a],h.blockedOn===n&&(h.blockedOn=null);for(;0<ln.length&&(a=ln[0],a.blockedOn===null);)$s(a),a.blockedOn===null&&ln.shift()}var Sr=se.ReactCurrentBatchConfig,Ir=!0;function Xn(n,s,a,h){var d=Ue,p=Sr.transition;Sr.transition=null;try{Ue=1,ha(n,s,a,h)}finally{Ue=d,Sr.transition=p}}function Ul(n,s,a,h){var d=Ue,p=Sr.transition;Sr.transition=null;try{Ue=4,ha(n,s,a,h)}finally{Ue=d,Sr.transition=p}}function ha(n,s,a,h){if(Ir){var d=Ws(n,s,a,h);if(d===null)lh(n,s,h,Zn,a),ri(n,h);else if(Ml(d,n,s,a,h))h.stopPropagation();else if(ri(n,h),s&4&&-1<jl.indexOf(n)){for(;d!==null;){var p=Ia(d);if(p!==null&&aa(p),p=Ws(n,s,a,h),p===null&&lh(n,s,h,Zn,a),p===d)break;d=p}d!==null&&h.stopPropagation()}else lh(n,s,h,null,a)}}var Zn=null;function Ws(n,s,a,h){if(Zn=null,n=Vs(h),n=ss(n),n!==null)if(s=Nn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Zo(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Zn=n,null}function Hs(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qc()){case Fs:return 1;case ta:return 4;case Qi:case na:return 16;case Us:return 536870912;default:return 16}default:return 16}}var un=null,qs=null,xr=null;function zl(){if(xr)return xr;var n,s=qs,a=s.length,h,d="value"in un?un.value:un.textContent,p=d.length;for(n=0;n<a&&s[n]===d[n];n++);var E=a-n;for(h=1;h<=E&&s[a-h]===d[p-h];h++);return xr=d.slice(n,1<h?1-h:void 0)}function ns(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function er(){return!0}function da(){return!1}function Ut(n){function s(a,h,d,p,E){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?er:da,this.isPropagationStopped=da,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),s}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Ut(tr),oi=q({},tr,{view:0,detail:0}),Ks=Ut(oi),Gs,Qs,cn,is=q({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pe,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==cn&&(cn&&n.type==="mousemove"?(Gs=n.screenX-cn.screenX,Qs=n.screenY-cn.screenY):Qs=Gs=0,cn=n),Gs)},movementY:function(n){return"movementY"in n?n.movementY:Qs}}),fa=Ut(is),Bl=q({},is,{dataTransfer:0}),$l=Ut(Bl),Ys=q({},oi,{relatedTarget:0}),bt=Ut(Ys),Wl=q({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=Ut(Wl),ai=q({},tr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),u=Ut(ai),m=q({},tr,{data:0}),_=Ut(m),x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ie(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=H[n])?!!s[n]:!1}function Pe(){return ie}var ft=q({},oi,{key:function(n){if(n.key){var s=x[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ns(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?U[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pe,charCode:function(n){return n.type==="keypress"?ns(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ns(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Qe=Ut(ft),yt=q({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hn=Ut(yt),kr=q({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pe}),nr=Ut(kr),rr=q({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Js=Ut(rr),pa=q({},is,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),_w=Ut(pa),ww=[9,13,27,32],Xc=f&&"CompositionEvent"in window,ma=null;f&&"documentMode"in document&&(ma=document.documentMode);var Ew=f&&"TextEvent"in window&&!ma,wp=f&&(!Xc||ma&&8<ma&&11>=ma),Ep=" ",Tp=!1;function Sp(n,s){switch(n){case"keyup":return ww.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xs=!1;function Tw(n,s){switch(n){case"compositionend":return Ip(s);case"keypress":return s.which!==32?null:(Tp=!0,Ep);case"textInput":return n=s.data,n===Ep&&Tp?null:n;default:return null}}function Sw(n,s){if(Xs)return n==="compositionend"||!Xc&&Sp(n,s)?(n=zl(),xr=qs=un=null,Xs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return wp&&s.locale!=="ko"?null:s.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Iw[n.type]:s==="textarea"}function kp(n,s,a,h){Xr(h),s=Yl(s,"onChange"),0<s.length&&(a=new rs("onChange","change",null,a,h),n.push({event:a,listeners:s}))}var ga=null,ya=null;function xw(n){Wp(n,0)}function ql(n){var s=ro(n);if($i(s))return n}function kw(n,s){if(n==="change")return s}var Cp=!1;if(f){var Zc;if(f){var eh="oninput"in document;if(!eh){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),eh=typeof Rp.oninput=="function"}Zc=eh}else Zc=!1;Cp=Zc&&(!document.documentMode||9<document.documentMode)}function Ap(){ga&&(ga.detachEvent("onpropertychange",Pp),ya=ga=null)}function Pp(n){if(n.propertyName==="value"&&ql(ya)){var s=[];kp(s,ya,n,Vs(n)),Al(xw,s)}}function Cw(n,s,a){n==="focusin"?(Ap(),ga=s,ya=a,ga.attachEvent("onpropertychange",Pp)):n==="focusout"&&Ap()}function Rw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ql(ya)}function Aw(n,s){if(n==="click")return ql(s)}function Pw(n,s){if(n==="input"||n==="change")return ql(s)}function Dw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Ln=typeof Object.is=="function"?Object.is:Dw;function va(n,s){if(Ln(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!y.call(s,d)||!Ln(n[d],s[d]))return!1}return!0}function Dp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Np(n,s){var a=Dp(n);n=0;for(var h;a;){if(a.nodeType===3){if(h=n+a.textContent.length,n<=s&&h>=s)return{node:a,offset:s-n};n=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dp(a)}}function bp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?bp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Lp(){for(var n=window,s=qr();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=qr(n.document)}return s}function th(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Nw(n){var s=Lp(),a=n.focusedElem,h=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&bp(a.ownerDocument.documentElement,a)){if(h!==null&&th(a)){if(s=h.start,n=h.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,p=Math.min(h.start,d);h=h.end===void 0?p:Math.min(h.end,d),!n.extend&&p>h&&(d=h,h=p,p=d),d=Np(a,p);var E=Np(a,h);d&&E&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),p>h?(n.addRange(s),n.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var bw=f&&"documentMode"in document&&11>=document.documentMode,Zs=null,nh=null,_a=null,rh=!1;function Op(n,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rh||Zs==null||Zs!==qr(h)||(h=Zs,"selectionStart"in h&&th(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_a&&va(_a,h)||(_a=h,h=Yl(nh,"onSelect"),0<h.length&&(s=new rs("onSelect","select",null,s,a),n.push({event:s,listeners:h}),s.target=Zs)))}function Kl(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var eo={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},ih={},Vp={};f&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Gl(n){if(ih[n])return ih[n];if(!eo[n])return n;var s=eo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Vp)return ih[n]=s[a];return n}var jp=Gl("animationend"),Mp=Gl("animationiteration"),Fp=Gl("animationstart"),Up=Gl("transitionend"),zp=new Map,Bp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(n,s){zp.set(n,s),l(s,[n])}for(var sh=0;sh<Bp.length;sh++){var oh=Bp[sh],Lw=oh.toLowerCase(),Ow=oh[0].toUpperCase()+oh.slice(1);li(Lw,"on"+Ow)}li(jp,"onAnimationEnd"),li(Mp,"onAnimationIteration"),li(Fp,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Up,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function $p(n,s,a){var h=n.type||"unknown-event";n.currentTarget=a,Xo(h,s,void 0,n),n.currentTarget=null}function Wp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var h=n[a],d=h.event;h=h.listeners;e:{var p=void 0;if(s)for(var E=h.length-1;0<=E;E--){var C=h[E],b=C.instance,$=C.currentTarget;if(C=C.listener,b!==p&&d.isPropagationStopped())break e;$p(d,C,$),p=b}else for(E=0;E<h.length;E++){if(C=h[E],b=C.instance,$=C.currentTarget,C=C.listener,b!==p&&d.isPropagationStopped())break e;$p(d,C,$),p=b}}}if(js)throw n=gn,js=!1,gn=null,n}function Ze(n,s){var a=s[ph];a===void 0&&(a=s[ph]=new Set);var h=n+"__bubble";a.has(h)||(Hp(s,n,2,!1),a.add(h))}function ah(n,s,a){var h=0;s&&(h|=4),Hp(a,n,h,s)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Ea(n){if(!n[Ql]){n[Ql]=!0,i.forEach(function(a){a!=="selectionchange"&&(Vw.has(a)||ah(a,!1,n),ah(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ql]||(s[Ql]=!0,ah("selectionchange",!1,s))}}function Hp(n,s,a,h){switch(Hs(s)){case 1:var d=Xn;break;case 4:d=Ul;break;default:d=ha}a=d.bind(null,s,a,n),d=void 0,!ei||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function lh(n,s,a,h,d){var p=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(E===4)for(E=h.return;E!==null;){var b=E.tag;if((b===3||b===4)&&(b=E.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;E=E.return}for(;C!==null;){if(E=ss(C),E===null)return;if(b=E.tag,b===5||b===6){h=p=E;continue e}C=C.parentNode}}h=h.return}Al(function(){var $=p,ee=Vs(a),te=[];e:{var Z=zp.get(n);if(Z!==void 0){var ue=rs,fe=n;switch(n){case"keypress":if(ns(a)===0)break e;case"keydown":case"keyup":ue=Qe;break;case"focusin":fe="focus",ue=bt;break;case"focusout":fe="blur",ue=bt;break;case"beforeblur":case"afterblur":ue=bt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=$l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=nr;break;case jp:case Mp:case Fp:ue=Hl;break;case Up:ue=Js;break;case"scroll":ue=Ks;break;case"wheel":ue=_w;break;case"copy":case"cut":case"paste":ue=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=hn}var pe=(s&4)!==0,pt=!pe&&n==="scroll",F=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var V=$,B;V!==null;){B=V;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,F!==null&&(ne=qi(V,F),ne!=null&&pe.push(Ta(V,ne,B)))),pt)break;V=V.return}0<pe.length&&(Z=new ue(Z,fe,null,a,ee),te.push({event:Z,listeners:pe}))}}if((s&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",ue=n==="mouseout"||n==="pointerout",Z&&a!==Jr&&(fe=a.relatedTarget||a.fromElement)&&(ss(fe)||fe[Cr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(fe=a.relatedTarget||a.toElement,ue=$,fe=fe?ss(fe):null,fe!==null&&(pt=Nn(fe),fe!==pt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=$),ue!==fe)){if(pe=fa,ne="onMouseLeave",F="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(pe=hn,ne="onPointerLeave",F="onPointerEnter",V="pointer"),pt=ue==null?Z:ro(ue),B=fe==null?Z:ro(fe),Z=new pe(ne,V+"leave",ue,a,ee),Z.target=pt,Z.relatedTarget=B,ne=null,ss(ee)===$&&(pe=new pe(F,V+"enter",fe,a,ee),pe.target=B,pe.relatedTarget=pt,ne=pe),pt=ne,ue&&fe)t:{for(pe=ue,F=fe,V=0,B=pe;B;B=to(B))V++;for(B=0,ne=F;ne;ne=to(ne))B++;for(;0<V-B;)pe=to(pe),V--;for(;0<B-V;)F=to(F),B--;for(;V--;){if(pe===F||F!==null&&pe===F.alternate)break t;pe=to(pe),F=to(F)}pe=null}else pe=null;ue!==null&&qp(te,Z,ue,pe,!1),fe!==null&&pt!==null&&qp(te,pt,fe,pe,!0)}}e:{if(Z=$?ro($):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var ye=kw;else if(xp(Z))if(Cp)ye=Pw;else{ye=Rw;var Ee=Cw}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=Aw);if(ye&&(ye=ye(n,$))){kp(te,ye,a,ee);break e}Ee&&Ee(n,Z,$),n==="focusout"&&(Ee=Z._wrapperState)&&Ee.controlled&&Z.type==="number"&&gt(Z,"number",Z.value)}switch(Ee=$?ro($):window,n){case"focusin":(xp(Ee)||Ee.contentEditable==="true")&&(Zs=Ee,nh=$,_a=null);break;case"focusout":_a=nh=Zs=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Op(te,a,ee);break;case"selectionchange":if(bw)break;case"keydown":case"keyup":Op(te,a,ee)}var Te;if(Xc)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Xs?Sp(n,a)&&(Ce="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(wp&&a.locale!=="ko"&&(Xs||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Xs&&(Te=zl()):(un=ee,qs="value"in un?un.value:un.textContent,Xs=!0)),Ee=Yl($,Ce),0<Ee.length&&(Ce=new _(Ce,n,null,a,ee),te.push({event:Ce,listeners:Ee}),Te?Ce.data=Te:(Te=Ip(a),Te!==null&&(Ce.data=Te)))),(Te=Ew?Tw(n,a):Sw(n,a))&&($=Yl($,"onBeforeInput"),0<$.length&&(ee=new _("onBeforeInput","beforeinput",null,a,ee),te.push({event:ee,listeners:$}),ee.data=Te))}Wp(te,s)})}function Ta(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Yl(n,s){for(var a=s+"Capture",h=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=qi(n,a),p!=null&&h.unshift(Ta(n,p,d)),p=qi(n,s),p!=null&&h.push(Ta(n,p,d))),n=n.return}return h}function to(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function qp(n,s,a,h,d){for(var p=s._reactName,E=[];a!==null&&a!==h;){var C=a,b=C.alternate,$=C.stateNode;if(b!==null&&b===h)break;C.tag===5&&$!==null&&(C=$,d?(b=qi(a,p),b!=null&&E.unshift(Ta(a,b,C))):d||(b=qi(a,p),b!=null&&E.push(Ta(a,b,C)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var jw=/\r\n?/g,Mw=/\u0000|\uFFFD/g;function Kp(n){return(typeof n=="string"?n:""+n).replace(jw,`
`).replace(Mw,"")}function Jl(n,s,a){if(s=Kp(s),Kp(n)!==s&&a)throw Error(t(425))}function Xl(){}var uh=null,ch=null;function hh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,Fw=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(n){return Gp.resolve(null).then(n).catch(zw)}:dh;function zw(n){setTimeout(function(){throw n})}function fh(n,s){var a=s,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){n.removeChild(d),si(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);si(s)}function ui(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Qp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var no=Math.random().toString(36).slice(2),ir="__reactFiber$"+no,Sa="__reactProps$"+no,Cr="__reactContainer$"+no,ph="__reactEvents$"+no,Bw="__reactListeners$"+no,$w="__reactHandles$"+no;function ss(n){var s=n[ir];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Cr]||a[ir]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Qp(n);n!==null;){if(a=n[ir])return a;n=Qp(n)}return s}n=a,a=n.parentNode}return null}function Ia(n){return n=n[ir]||n[Cr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ro(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Zl(n){return n[Sa]||null}var mh=[],io=-1;function ci(n){return{current:n}}function et(n){0>io||(n.current=mh[io],mh[io]=null,io--)}function Je(n,s){io++,mh[io]=n.current,n.current=s}var hi={},zt=ci(hi),Jt=ci(!1),os=hi;function so(n,s){var a=n.type.contextTypes;if(!a)return hi;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=s[p];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function Xt(n){return n=n.childContextTypes,n!=null}function eu(){et(Jt),et(zt)}function Yp(n,s,a){if(zt.current!==hi)throw Error(t(168));Je(zt,s),Je(Jt,a)}function Jp(n,s,a){var h=n.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,We(n)||"Unknown",d));return q({},a,h)}function tu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||hi,os=zt.current,Je(zt,n),Je(Jt,Jt.current),!0}function Xp(n,s,a){var h=n.stateNode;if(!h)throw Error(t(169));a?(n=Jp(n,s,os),h.__reactInternalMemoizedMergedChildContext=n,et(Jt),et(zt),Je(zt,n)):et(Jt),Je(Jt,a)}var Rr=null,nu=!1,gh=!1;function Zp(n){Rr===null?Rr=[n]:Rr.push(n)}function Ww(n){nu=!0,Zp(n)}function di(){if(!gh&&Rr!==null){gh=!0;var n=0,s=Ue;try{var a=Rr;for(Ue=1;n<a.length;n++){var h=a[n];do h=h(!0);while(h!==null)}Rr=null,nu=!1}catch(d){throw Rr!==null&&(Rr=Rr.slice(n+1)),ea(Fs,di),d}finally{Ue=s,gh=!1}}return null}var oo=[],ao=0,ru=null,iu=0,vn=[],_n=0,as=null,Ar=1,Pr="";function ls(n,s){oo[ao++]=iu,oo[ao++]=ru,ru=n,iu=s}function em(n,s,a){vn[_n++]=Ar,vn[_n++]=Pr,vn[_n++]=as,as=n;var h=Ar;n=Pr;var d=32-an(h)-1;h&=~(1<<d),a+=1;var p=32-an(s)+d;if(30<p){var E=d-d%5;p=(h&(1<<E)-1).toString(32),h>>=E,d-=E,Ar=1<<32-an(s)+d|a<<d|h,Pr=p+n}else Ar=1<<p|a<<d|h,Pr=n}function yh(n){n.return!==null&&(ls(n,1),em(n,1,0))}function vh(n){for(;n===ru;)ru=oo[--ao],oo[ao]=null,iu=oo[--ao],oo[ao]=null;for(;n===as;)as=vn[--_n],vn[_n]=null,Pr=vn[--_n],vn[_n]=null,Ar=vn[--_n],vn[_n]=null}var dn=null,fn=null,st=!1,On=null;function tm(n,s){var a=Sn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function nm(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,dn=n,fn=ui(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,dn=n,fn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=as!==null?{id:Ar,overflow:Pr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Sn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,dn=n,fn=null,!0):!1;default:return!1}}function _h(n){return(n.mode&1)!==0&&(n.flags&128)===0}function wh(n){if(st){var s=fn;if(s){var a=s;if(!nm(n,s)){if(_h(n))throw Error(t(418));s=ui(a.nextSibling);var h=dn;s&&nm(n,s)?tm(h,a):(n.flags=n.flags&-4097|2,st=!1,dn=n)}}else{if(_h(n))throw Error(t(418));n.flags=n.flags&-4097|2,st=!1,dn=n}}}function rm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;dn=n}function su(n){if(n!==dn)return!1;if(!st)return rm(n),st=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!hh(n.type,n.memoizedProps)),s&&(s=fn)){if(_h(n))throw im(),Error(t(418));for(;s;)tm(n,s),s=ui(s.nextSibling)}if(rm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){fn=ui(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}fn=null}}else fn=dn?ui(n.stateNode.nextSibling):null;return!0}function im(){for(var n=fn;n;)n=ui(n.nextSibling)}function lo(){fn=dn=null,st=!1}function Eh(n){On===null?On=[n]:On.push(n)}var Hw=se.ReactCurrentBatchConfig;function xa(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,n));var d=h,p=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(E){var C=d.refs;E===null?delete C[p]:C[p]=E},s._stringRef=p,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function ou(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function sm(n){var s=n._init;return s(n._payload)}function om(n){function s(F,V){if(n){var B=F.deletions;B===null?(F.deletions=[V],F.flags|=16):B.push(V)}}function a(F,V){if(!n)return null;for(;V!==null;)s(F,V),V=V.sibling;return null}function h(F,V){for(F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function d(F,V){return F=wi(F,V),F.index=0,F.sibling=null,F}function p(F,V,B){return F.index=B,n?(B=F.alternate,B!==null?(B=B.index,B<V?(F.flags|=2,V):B):(F.flags|=2,V)):(F.flags|=1048576,V)}function E(F){return n&&F.alternate===null&&(F.flags|=2),F}function C(F,V,B,ne){return V===null||V.tag!==6?(V=dd(B,F.mode,ne),V.return=F,V):(V=d(V,B),V.return=F,V)}function b(F,V,B,ne){var ye=B.type;return ye===P?ee(F,V,B.props.children,ne,B.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===rt&&sm(ye)===V.type)?(ne=d(V,B.props),ne.ref=xa(F,V,B),ne.return=F,ne):(ne=Pu(B.type,B.key,B.props,null,F.mode,ne),ne.ref=xa(F,V,B),ne.return=F,ne)}function $(F,V,B,ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=fd(B,F.mode,ne),V.return=F,V):(V=d(V,B.children||[]),V.return=F,V)}function ee(F,V,B,ne,ye){return V===null||V.tag!==7?(V=gs(B,F.mode,ne,ye),V.return=F,V):(V=d(V,B),V.return=F,V)}function te(F,V,B){if(typeof V=="string"&&V!==""||typeof V=="number")return V=dd(""+V,F.mode,B),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case de:return B=Pu(V.type,V.key,V.props,null,F.mode,B),B.ref=xa(F,null,V),B.return=F,B;case oe:return V=fd(V,F.mode,B),V.return=F,V;case rt:var ne=V._init;return te(F,ne(V._payload),B)}if(dt(V)||ge(V))return V=gs(V,F.mode,B,null),V.return=F,V;ou(F,V)}return null}function Z(F,V,B,ne){var ye=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ye!==null?null:C(F,V,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case de:return B.key===ye?b(F,V,B,ne):null;case oe:return B.key===ye?$(F,V,B,ne):null;case rt:return ye=B._init,Z(F,V,ye(B._payload),ne)}if(dt(B)||ge(B))return ye!==null?null:ee(F,V,B,ne,null);ou(F,B)}return null}function ue(F,V,B,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return F=F.get(B)||null,C(V,F,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case de:return F=F.get(ne.key===null?B:ne.key)||null,b(V,F,ne,ye);case oe:return F=F.get(ne.key===null?B:ne.key)||null,$(V,F,ne,ye);case rt:var Ee=ne._init;return ue(F,V,B,Ee(ne._payload),ye)}if(dt(ne)||ge(ne))return F=F.get(B)||null,ee(V,F,ne,ye,null);ou(V,ne)}return null}function fe(F,V,B,ne){for(var ye=null,Ee=null,Te=V,Ce=V=0,At=null;Te!==null&&Ce<B.length;Ce++){Te.index>Ce?(At=Te,Te=null):At=Te.sibling;var $e=Z(F,Te,B[Ce],ne);if($e===null){Te===null&&(Te=At);break}n&&Te&&$e.alternate===null&&s(F,Te),V=p($e,V,Ce),Ee===null?ye=$e:Ee.sibling=$e,Ee=$e,Te=At}if(Ce===B.length)return a(F,Te),st&&ls(F,Ce),ye;if(Te===null){for(;Ce<B.length;Ce++)Te=te(F,B[Ce],ne),Te!==null&&(V=p(Te,V,Ce),Ee===null?ye=Te:Ee.sibling=Te,Ee=Te);return st&&ls(F,Ce),ye}for(Te=h(F,Te);Ce<B.length;Ce++)At=ue(Te,F,Ce,B[Ce],ne),At!==null&&(n&&At.alternate!==null&&Te.delete(At.key===null?Ce:At.key),V=p(At,V,Ce),Ee===null?ye=At:Ee.sibling=At,Ee=At);return n&&Te.forEach(function(Ei){return s(F,Ei)}),st&&ls(F,Ce),ye}function pe(F,V,B,ne){var ye=ge(B);if(typeof ye!="function")throw Error(t(150));if(B=ye.call(B),B==null)throw Error(t(151));for(var Ee=ye=null,Te=V,Ce=V=0,At=null,$e=B.next();Te!==null&&!$e.done;Ce++,$e=B.next()){Te.index>Ce?(At=Te,Te=null):At=Te.sibling;var Ei=Z(F,Te,$e.value,ne);if(Ei===null){Te===null&&(Te=At);break}n&&Te&&Ei.alternate===null&&s(F,Te),V=p(Ei,V,Ce),Ee===null?ye=Ei:Ee.sibling=Ei,Ee=Ei,Te=At}if($e.done)return a(F,Te),st&&ls(F,Ce),ye;if(Te===null){for(;!$e.done;Ce++,$e=B.next())$e=te(F,$e.value,ne),$e!==null&&(V=p($e,V,Ce),Ee===null?ye=$e:Ee.sibling=$e,Ee=$e);return st&&ls(F,Ce),ye}for(Te=h(F,Te);!$e.done;Ce++,$e=B.next())$e=ue(Te,F,Ce,$e.value,ne),$e!==null&&(n&&$e.alternate!==null&&Te.delete($e.key===null?Ce:$e.key),V=p($e,V,Ce),Ee===null?ye=$e:Ee.sibling=$e,Ee=$e);return n&&Te.forEach(function(I1){return s(F,I1)}),st&&ls(F,Ce),ye}function pt(F,V,B,ne){if(typeof B=="object"&&B!==null&&B.type===P&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case de:e:{for(var ye=B.key,Ee=V;Ee!==null;){if(Ee.key===ye){if(ye=B.type,ye===P){if(Ee.tag===7){a(F,Ee.sibling),V=d(Ee,B.props.children),V.return=F,F=V;break e}}else if(Ee.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===rt&&sm(ye)===Ee.type){a(F,Ee.sibling),V=d(Ee,B.props),V.ref=xa(F,Ee,B),V.return=F,F=V;break e}a(F,Ee);break}else s(F,Ee);Ee=Ee.sibling}B.type===P?(V=gs(B.props.children,F.mode,ne,B.key),V.return=F,F=V):(ne=Pu(B.type,B.key,B.props,null,F.mode,ne),ne.ref=xa(F,V,B),ne.return=F,F=ne)}return E(F);case oe:e:{for(Ee=B.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(F,V.sibling),V=d(V,B.children||[]),V.return=F,F=V;break e}else{a(F,V);break}else s(F,V);V=V.sibling}V=fd(B,F.mode,ne),V.return=F,F=V}return E(F);case rt:return Ee=B._init,pt(F,V,Ee(B._payload),ne)}if(dt(B))return fe(F,V,B,ne);if(ge(B))return pe(F,V,B,ne);ou(F,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,V!==null&&V.tag===6?(a(F,V.sibling),V=d(V,B),V.return=F,F=V):(a(F,V),V=dd(B,F.mode,ne),V.return=F,F=V),E(F)):a(F,V)}return pt}var uo=om(!0),am=om(!1),au=ci(null),lu=null,co=null,Th=null;function Sh(){Th=co=lu=null}function Ih(n){var s=au.current;et(au),n._currentValue=s}function xh(n,s,a){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===a)break;n=n.return}}function ho(n,s){lu=n,Th=co=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Zt=!0),n.firstContext=null)}function wn(n){var s=n._currentValue;if(Th!==n)if(n={context:n,memoizedValue:s,next:null},co===null){if(lu===null)throw Error(t(308));co=n,lu.dependencies={lanes:0,firstContext:n}}else co=co.next=n;return s}var us=null;function kh(n){us===null?us=[n]:us.push(n)}function lm(n,s,a,h){var d=s.interleaved;return d===null?(a.next=a,kh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Dr(n,h)}function Dr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var fi=!1;function Ch(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function um(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Nr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function pi(n,s,a){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Be&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,Dr(n,a)}return d=h.interleaved,d===null?(s.next=s,kh(h)):(s.next=d.next,d.next=s),h.interleaved=s,Dr(n,a)}function uu(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=n.pendingLanes,a|=h,s.lanes=a,oa(n,a)}}function cm(n,s){var a=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?d=p=s:p=p.next=s}else d=p=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:h.shared,effects:h.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function cu(n,s,a,h){var d=n.updateQueue;fi=!1;var p=d.firstBaseUpdate,E=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var b=C,$=b.next;b.next=null,E===null?p=$:E.next=$,E=b;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==E&&(C===null?ee.firstBaseUpdate=$:C.next=$,ee.lastBaseUpdate=b))}if(p!==null){var te=d.baseState;E=0,ee=$=b=null,C=p;do{var Z=C.lane,ue=C.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var fe=n,pe=C;switch(Z=s,ue=a,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){te=fe.call(ue,te,Z);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,Z=typeof fe=="function"?fe.call(ue,te,Z):fe,Z==null)break e;te=q({},te,Z);break e;case 2:fi=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,Z=d.effects,Z===null?d.effects=[C]:Z.push(C))}else ue={eventTime:ue,lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?($=ee=ue,b=te):ee=ee.next=ue,E|=Z;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);if(ee===null&&(b=te),d.baseState=b,d.firstBaseUpdate=$,d.lastBaseUpdate=ee,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else p===null&&(d.shared.lanes=0);ds|=E,n.lanes=E,n.memoizedState=te}}function hm(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var h=n[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var ka={},sr=ci(ka),Ca=ci(ka),Ra=ci(ka);function cs(n){if(n===ka)throw Error(t(174));return n}function Rh(n,s){switch(Je(Ra,s),Je(Ca,n),Je(sr,ka),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:bs(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=bs(s,n)}et(sr),Je(sr,s)}function fo(){et(sr),et(Ca),et(Ra)}function dm(n){cs(Ra.current);var s=cs(sr.current),a=bs(s,n.type);s!==a&&(Je(Ca,n),Je(sr,a))}function Ah(n){Ca.current===n&&(et(sr),et(Ca))}var ot=ci(0);function hu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ph=[];function Dh(){for(var n=0;n<Ph.length;n++)Ph[n]._workInProgressVersionPrimary=null;Ph.length=0}var du=se.ReactCurrentDispatcher,Nh=se.ReactCurrentBatchConfig,hs=0,at=null,Tt=null,Ct=null,fu=!1,Aa=!1,Pa=0,qw=0;function Bt(){throw Error(t(321))}function bh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Ln(n[a],s[a]))return!1;return!0}function Lh(n,s,a,h,d,p){if(hs=p,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,du.current=n===null||n.memoizedState===null?Yw:Jw,n=a(h,d),Aa){p=0;do{if(Aa=!1,Pa=0,25<=p)throw Error(t(301));p+=1,Ct=Tt=null,s.updateQueue=null,du.current=Xw,n=a(h,d)}while(Aa)}if(du.current=gu,s=Tt!==null&&Tt.next!==null,hs=0,Ct=Tt=at=null,fu=!1,s)throw Error(t(300));return n}function Oh(){var n=Pa!==0;return Pa=0,n}function or(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?at.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function En(){if(Tt===null){var n=at.alternate;n=n!==null?n.memoizedState:null}else n=Tt.next;var s=Ct===null?at.memoizedState:Ct.next;if(s!==null)Ct=s,Tt=n;else{if(n===null)throw Error(t(310));Tt=n,n={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Ct===null?at.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function Da(n,s){return typeof s=="function"?s(n):s}function Vh(n){var s=En(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=Tt,d=h.baseQueue,p=a.pending;if(p!==null){if(d!==null){var E=d.next;d.next=p.next,p.next=E}h.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,h=h.baseState;var C=E=null,b=null,$=p;do{var ee=$.lane;if((hs&ee)===ee)b!==null&&(b=b.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:n(h,$.action);else{var te={lane:ee,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};b===null?(C=b=te,E=h):b=b.next=te,at.lanes|=ee,ds|=ee}$=$.next}while($!==null&&$!==p);b===null?E=h:b.next=C,Ln(h,s.memoizedState)||(Zt=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=b,a.lastRenderedState=h}if(n=a.interleaved,n!==null){d=n;do p=d.lane,at.lanes|=p,ds|=p,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function jh(n){var s=En(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=a.dispatch,d=a.pending,p=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do p=n(p,E.action),E=E.next;while(E!==d);Ln(p,s.memoizedState)||(Zt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,h]}function fm(){}function pm(n,s){var a=at,h=En(),d=s(),p=!Ln(h.memoizedState,d);if(p&&(h.memoizedState=d,Zt=!0),h=h.queue,Mh(ym.bind(null,a,h,n),[n]),h.getSnapshot!==s||p||Ct!==null&&Ct.memoizedState.tag&1){if(a.flags|=2048,Na(9,gm.bind(null,a,h,d,s),void 0,null),Rt===null)throw Error(t(349));(hs&30)!==0||mm(a,s,d)}return d}function mm(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function gm(n,s,a,h){s.value=a,s.getSnapshot=h,vm(s)&&_m(n)}function ym(n,s,a){return a(function(){vm(s)&&_m(n)})}function vm(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Ln(n,a)}catch{return!0}}function _m(n){var s=Dr(n,1);s!==null&&Fn(s,n,1,-1)}function wm(n){var s=or();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:n},s.queue=n,n=n.dispatch=Qw.bind(null,at,n),[s.memoizedState,n]}function Na(n,s,a,h){return n={tag:n,create:s,destroy:a,deps:h,next:null},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(h=a.next,a.next=n,n.next=h,s.lastEffect=n)),n}function Em(){return En().memoizedState}function pu(n,s,a,h){var d=or();at.flags|=n,d.memoizedState=Na(1|s,a,void 0,h===void 0?null:h)}function mu(n,s,a,h){var d=En();h=h===void 0?null:h;var p=void 0;if(Tt!==null){var E=Tt.memoizedState;if(p=E.destroy,h!==null&&bh(h,E.deps)){d.memoizedState=Na(s,a,p,h);return}}at.flags|=n,d.memoizedState=Na(1|s,a,p,h)}function Tm(n,s){return pu(8390656,8,n,s)}function Mh(n,s){return mu(2048,8,n,s)}function Sm(n,s){return mu(4,2,n,s)}function Im(n,s){return mu(4,4,n,s)}function xm(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function km(n,s,a){return a=a!=null?a.concat([n]):null,mu(4,4,xm.bind(null,s,n),a)}function Fh(){}function Cm(n,s){var a=En();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&bh(s,h[1])?h[0]:(a.memoizedState=[n,s],n)}function Rm(n,s){var a=En();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&bh(s,h[1])?h[0]:(n=n(),a.memoizedState=[n,s],n)}function Am(n,s,a){return(hs&21)===0?(n.baseState&&(n.baseState=!1,Zt=!0),n.memoizedState=a):(Ln(a,s)||(a=ia(),at.lanes|=a,ds|=a,n.baseState=!0),s)}function Kw(n,s){var a=Ue;Ue=a!==0&&4>a?a:4,n(!0);var h=Nh.transition;Nh.transition={};try{n(!1),s()}finally{Ue=a,Nh.transition=h}}function Pm(){return En().memoizedState}function Gw(n,s,a){var h=vi(n);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Dm(n))Nm(s,a);else if(a=lm(n,s,a,h),a!==null){var d=Yt();Fn(a,n,h,d),bm(a,s,h)}}function Qw(n,s,a){var h=vi(n),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dm(n))Nm(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,C=p(E,a);if(d.hasEagerState=!0,d.eagerState=C,Ln(C,E)){var b=s.interleaved;b===null?(d.next=d,kh(s)):(d.next=b.next,b.next=d),s.interleaved=d;return}}catch{}finally{}a=lm(n,s,d,h),a!==null&&(d=Yt(),Fn(a,n,h,d),bm(a,s,h))}}function Dm(n){var s=n.alternate;return n===at||s!==null&&s===at}function Nm(n,s){Aa=fu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function bm(n,s,a){if((a&4194240)!==0){var h=s.lanes;h&=n.pendingLanes,a|=h,s.lanes=a,oa(n,a)}}var gu={readContext:wn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},Yw={readContext:wn,useCallback:function(n,s){return or().memoizedState=[n,s===void 0?null:s],n},useContext:wn,useEffect:Tm,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,pu(4194308,4,xm.bind(null,s,n),a)},useLayoutEffect:function(n,s){return pu(4194308,4,n,s)},useInsertionEffect:function(n,s){return pu(4,2,n,s)},useMemo:function(n,s){var a=or();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var h=or();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},h.queue=n,n=n.dispatch=Gw.bind(null,at,n),[h.memoizedState,n]},useRef:function(n){var s=or();return n={current:n},s.memoizedState=n},useState:wm,useDebugValue:Fh,useDeferredValue:function(n){return or().memoizedState=n},useTransition:function(){var n=wm(!1),s=n[0];return n=Kw.bind(null,n[1]),or().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var h=at,d=or();if(st){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Rt===null)throw Error(t(349));(hs&30)!==0||mm(h,s,a)}d.memoizedState=a;var p={value:a,getSnapshot:s};return d.queue=p,Tm(ym.bind(null,h,p,n),[n]),h.flags|=2048,Na(9,gm.bind(null,h,p,a,s),void 0,null),a},useId:function(){var n=or(),s=Rt.identifierPrefix;if(st){var a=Pr,h=Ar;a=(h&~(1<<32-an(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Pa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=qw++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Jw={readContext:wn,useCallback:Cm,useContext:wn,useEffect:Mh,useImperativeHandle:km,useInsertionEffect:Sm,useLayoutEffect:Im,useMemo:Rm,useReducer:Vh,useRef:Em,useState:function(){return Vh(Da)},useDebugValue:Fh,useDeferredValue:function(n){var s=En();return Am(s,Tt.memoizedState,n)},useTransition:function(){var n=Vh(Da)[0],s=En().memoizedState;return[n,s]},useMutableSource:fm,useSyncExternalStore:pm,useId:Pm,unstable_isNewReconciler:!1},Xw={readContext:wn,useCallback:Cm,useContext:wn,useEffect:Mh,useImperativeHandle:km,useInsertionEffect:Sm,useLayoutEffect:Im,useMemo:Rm,useReducer:jh,useRef:Em,useState:function(){return jh(Da)},useDebugValue:Fh,useDeferredValue:function(n){var s=En();return Tt===null?s.memoizedState=n:Am(s,Tt.memoizedState,n)},useTransition:function(){var n=jh(Da)[0],s=En().memoizedState;return[n,s]},useMutableSource:fm,useSyncExternalStore:pm,useId:Pm,unstable_isNewReconciler:!1};function Vn(n,s){if(n&&n.defaultProps){s=q({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Uh(n,s,a,h){s=n.memoizedState,a=a(h,s),a=a==null?s:q({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var yu={isMounted:function(n){return(n=n._reactInternals)?Nn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var h=Yt(),d=vi(n),p=Nr(h,d);p.payload=s,a!=null&&(p.callback=a),s=pi(n,p,d),s!==null&&(Fn(s,n,d,h),uu(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var h=Yt(),d=vi(n),p=Nr(h,d);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=pi(n,p,d),s!==null&&(Fn(s,n,d,h),uu(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Yt(),h=vi(n),d=Nr(a,h);d.tag=2,s!=null&&(d.callback=s),s=pi(n,d,h),s!==null&&(Fn(s,n,h,a),uu(s,n,h))}};function Lm(n,s,a,h,d,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,p,E):s.prototype&&s.prototype.isPureReactComponent?!va(a,h)||!va(d,p):!0}function Om(n,s,a){var h=!1,d=hi,p=s.contextType;return typeof p=="object"&&p!==null?p=wn(p):(d=Xt(s)?os:zt.current,h=s.contextTypes,p=(h=h!=null)?so(n,d):hi),s=new s(a,p),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yu,n.stateNode=s,s._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),s}function Vm(n,s,a,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==n&&yu.enqueueReplaceState(s,s.state,null)}function zh(n,s,a,h){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Ch(n);var p=s.contextType;typeof p=="object"&&p!==null?d.context=wn(p):(p=Xt(s)?os:zt.current,d.context=so(n,p)),d.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Uh(n,s,p,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&yu.enqueueReplaceState(d,d.state,null),cu(n,a,d,h),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function po(n,s){try{var a="",h=s;do a+=we(h),h=h.return;while(h);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:s,stack:d,digest:null}}function Bh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function $h(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Zw=typeof WeakMap=="function"?WeakMap:Map;function jm(n,s,a){a=Nr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Iu||(Iu=!0,id=h),$h(n,s)},a}function Mm(n,s,a){a=Nr(-1,a),a.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){$h(n,s)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){$h(n,s),typeof h!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Fm(n,s,a){var h=n.pingCache;if(h===null){h=n.pingCache=new Zw;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),n=f1.bind(null,n,s,a),s.then(n,n))}function Um(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function zm(n,s,a,h,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Nr(-1,1),s.tag=2,pi(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var e1=se.ReactCurrentOwner,Zt=!1;function Qt(n,s,a,h){s.child=n===null?am(s,null,a,h):uo(s,n.child,a,h)}function Bm(n,s,a,h,d){a=a.render;var p=s.ref;return ho(s,d),h=Lh(n,s,a,h,p,d),a=Oh(),n!==null&&!Zt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,br(n,s,d)):(st&&a&&yh(s),s.flags|=1,Qt(n,s,h,d),s.child)}function $m(n,s,a,h,d){if(n===null){var p=a.type;return typeof p=="function"&&!hd(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=p,Wm(n,s,p,h,d)):(n=Pu(a.type,null,h,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,(n.lanes&d)===0){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:va,a(E,h)&&n.ref===s.ref)return br(n,s,d)}return s.flags|=1,n=wi(p,h),n.ref=s.ref,n.return=s,s.child=n}function Wm(n,s,a,h,d){if(n!==null){var p=n.memoizedProps;if(va(p,h)&&n.ref===s.ref)if(Zt=!1,s.pendingProps=h=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Zt=!0);else return s.lanes=n.lanes,br(n,s,d)}return Wh(n,s,a,h,d)}function Hm(n,s,a){var h=s.pendingProps,d=h.children,p=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(go,pn),pn|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Je(go,pn),pn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=p!==null?p.baseLanes:a,Je(go,pn),pn|=h}else p!==null?(h=p.baseLanes|a,s.memoizedState=null):h=a,Je(go,pn),pn|=h;return Qt(n,s,d,a),s.child}function qm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Wh(n,s,a,h,d){var p=Xt(a)?os:zt.current;return p=so(s,p),ho(s,d),a=Lh(n,s,a,h,p,d),h=Oh(),n!==null&&!Zt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,br(n,s,d)):(st&&h&&yh(s),s.flags|=1,Qt(n,s,a,d),s.child)}function Km(n,s,a,h,d){if(Xt(a)){var p=!0;tu(s)}else p=!1;if(ho(s,d),s.stateNode===null)_u(n,s),Om(s,a,h),zh(s,a,h,d),h=!0;else if(n===null){var E=s.stateNode,C=s.memoizedProps;E.props=C;var b=E.context,$=a.contextType;typeof $=="object"&&$!==null?$=wn($):($=Xt(a)?os:zt.current,$=so(s,$));var ee=a.getDerivedStateFromProps,te=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||b!==$)&&Vm(s,E,h,$),fi=!1;var Z=s.memoizedState;E.state=Z,cu(s,h,E,d),b=s.memoizedState,C!==h||Z!==b||Jt.current||fi?(typeof ee=="function"&&(Uh(s,a,ee,h),b=s.memoizedState),(C=fi||Lm(s,a,C,h,Z,b,$))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=b),E.props=h,E.state=b,E.context=$,h=C):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,um(n,s),C=s.memoizedProps,$=s.type===s.elementType?C:Vn(s.type,C),E.props=$,te=s.pendingProps,Z=E.context,b=a.contextType,typeof b=="object"&&b!==null?b=wn(b):(b=Xt(a)?os:zt.current,b=so(s,b));var ue=a.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==te||Z!==b)&&Vm(s,E,h,b),fi=!1,Z=s.memoizedState,E.state=Z,cu(s,h,E,d);var fe=s.memoizedState;C!==te||Z!==fe||Jt.current||fi?(typeof ue=="function"&&(Uh(s,a,ue,h),fe=s.memoizedState),($=fi||Lm(s,a,$,h,Z,fe,b)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,fe,b),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,fe,b)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===n.memoizedProps&&Z===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Z===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=fe),E.props=h,E.state=fe,E.context=b,h=$):(typeof E.componentDidUpdate!="function"||C===n.memoizedProps&&Z===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Z===n.memoizedState||(s.flags|=1024),h=!1)}return Hh(n,s,a,h,p,d)}function Hh(n,s,a,h,d,p){qm(n,s);var E=(s.flags&128)!==0;if(!h&&!E)return d&&Xp(s,a,!1),br(n,s,p);h=s.stateNode,e1.current=s;var C=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,n!==null&&E?(s.child=uo(s,n.child,null,p),s.child=uo(s,null,C,p)):Qt(n,s,C,p),s.memoizedState=h.state,d&&Xp(s,a,!0),s.child}function Gm(n){var s=n.stateNode;s.pendingContext?Yp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Yp(n,s.context,!1),Rh(n,s.containerInfo)}function Qm(n,s,a,h,d){return lo(),Eh(d),s.flags|=256,Qt(n,s,a,h),s.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Kh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ym(n,s,a){var h=s.pendingProps,d=ot.current,p=!1,E=(s.flags&128)!==0,C;if((C=E)||(C=n!==null&&n.memoizedState===null?!1:(d&2)!==0),C?(p=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Je(ot,d&1),n===null)return wh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,n=h.fallback,p?(h=s.mode,p=s.child,E={mode:"hidden",children:E},(h&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=E):p=Du(E,h,0,null),n=gs(n,h,a,null),p.return=s,n.return=s,p.sibling=n,s.child=p,s.child.memoizedState=Kh(a),s.memoizedState=qh,n):Gh(s,E));if(d=n.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return t1(n,s,E,h,C,d,a);if(p){p=h.fallback,E=s.mode,d=n.child,C=d.sibling;var b={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=b,s.deletions=null):(h=wi(d,b),h.subtreeFlags=d.subtreeFlags&14680064),C!==null?p=wi(C,p):(p=gs(p,E,a,null),p.flags|=2),p.return=s,h.return=s,h.sibling=p,s.child=h,h=p,p=s.child,E=n.child.memoizedState,E=E===null?Kh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},p.memoizedState=E,p.childLanes=n.childLanes&~a,s.memoizedState=qh,h}return p=n.child,n=p.sibling,h=wi(p,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=h,s.memoizedState=null,h}function Gh(n,s){return s=Du({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function vu(n,s,a,h){return h!==null&&Eh(h),uo(s,n.child,null,a),n=Gh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function t1(n,s,a,h,d,p,E){if(a)return s.flags&256?(s.flags&=-257,h=Bh(Error(t(422))),vu(n,s,E,h)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(p=h.fallback,d=s.mode,h=Du({mode:"visible",children:h.children},d,0,null),p=gs(p,d,E,null),p.flags|=2,h.return=s,p.return=s,h.sibling=p,s.child=h,(s.mode&1)!==0&&uo(s,n.child,null,E),s.child.memoizedState=Kh(E),s.memoizedState=qh,p);if((s.mode&1)===0)return vu(n,s,E,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var C=h.dgst;return h=C,p=Error(t(419)),h=Bh(p,h,void 0),vu(n,s,E,h)}if(C=(E&n.childLanes)!==0,Zt||C){if(h=Rt,h!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|E))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,Dr(n,d),Fn(h,n,d,-1))}return cd(),h=Bh(Error(t(421))),vu(n,s,E,h)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=p1.bind(null,n),d._reactRetry=s,null):(n=p.treeContext,fn=ui(d.nextSibling),dn=s,st=!0,On=null,n!==null&&(vn[_n++]=Ar,vn[_n++]=Pr,vn[_n++]=as,Ar=n.id,Pr=n.overflow,as=s),s=Gh(s,h.children),s.flags|=4096,s)}function Jm(n,s,a){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),xh(n.return,s,a)}function Qh(n,s,a,h,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=h,p.tail=a,p.tailMode=d)}function Xm(n,s,a){var h=s.pendingProps,d=h.revealOrder,p=h.tail;if(Qt(n,s,h.children,a),h=ot.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jm(n,a,s);else if(n.tag===19)Jm(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Je(ot,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&hu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Qh(s,!1,d,a,p);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&hu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Qh(s,!0,a,null,p);break;case"together":Qh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _u(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function br(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),ds|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=wi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=wi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function n1(n,s,a){switch(s.tag){case 3:Gm(s),lo();break;case 5:dm(s);break;case 1:Xt(s.type)&&tu(s);break;case 4:Rh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;Je(au,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Je(ot,ot.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Ym(n,s,a):(Je(ot,ot.current&1),n=br(n,s,a),n!==null?n.sibling:null);Je(ot,ot.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(n.flags&128)!==0){if(h)return Xm(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Je(ot,ot.current),h)break;return null;case 22:case 23:return s.lanes=0,Hm(n,s,a)}return br(n,s,a)}var Zm,Yh,eg,tg;Zm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Yh=function(){},eg=function(n,s,a,h){var d=n.memoizedProps;if(d!==h){n=s.stateNode,cs(sr.current);var p=null;switch(a){case"input":d=Ds(n,d),h=Ds(n,h),p=[];break;case"select":d=q({},d,{value:void 0}),h=q({},h,{value:void 0}),p=[];break;case"textarea":d=Ko(n,d),h=Ko(n,h),p=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Xl)}Dn(a,h);var E;a=null;for($ in d)if(!h.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var C=d[$];for(E in C)C.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?p||(p=[]):(p=p||[]).push($,null));for($ in h){var b=h[$];if(C=d!=null?d[$]:void 0,h.hasOwnProperty($)&&b!==C&&(b!=null||C!=null))if($==="style")if(C){for(E in C)!C.hasOwnProperty(E)||b&&b.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in b)b.hasOwnProperty(E)&&C[E]!==b[E]&&(a||(a={}),a[E]=b[E])}else a||(p||(p=[]),p.push($,a)),a=b;else $==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,C=C?C.__html:void 0,b!=null&&C!==b&&(p=p||[]).push($,b)):$==="children"?typeof b!="string"&&typeof b!="number"||(p=p||[]).push($,""+b):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(b!=null&&$==="onScroll"&&Ze("scroll",n),p||C===b||(p=[])):(p=p||[]).push($,b))}a&&(p=p||[]).push("style",a);var $=p;(s.updateQueue=$)&&(s.flags|=4)}},tg=function(n,s,a,h){a!==h&&(s.flags|=4)};function ba(n,s){if(!st)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function $t(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,h=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=h,n.childLanes=a,s}function r1(n,s,a){var h=s.pendingProps;switch(vh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return Xt(s.type)&&eu(),$t(s),null;case 3:return h=s.stateNode,fo(),et(Jt),et(zt),Dh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(su(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,On!==null&&(ad(On),On=null))),Yh(n,s),$t(s),null;case 5:Ah(s);var d=cs(Ra.current);if(a=s.type,n!==null&&s.stateNode!=null)eg(n,s,a,h,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(n=cs(sr.current),su(s)){h=s.stateNode,a=s.type;var p=s.memoizedProps;switch(h[ir]=s,h[Sa]=p,n=(s.mode&1)!==0,a){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(d=0;d<wa.length;d++)Ze(wa[d],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":Sl(h,p),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!p.multiple},Ze("invalid",h);break;case"textarea":Go(h,p),Ze("invalid",h)}Dn(a,p),d=null;for(var E in p)if(p.hasOwnProperty(E)){var C=p[E];E==="children"?typeof C=="string"?h.textContent!==C&&(p.suppressHydrationWarning!==!0&&Jl(h.textContent,C,n),d=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(p.suppressHydrationWarning!==!0&&Jl(h.textContent,C,n),d=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Ze("scroll",h)}switch(a){case"input":it(h),qo(h,p,!0);break;case"textarea":it(h),Kr(h);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(h.onclick=Xl)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Qo(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=E.createElement(a,{is:h.is}):(n=E.createElement(a),a==="select"&&(E=n,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):n=E.createElementNS(n,a),n[ir]=s,n[Sa]=h,Zm(n,s,!1,!1),s.stateNode=n;e:{switch(E=Os(a,h),a){case"dialog":Ze("cancel",n),Ze("close",n),d=h;break;case"iframe":case"object":case"embed":Ze("load",n),d=h;break;case"video":case"audio":for(d=0;d<wa.length;d++)Ze(wa[d],n);d=h;break;case"source":Ze("error",n),d=h;break;case"img":case"image":case"link":Ze("error",n),Ze("load",n),d=h;break;case"details":Ze("toggle",n),d=h;break;case"input":Sl(n,h),d=Ds(n,h),Ze("invalid",n);break;case"option":d=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},d=q({},h,{value:void 0}),Ze("invalid",n);break;case"textarea":Go(n,h),d=Ko(n,h),Ze("invalid",n);break;default:d=h}Dn(a,d),C=d;for(p in C)if(C.hasOwnProperty(p)){var b=C[p];p==="style"?Ls(n,b):p==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&xl(n,b)):p==="children"?typeof b=="string"?(a!=="textarea"||b!=="")&&Hi(n,b):typeof b=="number"&&Hi(n,""+b):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?b!=null&&p==="onScroll"&&Ze("scroll",n):b!=null&&Q(n,p,b,E))}switch(a){case"input":it(n),qo(n,h,!1);break;case"textarea":it(n),Kr(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Ve(h.value));break;case"select":n.multiple=!!h.multiple,p=h.value,p!=null?Pn(n,!!h.multiple,p,!1):h.defaultValue!=null&&Pn(n,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Xl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(n&&s.stateNode!=null)tg(n,s,n.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=cs(Ra.current),cs(sr.current),su(s)){if(h=s.stateNode,a=s.memoizedProps,h[ir]=s,(p=h.nodeValue!==a)&&(n=dn,n!==null))switch(n.tag){case 3:Jl(h.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Jl(h.nodeValue,a,(n.mode&1)!==0)}p&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[ir]=s,s.stateNode=h}return $t(s),null;case 13:if(et(ot),h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(st&&fn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)im(),lo(),s.flags|=98560,p=!1;else if(p=su(s),h!==null&&h.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[ir]=s}else lo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),p=!1}else On!==null&&(ad(On),On=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(ot.current&1)!==0?St===0&&(St=3):cd())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return fo(),Yh(n,s),n===null&&Ea(s.stateNode.containerInfo),$t(s),null;case 10:return Ih(s.type._context),$t(s),null;case 17:return Xt(s.type)&&eu(),$t(s),null;case 19:if(et(ot),p=s.memoizedState,p===null)return $t(s),null;if(h=(s.flags&128)!==0,E=p.rendering,E===null)if(h)ba(p,!1);else{if(St!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(E=hu(n),E!==null){for(s.flags|=128,ba(p,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)p=a,n=h,p.flags&=14680066,E=p.alternate,E===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=E.childLanes,p.lanes=E.lanes,p.child=E.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=E.memoizedProps,p.memoizedState=E.memoizedState,p.updateQueue=E.updateQueue,p.type=E.type,n=E.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Je(ot,ot.current&1|2),s.child}n=n.sibling}p.tail!==null&&Xe()>yo&&(s.flags|=128,h=!0,ba(p,!1),s.lanes=4194304)}else{if(!h)if(n=hu(E),n!==null){if(s.flags|=128,h=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),ba(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!st)return $t(s),null}else 2*Xe()-p.renderingStartTime>yo&&a!==1073741824&&(s.flags|=128,h=!0,ba(p,!1),s.lanes=4194304);p.isBackwards?(E.sibling=s.child,s.child=E):(a=p.last,a!==null?a.sibling=E:s.child=E,p.last=E)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Xe(),s.sibling=null,a=ot.current,Je(ot,h?a&1|2:a&1),s):($t(s),null);case 22:case 23:return ud(),h=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(pn&1073741824)!==0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function i1(n,s){switch(vh(s),s.tag){case 1:return Xt(s.type)&&eu(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return fo(),et(Jt),et(zt),Dh(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Ah(s),null;case 13:if(et(ot),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));lo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return et(ot),null;case 4:return fo(),null;case 10:return Ih(s.type._context),null;case 22:case 23:return ud(),null;case 24:return null;default:return null}}var wu=!1,Wt=!1,s1=typeof WeakSet=="function"?WeakSet:Set,he=null;function mo(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ht(n,s,h)}else a.current=null}function Jh(n,s,a){try{a()}catch(h){ht(n,s,h)}}var ng=!1;function o1(n,s){if(uh=Ir,n=Lp(),th(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,p=h.focusNode;h=h.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,C=-1,b=-1,$=0,ee=0,te=n,Z=null;t:for(;;){for(var ue;te!==a||d!==0&&te.nodeType!==3||(C=E+d),te!==p||h!==0&&te.nodeType!==3||(b=E+h),te.nodeType===3&&(E+=te.nodeValue.length),(ue=te.firstChild)!==null;)Z=te,te=ue;for(;;){if(te===n)break t;if(Z===a&&++$===d&&(C=E),Z===p&&++ee===h&&(b=E),(ue=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=ue}a=C===-1||b===-1?null:{start:C,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(ch={focusedElem:n,selectionRange:a},Ir=!1,he=s;he!==null;)if(s=he,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,he=n;else for(;he!==null;){s=he;try{var fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,pt=fe.memoizedState,F=s.stateNode,V=F.getSnapshotBeforeUpdate(s.elementType===s.type?pe:Vn(s.type,pe),pt);F.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){ht(s,s.return,ne)}if(n=s.sibling,n!==null){n.return=s.return,he=n;break}he=s.return}return fe=ng,ng=!1,fe}function La(n,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&Jh(s,a,p)}d=d.next}while(d!==h)}}function Eu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Xh(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function rg(n){var s=n.alternate;s!==null&&(n.alternate=null,rg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[ir],delete s[Sa],delete s[ph],delete s[Bw],delete s[$w])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ig(n){return n.tag===5||n.tag===3||n.tag===4}function sg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ig(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zh(n,s,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Xl));else if(h!==4&&(n=n.child,n!==null))for(Zh(n,s,a),n=n.sibling;n!==null;)Zh(n,s,a),n=n.sibling}function ed(n,s,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(ed(n,s,a),n=n.sibling;n!==null;)ed(n,s,a),n=n.sibling}var Lt=null,jn=!1;function mi(n,s,a){for(a=a.child;a!==null;)og(n,s,a),a=a.sibling}function og(n,s,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Yi,a)}catch{}switch(a.tag){case 5:Wt||mo(a,s);case 6:var h=Lt,d=jn;Lt=null,mi(n,s,a),Lt=h,jn=d,Lt!==null&&(jn?(n=Lt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Lt.removeChild(a.stateNode));break;case 18:Lt!==null&&(jn?(n=Lt,a=a.stateNode,n.nodeType===8?fh(n.parentNode,a):n.nodeType===1&&fh(n,a),si(n)):fh(Lt,a.stateNode));break;case 4:h=Lt,d=jn,Lt=a.stateNode.containerInfo,jn=!0,mi(n,s,a),Lt=h,jn=d;break;case 0:case 11:case 14:case 15:if(!Wt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var p=d,E=p.destroy;p=p.tag,E!==void 0&&((p&2)!==0||(p&4)!==0)&&Jh(a,s,E),d=d.next}while(d!==h)}mi(n,s,a);break;case 1:if(!Wt&&(mo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(C){ht(a,s,C)}mi(n,s,a);break;case 21:mi(n,s,a);break;case 22:a.mode&1?(Wt=(h=Wt)||a.memoizedState!==null,mi(n,s,a),Wt=h):mi(n,s,a);break;default:mi(n,s,a)}}function ag(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new s1),s.forEach(function(h){var d=m1.bind(null,n,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Mn(n,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var p=n,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 5:Lt=C.stateNode,jn=!1;break e;case 3:Lt=C.stateNode.containerInfo,jn=!0;break e;case 4:Lt=C.stateNode.containerInfo,jn=!0;break e}C=C.return}if(Lt===null)throw Error(t(160));og(p,E,d),Lt=null,jn=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch($){ht(d,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)lg(s,n),s=s.sibling}function lg(n,s){var a=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mn(s,n),ar(n),h&4){try{La(3,n,n.return),Eu(3,n)}catch(pe){ht(n,n.return,pe)}try{La(5,n,n.return)}catch(pe){ht(n,n.return,pe)}}break;case 1:Mn(s,n),ar(n),h&512&&a!==null&&mo(a,a.return);break;case 5:if(Mn(s,n),ar(n),h&512&&a!==null&&mo(a,a.return),n.flags&32){var d=n.stateNode;try{Hi(d,"")}catch(pe){ht(n,n.return,pe)}}if(h&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,E=a!==null?a.memoizedProps:p,C=n.type,b=n.updateQueue;if(n.updateQueue=null,b!==null)try{C==="input"&&p.type==="radio"&&p.name!=null&&Ns(d,p),Os(C,E);var $=Os(C,p);for(E=0;E<b.length;E+=2){var ee=b[E],te=b[E+1];ee==="style"?Ls(d,te):ee==="dangerouslySetInnerHTML"?xl(d,te):ee==="children"?Hi(d,te):Q(d,ee,te,$)}switch(C){case"input":Wi(d,p);break;case"textarea":Il(d,p);break;case"select":var Z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ue=p.value;ue!=null?Pn(d,!!p.multiple,ue,!1):Z!==!!p.multiple&&(p.defaultValue!=null?Pn(d,!!p.multiple,p.defaultValue,!0):Pn(d,!!p.multiple,p.multiple?[]:"",!1))}d[Sa]=p}catch(pe){ht(n,n.return,pe)}}break;case 6:if(Mn(s,n),ar(n),h&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(pe){ht(n,n.return,pe)}}break;case 3:if(Mn(s,n),ar(n),h&4&&a!==null&&a.memoizedState.isDehydrated)try{si(s.containerInfo)}catch(pe){ht(n,n.return,pe)}break;case 4:Mn(s,n),ar(n);break;case 13:Mn(s,n),ar(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(rd=Xe())),h&4&&ag(n);break;case 22:if(ee=a!==null&&a.memoizedState!==null,n.mode&1?(Wt=($=Wt)||ee,Mn(s,n),Wt=$):Mn(s,n),ar(n),h&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!ee&&(n.mode&1)!==0)for(he=n,ee=n.child;ee!==null;){for(te=he=ee;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:La(4,Z,Z.return);break;case 1:mo(Z,Z.return);var fe=Z.stateNode;if(typeof fe.componentWillUnmount=="function"){h=Z,a=Z.return;try{s=h,fe.props=s.memoizedProps,fe.state=s.memoizedState,fe.componentWillUnmount()}catch(pe){ht(h,a,pe)}}break;case 5:mo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){hg(te);continue}}ue!==null?(ue.return=Z,he=ue):hg(te)}ee=ee.sibling}e:for(ee=null,te=n;;){if(te.tag===5){if(ee===null){ee=te;try{d=te.stateNode,$?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(C=te.stateNode,b=te.memoizedProps.style,E=b!=null&&b.hasOwnProperty("display")?b.display:null,C.style.display=Yr("display",E))}catch(pe){ht(n,n.return,pe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=$?"":te.memoizedProps}catch(pe){ht(n,n.return,pe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===n)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===n)break e;for(;te.sibling===null;){if(te.return===null||te.return===n)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Mn(s,n),ar(n),h&4&&ag(n);break;case 21:break;default:Mn(s,n),ar(n)}}function ar(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(ig(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(Hi(d,""),h.flags&=-33);var p=sg(n);ed(n,p,d);break;case 3:case 4:var E=h.stateNode.containerInfo,C=sg(n);Zh(n,C,E);break;default:throw Error(t(161))}}catch(b){ht(n,n.return,b)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function a1(n,s,a){he=n,ug(n)}function ug(n,s,a){for(var h=(n.mode&1)!==0;he!==null;){var d=he,p=d.child;if(d.tag===22&&h){var E=d.memoizedState!==null||wu;if(!E){var C=d.alternate,b=C!==null&&C.memoizedState!==null||Wt;C=wu;var $=Wt;if(wu=E,(Wt=b)&&!$)for(he=d;he!==null;)E=he,b=E.child,E.tag===22&&E.memoizedState!==null?dg(d):b!==null?(b.return=E,he=b):dg(d);for(;p!==null;)he=p,ug(p),p=p.sibling;he=d,wu=C,Wt=$}cg(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,he=p):cg(n)}}function cg(n){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Wt||Eu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Wt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Vn(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&hm(s,p,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}hm(s,E,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var b=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&a.focus();break;case"img":b.src&&(a.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var ee=$.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&si(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||s.flags&512&&Xh(s)}catch(Z){ht(s,s.return,Z)}}if(s===n){he=null;break}if(a=s.sibling,a!==null){a.return=s.return,he=a;break}he=s.return}}function hg(n){for(;he!==null;){var s=he;if(s===n){he=null;break}var a=s.sibling;if(a!==null){a.return=s.return,he=a;break}he=s.return}}function dg(n){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Eu(4,s)}catch(b){ht(s,a,b)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(b){ht(s,d,b)}}var p=s.return;try{Xh(s)}catch(b){ht(s,p,b)}break;case 5:var E=s.return;try{Xh(s)}catch(b){ht(s,E,b)}}}catch(b){ht(s,s.return,b)}if(s===n){he=null;break}var C=s.sibling;if(C!==null){C.return=s.return,he=C;break}he=s.return}}var l1=Math.ceil,Tu=se.ReactCurrentDispatcher,td=se.ReactCurrentOwner,Tn=se.ReactCurrentBatchConfig,Be=0,Rt=null,vt=null,Ot=0,pn=0,go=ci(0),St=0,Oa=null,ds=0,Su=0,nd=0,Va=null,en=null,rd=0,yo=1/0,Lr=null,Iu=!1,id=null,gi=null,xu=!1,yi=null,ku=0,ja=0,sd=null,Cu=-1,Ru=0;function Yt(){return(Be&6)!==0?Xe():Cu!==-1?Cu:Cu=Xe()}function vi(n){return(n.mode&1)===0?1:(Be&2)!==0&&Ot!==0?Ot&-Ot:Hw.transition!==null?(Ru===0&&(Ru=ia()),Ru):(n=Ue,n!==0||(n=window.event,n=n===void 0?16:Hs(n.type)),n)}function Fn(n,s,a,h){if(50<ja)throw ja=0,sd=null,Error(t(185));es(n,a,h),((Be&2)===0||n!==Rt)&&(n===Rt&&((Be&2)===0&&(Su|=a),St===4&&_i(n,Ot)),tn(n,h),a===1&&Be===0&&(s.mode&1)===0&&(yo=Xe()+500,nu&&di()))}function tn(n,s){var a=n.callbackNode;Zi(n,s);var h=Er(n,n===Rt?Ot:0);if(h===0)a!==null&&Ms(a),n.callbackNode=null,n.callbackPriority=0;else if(s=h&-h,n.callbackPriority!==s){if(a!=null&&Ms(a),s===1)n.tag===0?Ww(pg.bind(null,n)):Zp(pg.bind(null,n)),Uw(function(){(Be&6)===0&&di()}),a=null;else{switch(Gn(h)){case 1:a=Fs;break;case 4:a=ta;break;case 16:a=Qi;break;case 536870912:a=Us;break;default:a=Qi}a=Tg(a,fg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function fg(n,s){if(Cu=-1,Ru=0,(Be&6)!==0)throw Error(t(327));var a=n.callbackNode;if(vo()&&n.callbackNode!==a)return null;var h=Er(n,n===Rt?Ot:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||s)s=Au(n,h);else{s=h;var d=Be;Be|=2;var p=gg();(Rt!==n||Ot!==s)&&(Lr=null,yo=Xe()+500,ps(n,s));do try{h1();break}catch(C){mg(n,C)}while(!0);Sh(),Tu.current=p,Be=d,vt!==null?s=0:(Rt=null,Ot=0,s=St)}if(s!==0){if(s===2&&(d=ra(n),d!==0&&(h=d,s=od(n,d))),s===1)throw a=Oa,ps(n,0),_i(n,h),tn(n,Xe()),a;if(s===6)_i(n,h);else{if(d=n.current.alternate,(h&30)===0&&!u1(d)&&(s=Au(n,h),s===2&&(p=ra(n),p!==0&&(h=p,s=od(n,p))),s===1))throw a=Oa,ps(n,0),_i(n,h),tn(n,Xe()),a;switch(n.finishedWork=d,n.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ms(n,en,Lr);break;case 3:if(_i(n,h),(h&130023424)===h&&(s=rd+500-Xe(),10<s)){if(Er(n,0)!==0)break;if(d=n.suspendedLanes,(d&h)!==h){Yt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=dh(ms.bind(null,n,en,Lr),s);break}ms(n,en,Lr);break;case 4:if(_i(n,h),(h&4194240)===h)break;for(s=n.eventTimes,d=-1;0<h;){var E=31-an(h);p=1<<E,E=s[E],E>d&&(d=E),h&=~p}if(h=d,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*l1(h/1960))-h,10<h){n.timeoutHandle=dh(ms.bind(null,n,en,Lr),h);break}ms(n,en,Lr);break;case 5:ms(n,en,Lr);break;default:throw Error(t(329))}}}return tn(n,Xe()),n.callbackNode===a?fg.bind(null,n):null}function od(n,s){var a=Va;return n.current.memoizedState.isDehydrated&&(ps(n,s).flags|=256),n=Au(n,s),n!==2&&(s=en,en=a,s!==null&&ad(s)),n}function ad(n){en===null?en=n:en.push.apply(en,n)}function u1(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],p=d.getSnapshot;d=d.value;try{if(!Ln(p(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(n,s){for(s&=~nd,s&=~Su,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-an(s),h=1<<a;n[a]=-1,s&=~h}}function pg(n){if((Be&6)!==0)throw Error(t(327));vo();var s=Er(n,0);if((s&1)===0)return tn(n,Xe()),null;var a=Au(n,s);if(n.tag!==0&&a===2){var h=ra(n);h!==0&&(s=h,a=od(n,h))}if(a===1)throw a=Oa,ps(n,0),_i(n,s),tn(n,Xe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,ms(n,en,Lr),tn(n,Xe()),null}function ld(n,s){var a=Be;Be|=1;try{return n(s)}finally{Be=a,Be===0&&(yo=Xe()+500,nu&&di())}}function fs(n){yi!==null&&yi.tag===0&&(Be&6)===0&&vo();var s=Be;Be|=1;var a=Tn.transition,h=Ue;try{if(Tn.transition=null,Ue=1,n)return n()}finally{Ue=h,Tn.transition=a,Be=s,(Be&6)===0&&di()}}function ud(){pn=go.current,et(go)}function ps(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Fw(a)),vt!==null)for(a=vt.return;a!==null;){var h=a;switch(vh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&eu();break;case 3:fo(),et(Jt),et(zt),Dh();break;case 5:Ah(h);break;case 4:fo();break;case 13:et(ot);break;case 19:et(ot);break;case 10:Ih(h.type._context);break;case 22:case 23:ud()}a=a.return}if(Rt=n,vt=n=wi(n.current,null),Ot=pn=s,St=0,Oa=null,nd=Su=ds=0,en=Va=null,us!==null){for(s=0;s<us.length;s++)if(a=us[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,p=a.pending;if(p!==null){var E=p.next;p.next=d,h.next=E}a.pending=h}us=null}return n}function mg(n,s){do{var a=vt;try{if(Sh(),du.current=gu,fu){for(var h=at.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}fu=!1}if(hs=0,Ct=Tt=at=null,Aa=!1,Pa=0,td.current=null,a===null||a.return===null){St=1,Oa=s,vt=null;break}e:{var p=n,E=a.return,C=a,b=s;if(s=Ot,C.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var $=b,ee=C,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=Um(E);if(ue!==null){ue.flags&=-257,zm(ue,E,C,p,s),ue.mode&1&&Fm(p,$,s),s=ue,b=$;var fe=s.updateQueue;if(fe===null){var pe=new Set;pe.add(b),s.updateQueue=pe}else fe.add(b);break e}else{if((s&1)===0){Fm(p,$,s),cd();break e}b=Error(t(426))}}else if(st&&C.mode&1){var pt=Um(E);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),zm(pt,E,C,p,s),Eh(po(b,C));break e}}p=b=po(b,C),St!==4&&(St=2),Va===null?Va=[p]:Va.push(p),p=E;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var F=jm(p,b,s);cm(p,F);break e;case 1:C=b;var V=p.type,B=p.stateNode;if((p.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(gi===null||!gi.has(B)))){p.flags|=65536,s&=-s,p.lanes|=s;var ne=Mm(p,C,s);cm(p,ne);break e}}p=p.return}while(p!==null)}vg(a)}catch(ye){s=ye,vt===a&&a!==null&&(vt=a=a.return);continue}break}while(!0)}function gg(){var n=Tu.current;return Tu.current=gu,n===null?gu:n}function cd(){(St===0||St===3||St===2)&&(St=4),Rt===null||(ds&268435455)===0&&(Su&268435455)===0||_i(Rt,Ot)}function Au(n,s){var a=Be;Be|=2;var h=gg();(Rt!==n||Ot!==s)&&(Lr=null,ps(n,s));do try{c1();break}catch(d){mg(n,d)}while(!0);if(Sh(),Be=a,Tu.current=h,vt!==null)throw Error(t(261));return Rt=null,Ot=0,St}function c1(){for(;vt!==null;)yg(vt)}function h1(){for(;vt!==null&&!Gi();)yg(vt)}function yg(n){var s=Eg(n.alternate,n,pn);n.memoizedProps=n.pendingProps,s===null?vg(n):vt=s,td.current=null}function vg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=r1(a,s,pn),a!==null){vt=a;return}}else{if(a=i1(a,s),a!==null){a.flags&=32767,vt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{St=6,vt=null;return}}if(s=s.sibling,s!==null){vt=s;return}vt=s=n}while(s!==null);St===0&&(St=5)}function ms(n,s,a){var h=Ue,d=Tn.transition;try{Tn.transition=null,Ue=1,d1(n,s,a,h)}finally{Tn.transition=d,Ue=h}return null}function d1(n,s,a,h){do vo();while(yi!==null);if((Be&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(Yc(n,p),n===Rt&&(vt=Rt=null,Ot=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||xu||(xu=!0,Tg(Qi,function(){return vo(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Tn.transition,Tn.transition=null;var E=Ue;Ue=1;var C=Be;Be|=4,td.current=null,o1(n,a),lg(a,n),Nw(ch),Ir=!!uh,ch=uh=null,n.current=a,a1(a),wr(),Be=C,Ue=E,Tn.transition=p}else n.current=a;if(xu&&(xu=!1,yi=n,ku=d),p=n.pendingLanes,p===0&&(gi=null),Vl(a.stateNode),tn(n,Xe()),s!==null)for(h=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Iu)throw Iu=!1,n=id,id=null,n;return(ku&1)!==0&&n.tag!==0&&vo(),p=n.pendingLanes,(p&1)!==0?n===sd?ja++:(ja=0,sd=n):ja=0,di(),null}function vo(){if(yi!==null){var n=Gn(ku),s=Tn.transition,a=Ue;try{if(Tn.transition=null,Ue=16>n?16:n,yi===null)var h=!1;else{if(n=yi,yi=null,ku=0,(Be&6)!==0)throw Error(t(331));var d=Be;for(Be|=4,he=n.current;he!==null;){var p=he,E=p.child;if((he.flags&16)!==0){var C=p.deletions;if(C!==null){for(var b=0;b<C.length;b++){var $=C[b];for(he=$;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:La(8,ee,p)}var te=ee.child;if(te!==null)te.return=ee,he=te;else for(;he!==null;){ee=he;var Z=ee.sibling,ue=ee.return;if(rg(ee),ee===$){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var fe=p.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var pt=pe.sibling;pe.sibling=null,pe=pt}while(pe!==null)}}he=p}}if((p.subtreeFlags&2064)!==0&&E!==null)E.return=p,he=E;else e:for(;he!==null;){if(p=he,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:La(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,he=F;break e}he=p.return}}var V=n.current;for(he=V;he!==null;){E=he;var B=E.child;if((E.subtreeFlags&2064)!==0&&B!==null)B.return=E,he=B;else e:for(E=V;he!==null;){if(C=he,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Eu(9,C)}}catch(ye){ht(C,C.return,ye)}if(C===E){he=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,he=ne;break e}he=C.return}}if(Be=d,di(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Yi,n)}catch{}h=!0}return h}finally{Ue=a,Tn.transition=s}}return!1}function _g(n,s,a){s=po(a,s),s=jm(n,s,1),n=pi(n,s,1),s=Yt(),n!==null&&(es(n,1,s),tn(n,s))}function ht(n,s,a){if(n.tag===3)_g(n,n,a);else for(;s!==null;){if(s.tag===3){_g(s,n,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gi===null||!gi.has(h))){n=po(a,n),n=Mm(s,n,1),s=pi(s,n,1),n=Yt(),s!==null&&(es(s,1,n),tn(s,n));break}}s=s.return}}function f1(n,s,a){var h=n.pingCache;h!==null&&h.delete(s),s=Yt(),n.pingedLanes|=n.suspendedLanes&a,Rt===n&&(Ot&a)===a&&(St===4||St===3&&(Ot&130023424)===Ot&&500>Xe()-rd?ps(n,0):nd|=a),tn(n,s)}function wg(n,s){s===0&&((n.mode&1)===0?s=1:(s=ni,ni<<=1,(ni&130023424)===0&&(ni=4194304)));var a=Yt();n=Dr(n,s),n!==null&&(es(n,s,a),tn(n,a))}function p1(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),wg(n,a)}function m1(n,s){var a=0;switch(n.tag){case 13:var h=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),wg(n,a)}var Eg;Eg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Jt.current)Zt=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Zt=!1,n1(n,s,a);Zt=(n.flags&131072)!==0}else Zt=!1,st&&(s.flags&1048576)!==0&&em(s,iu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;_u(n,s),n=s.pendingProps;var d=so(s,zt.current);ho(s,a),d=Lh(null,s,h,n,d,a);var p=Oh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xt(h)?(p=!0,tu(s)):p=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ch(s),d.updater=yu,s.stateNode=d,d._reactInternals=s,zh(s,h,n,a),s=Hh(null,s,h,!0,p,a)):(s.tag=0,st&&p&&yh(s),Qt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(_u(n,s),n=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=y1(h),n=Vn(h,n),d){case 0:s=Wh(null,s,h,n,a);break e;case 1:s=Km(null,s,h,n,a);break e;case 11:s=Bm(null,s,h,n,a);break e;case 14:s=$m(null,s,h,Vn(h.type,n),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Vn(h,d),Wh(n,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Vn(h,d),Km(n,s,h,d,a);case 3:e:{if(Gm(s),n===null)throw Error(t(387));h=s.pendingProps,p=s.memoizedState,d=p.element,um(n,s),cu(s,h,null,a);var E=s.memoizedState;if(h=E.element,p.isDehydrated)if(p={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){d=po(Error(t(423)),s),s=Qm(n,s,h,a,d);break e}else if(h!==d){d=po(Error(t(424)),s),s=Qm(n,s,h,a,d);break e}else for(fn=ui(s.stateNode.containerInfo.firstChild),dn=s,st=!0,On=null,a=am(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(lo(),h===d){s=br(n,s,a);break e}Qt(n,s,h,a)}s=s.child}return s;case 5:return dm(s),n===null&&wh(s),h=s.type,d=s.pendingProps,p=n!==null?n.memoizedProps:null,E=d.children,hh(h,d)?E=null:p!==null&&hh(h,p)&&(s.flags|=32),qm(n,s),Qt(n,s,E,a),s.child;case 6:return n===null&&wh(s),null;case 13:return Ym(n,s,a);case 4:return Rh(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=uo(s,null,h,a):Qt(n,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Vn(h,d),Bm(n,s,h,d,a);case 7:return Qt(n,s,s.pendingProps,a),s.child;case 8:return Qt(n,s,s.pendingProps.children,a),s.child;case 12:return Qt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,p=s.memoizedProps,E=d.value,Je(au,h._currentValue),h._currentValue=E,p!==null)if(Ln(p.value,E)){if(p.children===d.children&&!Jt.current){s=br(n,s,a);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var C=p.dependencies;if(C!==null){E=p.child;for(var b=C.firstContext;b!==null;){if(b.context===h){if(p.tag===1){b=Nr(-1,a&-a),b.tag=2;var $=p.updateQueue;if($!==null){$=$.shared;var ee=$.pending;ee===null?b.next=b:(b.next=ee.next,ee.next=b),$.pending=b}}p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),xh(p.return,a,s),C.lanes|=a;break}b=b.next}}else if(p.tag===10)E=p.type===s.type?null:p.child;else if(p.tag===18){if(E=p.return,E===null)throw Error(t(341));E.lanes|=a,C=E.alternate,C!==null&&(C.lanes|=a),xh(E,a,s),E=p.sibling}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===s){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}Qt(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,ho(s,a),d=wn(d),h=h(d),s.flags|=1,Qt(n,s,h,a),s.child;case 14:return h=s.type,d=Vn(h,s.pendingProps),d=Vn(h.type,d),$m(n,s,h,d,a);case 15:return Wm(n,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Vn(h,d),_u(n,s),s.tag=1,Xt(h)?(n=!0,tu(s)):n=!1,ho(s,a),Om(s,h,d),zh(s,h,d,a),Hh(null,s,h,!0,n,a);case 19:return Xm(n,s,a);case 22:return Hm(n,s,a)}throw Error(t(156,s.tag))};function Tg(n,s){return ea(n,s)}function g1(n,s,a,h){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,s,a,h){return new g1(n,s,a,h)}function hd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function y1(n){if(typeof n=="function")return hd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===Le)return 14}return 2}function wi(n,s){var a=n.alternate;return a===null?(a=Sn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Pu(n,s,a,h,d,p){var E=2;if(h=n,typeof n=="function")hd(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case P:return gs(a.children,d,p,s);case S:E=8,d|=8;break;case k:return n=Sn(12,a,s,d|2),n.elementType=k,n.lanes=p,n;case R:return n=Sn(13,a,s,d),n.elementType=R,n.lanes=p,n;case Ie:return n=Sn(19,a,s,d),n.elementType=Ie,n.lanes=p,n;case Ke:return Du(a,d,p,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:E=10;break e;case N:E=9;break e;case M:E=11;break e;case Le:E=14;break e;case rt:E=16,h=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Sn(E,a,s,d),s.elementType=n,s.type=h,s.lanes=p,s}function gs(n,s,a,h){return n=Sn(7,n,h,s),n.lanes=a,n}function Du(n,s,a,h){return n=Sn(22,n,h,s),n.elementType=Ke,n.lanes=a,n.stateNode={isHidden:!1},n}function dd(n,s,a){return n=Sn(6,n,null,s),n.lanes=a,n}function fd(n,s,a){return s=Sn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function v1(n,s,a,h,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function pd(n,s,a,h,d,p,E,C,b){return n=new v1(n,s,a,C,b),s===1?(s=1,p===!0&&(s|=8)):s=0,p=Sn(3,null,null,s),n.current=p,p.stateNode=n,p.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(p),n}function _1(n,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:h==null?null:""+h,children:n,containerInfo:s,implementation:a}}function Sg(n){if(!n)return hi;n=n._reactInternals;e:{if(Nn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Xt(a))return Jp(n,a,s)}return s}function Ig(n,s,a,h,d,p,E,C,b){return n=pd(a,h,!0,n,d,p,E,C,b),n.context=Sg(null),a=n.current,h=Yt(),d=vi(a),p=Nr(h,d),p.callback=s??null,pi(a,p,d),n.current.lanes=d,es(n,d,h),tn(n,h),n}function Nu(n,s,a,h){var d=s.current,p=Yt(),E=vi(d);return a=Sg(a),s.context===null?s.context=a:s.pendingContext=a,s=Nr(p,E),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=pi(d,s,E),n!==null&&(Fn(n,d,E,p),uu(n,d,E)),E}function bu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function xg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function md(n,s){xg(n,s),(n=n.alternate)&&xg(n,s)}function w1(){return null}var kg=typeof reportError=="function"?reportError:function(n){console.error(n)};function gd(n){this._internalRoot=n}Lu.prototype.render=gd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Nu(n,s,null,null)},Lu.prototype.unmount=gd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;fs(function(){Nu(null,n,null,null)}),s[Cr]=null}};function Lu(n){this._internalRoot=n}Lu.prototype.unstable_scheduleHydration=function(n){if(n){var s=ua();n={blockedOn:null,target:n,priority:s};for(var a=0;a<ln.length&&s!==0&&s<ln[a].priority;a++);ln.splice(a,0,n),a===0&&$s(n)}};function yd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ou(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function E1(n,s,a,h,d){if(d){if(typeof h=="function"){var p=h;h=function(){var $=bu(E);p.call($)}}var E=Ig(s,h,n,0,null,!1,!1,"",Cg);return n._reactRootContainer=E,n[Cr]=E.current,Ea(n.nodeType===8?n.parentNode:n),fs(),E}for(;d=n.lastChild;)n.removeChild(d);if(typeof h=="function"){var C=h;h=function(){var $=bu(b);C.call($)}}var b=pd(n,0,!1,null,null,!1,!1,"",Cg);return n._reactRootContainer=b,n[Cr]=b.current,Ea(n.nodeType===8?n.parentNode:n),fs(function(){Nu(s,b,a,h)}),b}function Vu(n,s,a,h,d){var p=a._reactRootContainer;if(p){var E=p;if(typeof d=="function"){var C=d;d=function(){var b=bu(E);C.call(b)}}Nu(s,E,n,d)}else E=E1(a,s,n,d,h);return bu(E)}aa=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=He(s.pendingLanes);a!==0&&(oa(s,a|1),tn(s,Xe()),(Be&6)===0&&(yo=Xe()+500,di()))}break;case 13:fs(function(){var h=Dr(n,1);if(h!==null){var d=Yt();Fn(h,n,1,d)}}),md(n,1)}},zs=function(n){if(n.tag===13){var s=Dr(n,134217728);if(s!==null){var a=Yt();Fn(s,n,134217728,a)}md(n,134217728)}},la=function(n){if(n.tag===13){var s=vi(n),a=Dr(n,s);if(a!==null){var h=Yt();Fn(a,n,s,h)}md(n,s)}},ua=function(){return Ue},ca=function(n,s){var a=Ue;try{return Ue=n,s()}finally{Ue=a}},yr=function(n,s,a){switch(s){case"input":if(Wi(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==n&&h.form===n.form){var d=Zl(h);if(!d)throw Error(t(90));$i(h),Wi(h,d)}}}break;case"textarea":Il(n,a);break;case"select":s=a.value,s!=null&&Pn(n,!!a.multiple,s,!1)}},Cl=ld,Rl=fs;var T1={usingClientEntryPoint:!1,Events:[Ia,ro,Zl,Xr,Zr,ld]},Ma={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S1={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ol(n),n===null?null:n.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||w1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Yi=ju.inject(S1),on=ju}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T1,nn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yd(s))throw Error(t(200));return _1(n,s,null,a)},nn.createRoot=function(n,s){if(!yd(n))throw Error(t(299));var a=!1,h="",d=kg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=pd(n,1,!1,null,null,a,!1,h,d),n[Cr]=s.current,Ea(n.nodeType===8?n.parentNode:n),new gd(s)},nn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Ol(s),n=n===null?null:n.stateNode,n},nn.flushSync=function(n){return fs(n)},nn.hydrate=function(n,s,a){if(!Ou(s))throw Error(t(200));return Vu(null,n,s,!0,a)},nn.hydrateRoot=function(n,s,a){if(!yd(n))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,p="",E=kg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Ig(s,null,n,1,a??null,d,!1,p,E),n[Cr]=s.current,Ea(n),h)for(n=0;n<h.length;n++)a=h[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Lu(s)},nn.render=function(n,s,a){if(!Ou(s))throw Error(t(200));return Vu(null,n,s,!1,a)},nn.unmountComponentAtNode=function(n){if(!Ou(n))throw Error(t(40));return n._reactRootContainer?(fs(function(){Vu(null,null,n,!1,function(){n._reactRootContainer=null,n[Cr]=null})}),!0):!1},nn.unstable_batchedUpdates=ld,nn.unstable_renderSubtreeIntoContainer=function(n,s,a,h){if(!Ou(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Vu(n,s,a,!1,h)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Og;function D1(){if(Og)return wd.exports;Og=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wd.exports=P1(),wd.exports}var Vg;function N1(){if(Vg)return Mu;Vg=1;var r=D1();return Mu.createRoot=r.createRoot,Mu.hydrateRoot=r.hydrateRoot,Mu}var b1=N1();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jg="popstate";function L1(r={}){function e(o,l){let{pathname:c="/",search:f="",hash:y=""}=Rs(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Fd("",{pathname:c,search:f,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let y=o.location.href,v=y.indexOf("#");f=v===-1?y:y.slice(0,v)}return f+"#"+(typeof l=="string"?l:el(l))}function i(o,l){Cn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return V1(e,t,i,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Cn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O1(){return Math.random().toString(36).substring(2,10)}function Mg(r,e){return{usr:r.state,key:r.key,idx:e}}function Fd(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Rs(e):e,state:t,key:e&&e.key||i||O1()}}function el({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Rs(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function V1(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,f="POP",y=null,v=w();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function w(){return(c.state||{idx:null}).idx}function T(){f="POP";let j=w(),G=j==null?null:j-v;v=j,y&&y({action:f,location:z.location,delta:G})}function I(j,G){f="PUSH";let X=Fd(z.location,j,G);t&&t(X,j),v=w()+1;let Q=Mg(X,v),se=z.createHref(X);try{c.pushState(Q,"",se)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(se)}l&&y&&y({action:f,location:z.location,delta:1})}function A(j,G){f="REPLACE";let X=Fd(z.location,j,G);t&&t(X,j),v=w();let Q=Mg(X,v),se=z.createHref(X);c.replaceState(Q,"",se),l&&y&&y({action:f,location:z.location,delta:0})}function W(j){return j1(j)}let z={get action(){return f},get location(){return r(o,c)},listen(j){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(jg,T),y=j,()=>{o.removeEventListener(jg,T),y=null}},createHref(j){return e(o,j)},createURL:W,encodeLocation(j){let G=W(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:I,replace:A,go(j){return c.go(j)}};return z}function j1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:el(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function pv(r,e,t="/"){return M1(r,e,t,!1)}function M1(r,e,t,i){let o=typeof e=="string"?Rs(e):e,l=Fr(o.pathname||"/",t);if(l==null)return null;let c=mv(r);F1(c);let f=null;for(let y=0;f==null&&y<c.length;++y){let v=Y1(l);f=G1(c[y],v,i)}return f}function mv(r,e=[],t=[],i="",o=!1){let l=(c,f,y=o,v)=>{let w={relativePath:v===void 0?c.path||"":v,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(i)&&y)return;lt(w.relativePath.startsWith(i),`Absolute route path "${w.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(i.length)}let T=Mr([i,w.relativePath]),I=t.concat(w);c.children&&c.children.length>0&&(lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),mv(c.children,e,I,T,y)),!(c.path==null&&!c.index)&&e.push({path:T,score:q1(T,c.index),routesMeta:I})};return r.forEach((c,f)=>{var y;if(c.path===""||!((y=c.path)!=null&&y.includes("?")))l(c,f);else for(let v of gv(c.path))l(c,f,!0,v)}),e}function gv(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=gv(i.join("/")),f=[];return f.push(...c.map(y=>y===""?l:[l,y].join("/"))),o&&f.push(...c),f.map(y=>r.startsWith("/")&&y===""?"/":y)}function F1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:K1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var U1=/^:[\w-]+$/,z1=3,B1=2,$1=1,W1=10,H1=-2,Fg=r=>r==="*";function q1(r,e){let t=r.split("/"),i=t.length;return t.some(Fg)&&(i+=H1),e&&(i+=B1),t.filter(o=>!Fg(o)).reduce((o,l)=>o+(U1.test(l)?z1:l===""?$1:W1),i)}function K1(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function G1(r,e,t=!1){let{routesMeta:i}=r,o={},l="/",c=[];for(let f=0;f<i.length;++f){let y=i[f],v=f===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=ic({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},w),I=y.route;if(!T&&v&&t&&!i[i.length-1].route.index&&(T=ic({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Mr([l,T.pathname]),pathnameBase:eE(Mr([l,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(l=Mr([l,T.pathnameBase]))}return c}function ic(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=Q1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((v,{paramName:w,isOptional:T},I)=>{if(w==="*"){let W=f[I]||"";c=l.slice(0,l.length-W.length).replace(/(.)\/+$/,"$1")}const A=f[I];return T&&!A?v[w]=void 0:v[w]=(A||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:c,pattern:r}}function Q1(r,e=!1,t=!0){Cn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,y)=>(i.push({paramName:f,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Y1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J1=r=>yv.test(r);function X1(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Rs(r):r,l;if(t)if(J1(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Cn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=Ug(t.substring(1),"/"):l=Ug(t,e)}else l=e;return{pathname:l,search:tE(i),hash:nE(o)}}function Ug(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sd(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vv(r){let e=Z1(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function _v(r,e,t,i=!1){let o;typeof r=="string"?o=Rs(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Sd("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Sd("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Sd("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}f=T>=0?e[T]:"/"}let y=X1(o,f),v=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(v||w)&&(y.pathname+="/"),y}var Mr=r=>r.join("/").replace(/\/\/+/g,"/"),eE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nE=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,rE=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function iE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function sE(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ev(r,e){let t=r;if(typeof t!="string"||!yv.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,o=!1;if(wv)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),f=Fr(c.pathname,e);c.origin===l.origin&&f!=null?t=f+c.search+c.hash:o=!0}catch{Cn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tv=["POST","PUT","PATCH","DELETE"];new Set(Tv);var oE=["GET",...Tv];new Set(oE);var jo=O.createContext(null);jo.displayName="DataRouter";var kc=O.createContext(null);kc.displayName="DataRouterState";var aE=O.createContext(!1),Sv=O.createContext({isTransitioning:!1});Sv.displayName="ViewTransition";var lE=O.createContext(new Map);lE.displayName="Fetchers";var uE=O.createContext(null);uE.displayName="Await";var Rn=O.createContext(null);Rn.displayName="Navigation";var cl=O.createContext(null);cl.displayName="Location";var gr=O.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var gf=O.createContext(null);gf.displayName="RouteError";var Iv="REACT_ROUTER_ERROR",cE="REDIRECT",hE="ROUTE_ERROR_RESPONSE";function dE(r){if(r.startsWith(`${Iv}:${cE}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fE(r){if(r.startsWith(`${Iv}:${hE}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new rE(e.status,e.statusText,e.data)}catch{}}function pE(r,{relative:e}={}){lt(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=O.useContext(Rn),{hash:o,pathname:l,search:c}=dl(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Mr([t,l])),i.createHref({pathname:f,search:c,hash:o})}function hl(){return O.useContext(cl)!=null}function Ui(){return lt(hl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(cl).location}var xv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kv(r){O.useContext(Rn).static||O.useLayoutEffect(r)}function An(){let{isDataRoute:r}=O.useContext(gr);return r?RE():mE()}function mE(){lt(hl(),"useNavigate() may be used only in the context of a <Router> component.");let r=O.useContext(jo),{basename:e,navigator:t}=O.useContext(Rn),{matches:i}=O.useContext(gr),{pathname:o}=Ui(),l=JSON.stringify(vv(i)),c=O.useRef(!1);return kv(()=>{c.current=!0}),O.useCallback((y,v={})=>{if(Cn(c.current,xv),!c.current)return;if(typeof y=="number"){t.go(y);return}let w=_v(y,JSON.parse(l),o,v.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Mr([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,l,o,r])}O.createContext(null);function gE(){let{matches:r}=O.useContext(gr),e=r[r.length-1];return e?e.params:{}}function dl(r,{relative:e}={}){let{matches:t}=O.useContext(gr),{pathname:i}=Ui(),o=JSON.stringify(vv(t));return O.useMemo(()=>_v(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function yE(r,e){return Cv(r,e)}function Cv(r,e,t,i,o){var X;lt(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Rn),{matches:c}=O.useContext(gr),f=c[c.length-1],y=f?f.params:{},v=f?f.pathname:"/",w=f?f.pathnameBase:"/",T=f&&f.route;{let Q=T&&T.path||"";Av(v,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let I=Ui(),A;if(e){let Q=typeof e=="string"?Rs(e):e;lt(w==="/"||((X=Q.pathname)==null?void 0:X.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),A=Q}else A=I;let W=A.pathname||"/",z=W;if(w!=="/"){let Q=w.replace(/^\//,"").split("/");z="/"+W.replace(/^\//,"").split("/").slice(Q.length).join("/")}let j=pv(r,{pathname:z});Cn(T||j!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Cn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=TE(j&&j.map(Q=>Object.assign({},Q,{params:Object.assign({},y,Q.params),pathname:Mr([w,l.encodeLocation?l.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?w:Mr([w,l.encodeLocation?l.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),c,t,i,o);return e&&G?O.createElement(cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},G):G}function vE(){let r=CE(),e=iE(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:o},t):null,c)}var _E=O.createElement(vE,null),Rv=class extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=fE(r.digest);t&&(r=t)}let e=r!==void 0?O.createElement(gr.Provider,{value:this.props.routeContext},O.createElement(gf.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?O.createElement(wE,{error:r},e):e}};Rv.contextType=aE;var Id=new WeakMap;function wE({children:r,error:e}){let{basename:t}=O.useContext(Rn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=dE(e.digest);if(i){let o=Id.get(e);if(o)throw o;let l=Ev(i.location,t);if(wv&&!Id.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Id.set(e,c),c}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function EE({routeContext:r,match:e,children:t}){let i=O.useContext(jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(gr.Provider,{value:r},t)}function TE(r,e=[],t=null,i=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t==null?void 0:t.errors;if(c!=null){let w=l.findIndex(T=>T.route.id&&(c==null?void 0:c[T.route.id])!==void 0);lt(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,w+1))}let f=!1,y=-1;if(t)for(let w=0;w<l.length;w++){let T=l[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=w),T.route.id){let{loaderData:I,errors:A}=t,W=T.route.loader&&!I.hasOwnProperty(T.route.id)&&(!A||A[T.route.id]===void 0);if(T.route.lazy||W){f=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}let v=t&&i?(w,T)=>{var I,A;i(w,{location:t.location,params:((A=(I=t.matches)==null?void 0:I[0])==null?void 0:A.params)??{},unstable_pattern:sE(t.matches),errorInfo:T})}:void 0;return l.reduceRight((w,T,I)=>{let A,W=!1,z=null,j=null;t&&(A=c&&T.route.id?c[T.route.id]:void 0,z=T.route.errorElement||_E,f&&(y<0&&I===0?(Av("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,j=null):y===I&&(W=!0,j=T.route.hydrateFallbackElement||null)));let G=e.concat(l.slice(0,I+1)),X=()=>{let Q;return A?Q=z:W?Q=j:T.route.Component?Q=O.createElement(T.route.Component,null):T.route.element?Q=T.route.element:Q=w,O.createElement(EE,{match:T,routeContext:{outlet:w,matches:G,isDataRoute:t!=null},children:Q})};return t&&(T.route.ErrorBoundary||T.route.errorElement||I===0)?O.createElement(Rv,{location:t.location,revalidation:t.revalidation,component:z,error:A,children:X(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:v}):X()},null)}function yf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SE(r){let e=O.useContext(jo);return lt(e,yf(r)),e}function IE(r){let e=O.useContext(kc);return lt(e,yf(r)),e}function xE(r){let e=O.useContext(gr);return lt(e,yf(r)),e}function vf(r){let e=xE(r),t=e.matches[e.matches.length-1];return lt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function kE(){return vf("useRouteId")}function CE(){var i;let r=O.useContext(gf),e=IE("useRouteError"),t=vf("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function RE(){let{router:r}=SE("useNavigate"),e=vf("useNavigate"),t=O.useRef(!1);return kv(()=>{t.current=!0}),O.useCallback(async(o,l={})=>{Cn(t.current,xv),t.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var zg={};function Av(r,e,t){!e&&!zg[r]&&(zg[r]=!0,Cn(!1,t))}O.memo(AE);function AE({routes:r,future:e,state:t,onError:i}){return Cv(r,void 0,t,i,e)}function In(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PE({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){lt(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),y=O.useMemo(()=>({basename:f,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[f,o,l,c]);typeof t=="string"&&(t=Rs(t));let{pathname:v="/",search:w="",hash:T="",state:I=null,key:A="default"}=t,W=O.useMemo(()=>{let z=Fr(v,f);return z==null?null:{location:{pathname:z,search:w,hash:T,state:I,key:A},navigationType:i}},[f,v,w,T,I,A,i]);return Cn(W!=null,`<Router basename="${f}"> is not able to match the URL "${v}${w}${T}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:O.createElement(Rn.Provider,{value:y},O.createElement(cl.Provider,{children:e,value:W}))}function DE({children:r,location:e}){return yE(Ud(r),e)}function Ud(r,e=[]){let t=[];return O.Children.forEach(r,(i,o)=>{if(!O.isValidElement(i))return;let l=[...e,o];if(i.type===O.Fragment){t.push.apply(t,Ud(i.props.children,l));return}lt(i.type===In,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ud(i.props.children,l)),t.push(c)}),t}var qu="get",Ku="application/x-www-form-urlencoded";function Cc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function NE(r){return Cc(r)&&r.tagName.toLowerCase()==="button"}function bE(r){return Cc(r)&&r.tagName.toLowerCase()==="form"}function LE(r){return Cc(r)&&r.tagName.toLowerCase()==="input"}function OE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function VE(r,e){return r.button===0&&(!e||e==="_self")&&!OE(r)}var Fu=null;function jE(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var ME=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xd(r){return r!=null&&!ME.has(r)?(Cn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ku}"`),null):r}function FE(r,e){let t,i,o,l,c;if(bE(r)){let f=r.getAttribute("action");i=f?Fr(f,e):null,t=r.getAttribute("method")||qu,o=xd(r.getAttribute("enctype"))||Ku,l=new FormData(r)}else if(NE(r)||LE(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||f.getAttribute("action");if(i=y?Fr(y,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||qu,o=xd(r.getAttribute("formenctype"))||xd(f.getAttribute("enctype"))||Ku,l=new FormData(f,r),!jE()){let{name:v,type:w,value:T}=r;if(w==="image"){let I=v?`${v}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else v&&l.append(v,T)}}else{if(Cc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qu,i=null,o=Ku,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _f(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function UE(r,e,t,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&Fr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function zE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $E(r,e,t){let i=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await zE(l,t);return c.links?c.links():[]}return[]}));return KE(i.flat(1).filter(BE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bg(r,e,t,i,o,l){let c=(y,v)=>t[v]?y.route.id!==t[v].route.id:!0,f=(y,v)=>{var w;return t[v].pathname!==y.pathname||((w=t[v].route.path)==null?void 0:w.endsWith("*"))&&t[v].params["*"]!==y.params["*"]};return l==="assets"?e.filter((y,v)=>c(y,v)||f(y,v)):l==="data"?e.filter((y,v)=>{var T;let w=i.routes[y.route.id];if(!w||!w.hasLoader)return!1;if(c(y,v)||f(y,v))return!0;if(y.route.shouldRevalidate){let I=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function WE(r,e,{includeHydrateFallback:t}={}){return HE(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function HE(r){return[...new Set(r)]}function qE(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function KE(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let l=JSON.stringify(qE(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function Pv(){let r=O.useContext(jo);return _f(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function GE(){let r=O.useContext(kc);return _f(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wf=O.createContext(void 0);wf.displayName="FrameworkContext";function Dv(){let r=O.useContext(wf);return _f(r,"You must render this element inside a <HydratedRouter> element"),r}function QE(r,e){let t=O.useContext(wf),[i,o]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:f,onBlur:y,onMouseEnter:v,onMouseLeave:w,onTouchStart:T}=e,I=O.useRef(null);O.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let z=G=>{G.forEach(X=>{c(X.isIntersecting)})},j=new IntersectionObserver(z,{threshold:.5});return I.current&&j.observe(I.current),()=>{j.disconnect()}}},[r]),O.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let A=()=>{o(!0)},W=()=>{o(!1),c(!1)};return t?r!=="intent"?[l,I,{}]:[l,I,{onFocus:Ua(f,A),onBlur:Ua(y,W),onMouseEnter:Ua(v,A),onMouseLeave:Ua(w,W),onTouchStart:Ua(T,A)}]:[!1,I,{}]}function Ua(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function YE({page:r,...e}){let{router:t}=Pv(),i=O.useMemo(()=>pv(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?O.createElement(XE,{page:r,matches:i,...e}):null}function JE(r){let{manifest:e,routeModules:t}=Dv(),[i,o]=O.useState([]);return O.useEffect(()=>{let l=!1;return $E(r,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,t]),i}function XE({page:r,matches:e,...t}){let i=Ui(),{future:o,manifest:l,routeModules:c}=Dv(),{basename:f}=Pv(),{loaderData:y,matches:v}=GE(),w=O.useMemo(()=>Bg(r,e,v,l,i,"data"),[r,e,v,l,i]),T=O.useMemo(()=>Bg(r,e,v,l,i,"assets"),[r,e,v,l,i]),I=O.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let z=new Set,j=!1;if(e.forEach(X=>{var se;let Q=l.routes[X.route.id];!Q||!Q.hasLoader||(!w.some(de=>de.route.id===X.route.id)&&X.route.id in y&&((se=c[X.route.id])!=null&&se.shouldRevalidate)||Q.hasClientLoader?j=!0:z.add(X.route.id))}),z.size===0)return[];let G=UE(r,f,o.unstable_trailingSlashAwareDataRequests,"data");return j&&z.size>0&&G.searchParams.set("_routes",e.filter(X=>z.has(X.route.id)).map(X=>X.route.id).join(",")),[G.pathname+G.search]},[f,o.unstable_trailingSlashAwareDataRequests,y,i,l,w,e,r,c]),A=O.useMemo(()=>WE(T,l),[T,l]),W=JE(T);return O.createElement(O.Fragment,null,I.map(z=>O.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),A.map(z=>O.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),W.map(({key:z,link:j})=>O.createElement("link",{key:z,nonce:t.nonce,...j})))}function ZE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var eT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eT&&(window.__reactRouterVersion="7.12.0")}catch{}function tT({basename:r,children:e,unstable_useTransitions:t,window:i}){let o=O.useRef();o.current==null&&(o.current=L1({window:i,v5Compat:!0}));let l=o.current,[c,f]=O.useState({action:l.action,location:l.location}),y=O.useCallback(v=>{t===!1?f(v):O.startTransition(()=>f(v))},[t]);return O.useLayoutEffect(()=>l.listen(y),[l,y]),O.createElement(PE,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vs=O.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:f,target:y,to:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:I,...A},W){let{basename:z,unstable_useTransitions:j}=O.useContext(Rn),G=typeof v=="string"&&Nv.test(v),X=Ev(v,z);v=X.to;let Q=pE(v,{relative:o}),[se,de,oe]=QE(i,A),P=sT(v,{replace:c,state:f,target:y,preventScrollReset:w,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:I,unstable_useTransitions:j});function S(D){e&&e(D),D.defaultPrevented||P(D)}let k=O.createElement("a",{...A,...oe,href:X.absoluteURL||Q,onClick:X.isExternal||l?e:S,ref:ZE(W,de),target:y,"data-discover":!G&&t==="render"?"true":void 0});return se&&!G?O.createElement(O.Fragment,null,k,O.createElement(YE,{page:Q})):k});vs.displayName="Link";var nT=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:f,children:y,...v},w){let T=dl(c,{relative:v.relative}),I=Ui(),A=O.useContext(kc),{navigator:W,basename:z}=O.useContext(Rn),j=A!=null&&cT(T)&&f===!0,G=W.encodeLocation?W.encodeLocation(T).pathname:T.pathname,X=I.pathname,Q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(X=X.toLowerCase(),Q=Q?Q.toLowerCase():null,G=G.toLowerCase()),Q&&z&&(Q=Fr(Q,z)||Q);const se=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let de=X===G||!o&&X.startsWith(G)&&X.charAt(se)==="/",oe=Q!=null&&(Q===G||!o&&Q.startsWith(G)&&Q.charAt(G.length)==="/"),P={isActive:de,isPending:oe,isTransitioning:j},S=de?e:void 0,k;typeof i=="function"?k=i(P):k=[i,de?"active":null,oe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(P):l;return O.createElement(vs,{...v,"aria-current":S,className:k,ref:w,style:D,to:c,viewTransition:f},typeof y=="function"?y(P):y)});nT.displayName="NavLink";var rT=O.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=qu,action:f,onSubmit:y,relative:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:I,...A},W)=>{let{unstable_useTransitions:z}=O.useContext(Rn),j=lT(),G=uT(f,{relative:v}),X=c.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&Nv.test(f),se=de=>{if(y&&y(de),de.defaultPrevented)return;de.preventDefault();let oe=de.nativeEvent.submitter,P=(oe==null?void 0:oe.getAttribute("formmethod"))||c,S=()=>j(oe||de.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:o,state:l,relative:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:I});z&&t!==!1?O.startTransition(()=>S()):S()};return O.createElement("form",{ref:W,method:X,action:G,onSubmit:i?y:se,...A,"data-discover":!Q&&r==="render"?"true":void 0})});rT.displayName="Form";function iT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bv(r){let e=O.useContext(jo);return lt(e,iT(r)),e}function sT(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:y}={}){let v=An(),w=Ui(),T=dl(r,{relative:l});return O.useCallback(I=>{if(VE(I,e)){I.preventDefault();let A=t!==void 0?t:el(w)===el(T),W=()=>v(r,{replace:A,state:i,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});y?O.startTransition(()=>W()):W()}},[w,v,T,t,i,e,r,o,l,c,f,y])}var oT=0,aT=()=>`__${String(++oT)}__`;function lT(){let{router:r}=bv("useSubmit"),{basename:e}=O.useContext(Rn),t=kE(),i=r.fetch,o=r.navigate;return O.useCallback(async(l,c={})=>{let{action:f,method:y,encType:v,formData:w,body:T}=FE(l,e);if(c.navigate===!1){let I=c.fetcherKey||aT();await i(I,t,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:w,body:T,formMethod:c.method||y,formEncType:c.encType||v,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:w,body:T,formMethod:c.method||y,formEncType:c.encType||v,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,o,e,t])}function uT(r,{relative:e}={}){let{basename:t}=O.useContext(Rn),i=O.useContext(gr);lt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...dl(r||".",{relative:e})},c=Ui();if(r==null){l.search=c.search;let f=new URLSearchParams(l.search),y=f.getAll("index");if(y.some(w=>w==="")){f.delete("index"),y.filter(T=>T).forEach(T=>f.append("index",T));let w=f.toString();l.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Mr([t,l.pathname])),el(l)}function cT(r,{relative:e}={}){let t=O.useContext(Sv);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bv("useViewTransitionState"),o=dl(r,{relative:e});if(!t.isTransitioning)return!1;let l=Fr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Fr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ic(o.pathname,c)!=null||ic(o.pathname,l)!=null}/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lv=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=O.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...f},y)=>O.createElement("svg",{ref:y,...dT,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:Lv("lucide",o),...f},[...c.map(([v,w])=>O.createElement(v,w)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(r,e)=>{const t=O.forwardRef(({className:i,...o},l)=>O.createElement(fT,{ref:l,iconNode:e,className:Lv(`lucide-${hT(r)}`,i),...o}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],mT=Oe("Activity",pT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bi=Oe("ArrowLeft",gT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vT=Oe("ArrowRight",yT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]],wT=Oe("BatteryLow",_T);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ef=Oe("Calendar",ET);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ov=Oe("Camera",TT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],IT=Oe("ChartNoAxesColumn",ST);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kT=Oe("Check",xT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tf=Oe("CircleAlert",CT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vv=Oe("CircleCheckBig",RT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],PT=Oe("Clock",AT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],NT=Oe("CloudSun",DT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],LT=Oe("Cloud",bT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],VT=Oe("Coffee",OT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],zd=Oe("Download",jT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],FT=Oe("House",MT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],zT=Oe("List",UT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],$T=Oe("Loader",BT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],jv=Oe("LogIn",WT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],qT=Oe("LogOut",HT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Sf=Oe("Moon",KT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bd=Oe("Plus",GT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mv=Oe("RefreshCw",QT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],JT=Oe("Save",YT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZT=Oe("Settings",XT);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Fv=Oe("ShieldAlert",eS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],If=Oe("Sun",tS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],rS=Oe("Sunset",nS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sS=Oe("Target",iS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],aS=Oe("Trash2",oS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],uS=Oe("TrendingUp",lS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hS=Oe("TriangleAlert",cS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],fS=Oe("Trophy",dS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Uv=Oe("Upload",pS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zv=Oe("User",mS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bv=Oe("X",gS);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rc=Oe("Zap",yS),vS=()=>{};var $g={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},_S=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],c=r[t++],f=r[t++],y=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(y>>10)),e[i++]=String.fromCharCode(56320+(y&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,f=c?r[o+1]:0,y=o+2<r.length,v=y?r[o+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let I=(f&15)<<2|v>>6,A=v&63;y||(A=64,c||(I=64)),i.push(t[w],t[T],t[I],t[A])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($v(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):_S(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||v==null||T==null)throw new wS;const I=l<<2|f>>4;if(i.push(I),v!==64){const A=f<<4&240|v>>2;if(i.push(A),T!==64){const W=v<<6&192|T;i.push(W)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ES=function(r){const e=$v(r);return Wv.encodeByteArray(e,!0)},sc=function(r){return ES(r).replace(/\./g,"")},Hv=function(r){try{return Wv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=()=>TS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof $g>"u")return;const r=$g.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Hv(r[1]);return e&&JSON.parse(e)},Ac=()=>{try{return vS()||SS()||IS()||xS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qv=r=>{var e,t;return(t=(e=Ac())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},kS=r=>{const e=qv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Kv=()=>{var r;return(r=Ac())==null?void 0:r.config},Gv=r=>{var e;return(e=Ac())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[sc(JSON.stringify(t)),sc(JSON.stringify(c)),""].join(".")}const Ka={};function AS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ka))Ka[e]?r.emulator.push(e):r.prod.push(e);return r}function PS(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Wg=!1;function Yv(r,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||Ka[r]===e||Ka[r]||Wg)return;Ka[r]=e;function t(I){return`__firebase__banner__${I}`}const i="__firebase__banner",l=AS().prod.length>0;function c(){const I=document.getElementById(i);I&&I.remove()}function f(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,A){I.setAttribute("width","24"),I.setAttribute("id",A),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Wg=!0,c()},I}function w(I,A){I.setAttribute("id",A),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=PS(i),A=t("text"),W=document.getElementById(A)||document.createElement("span"),z=t("learnmore"),j=document.getElementById(z)||document.createElement("a"),G=t("preprendIcon"),X=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const Q=I.element;f(Q),w(j,z);const se=v();y(X,G),Q.append(X,W,j,se),document.body.appendChild(Q)}l?(W.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function NS(){var e;const r=(e=Ac())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function OS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VS(){const r=Gt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="FirebaseError";class Hr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=US,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?zS(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Hr(o,f,i)}}function zS(r,e){return r.replace(BS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const BS=/\{\$([^}]+)}/g;function $S(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ss(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],c=e[o];if(Hg(l)&&Hg(c)){if(!Ss(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Hg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function WS(r,e){const t=new HS(r,e);return t.subscribe.bind(t)}class HS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");qS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=kd),o.error===void 0&&(o.error=kd),o.complete===void 0&&(o.complete=kd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qS(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r){return r&&r._delegate?r._delegate:r}class Is{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new CS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QS(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(r){return r===ys?void 0:r}function QS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const JS={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},XS=je.INFO,ZS={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},eI=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=ZS[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xf{constructor(e){this.name=e,this._logLevel=XS,this._logHandler=eI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const tI=(r,e)=>e.some(t=>r instanceof t);let qg,Kg;function nI(){return qg||(qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rI(){return Kg||(Kg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,$d=new WeakMap,Xv=new WeakMap,Cd=new WeakMap,kf=new WeakMap;function iI(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Ci(r.result)),o()},c=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Jv.set(t,r)}).catch(()=>{}),kf.set(e,r),e}function sI(r){if($d.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});$d.set(r,e)}let Wd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return $d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Xv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ci(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function oI(r){Wd=r(Wd)}function aI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Rd(this),e,...t);return Xv.set(i,e.sort?e.sort():[e]),Ci(i)}:rI().includes(r)?function(...e){return r.apply(Rd(this),e),Ci(Jv.get(this))}:function(...e){return Ci(r.apply(Rd(this),e))}}function lI(r){return typeof r=="function"?aI(r):(r instanceof IDBTransaction&&sI(r),tI(r,nI())?new Proxy(r,Wd):r)}function Ci(r){if(r instanceof IDBRequest)return iI(r);if(Cd.has(r))return Cd.get(r);const e=lI(r);return e!==r&&(Cd.set(r,e),kf.set(e,r)),e}const Rd=r=>kf.get(r);function uI(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),f=Ci(c);return i&&c.addEventListener("upgradeneeded",y=>{i(Ci(c.result),y.oldVersion,y.newVersion,Ci(c.transaction),y)}),t&&c.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),f.then(y=>{l&&y.addEventListener("close",()=>l()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const cI=["get","getKey","getAll","getAllKeys","count"],hI=["put","add","delete","clear"],Ad=new Map;function Gg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ad.get(e))return Ad.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=hI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||cI.includes(t)))return;const l=async function(c,...f){const y=this.transaction(c,o?"readwrite":"readonly");let v=y.store;return i&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&y.done]))[0]};return Ad.set(e,l),l}oI(r=>({...r,get:(e,t,i)=>Gg(e,t)||r.get(e,t,i),has:(e,t)=>!!Gg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function fI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hd="@firebase/app",Qg="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new xf("@firebase/app"),pI="@firebase/app-compat",mI="@firebase/analytics-compat",gI="@firebase/analytics",yI="@firebase/app-check-compat",vI="@firebase/app-check",_I="@firebase/auth",wI="@firebase/auth-compat",EI="@firebase/database",TI="@firebase/data-connect",SI="@firebase/database-compat",II="@firebase/functions",xI="@firebase/functions-compat",kI="@firebase/installations",CI="@firebase/installations-compat",RI="@firebase/messaging",AI="@firebase/messaging-compat",PI="@firebase/performance",DI="@firebase/performance-compat",NI="@firebase/remote-config",bI="@firebase/remote-config-compat",LI="@firebase/storage",OI="@firebase/storage-compat",VI="@firebase/firestore",jI="@firebase/ai",MI="@firebase/firestore-compat",FI="firebase",UI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="[DEFAULT]",zI={[Hd]:"fire-core",[pI]:"fire-core-compat",[gI]:"fire-analytics",[mI]:"fire-analytics-compat",[vI]:"fire-app-check",[yI]:"fire-app-check-compat",[_I]:"fire-auth",[wI]:"fire-auth-compat",[EI]:"fire-rtdb",[TI]:"fire-data-connect",[SI]:"fire-rtdb-compat",[II]:"fire-fn",[xI]:"fire-fn-compat",[kI]:"fire-iid",[CI]:"fire-iid-compat",[RI]:"fire-fcm",[AI]:"fire-fcm-compat",[PI]:"fire-perf",[DI]:"fire-perf-compat",[NI]:"fire-rc",[bI]:"fire-rc-compat",[LI]:"fire-gcs",[OI]:"fire-gcs-compat",[VI]:"fire-fst",[MI]:"fire-fst-compat",[jI]:"fire-vertex","fire-js":"fire-js",[FI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,BI=new Map,Kd=new Map;function Yg(r,e){try{r.container.addComponent(e)}catch(t){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ro(r){const e=r.name;if(Kd.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Kd.set(e,r);for(const t of oc.values())Yg(t,r);for(const t of BI.values())Yg(t,r);return!0}function Cf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new fl("app","Firebase",$I);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=UI;function Zv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:qd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ri.create("bad-app-name",{appName:String(o)});if(t||(t=Kv()),!t)throw Ri.create("no-options");const l=oc.get(o);if(l){if(Ss(t,l.options)&&Ss(i,l.config))return l;throw Ri.create("duplicate-app",{appName:o})}const c=new YS(o);for(const y of Kd.values())c.addComponent(y);const f=new WI(t,i,c);return oc.set(o,f),f}function e_(r=qd){const e=oc.get(r);if(!e&&r===qd&&Kv())return Zv();if(!e)throw Ri.create("no-app",{appName:r});return e}function Ai(r,e,t){let i=zI[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(c.join(" "));return}Ro(new Is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="firebase-heartbeat-database",qI=1,tl="firebase-heartbeat-store";let Pd=null;function t_(){return Pd||(Pd=uI(HI,qI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(tl)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ri.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function KI(r){try{const t=(await t_()).transaction(tl),i=await t.objectStore(tl).get(n_(r));return await t.done,i}catch(e){if(e instanceof Hr)Ur.warn(e.message);else{const t=Ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(t.message)}}}async function Jg(r,e){try{const i=(await t_()).transaction(tl,"readwrite");await i.objectStore(tl).put(e,n_(r)),await i.done}catch(t){if(t instanceof Hr)Ur.warn(t.message);else{const i=Ri.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ur.warn(i.message)}}}function n_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1024,QI=30;class YI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Xg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>QI){const c=ZI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ur.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Xg(),{heartbeatsToSend:i,unsentEntries:o}=JI(this._heartbeatsCache.heartbeats),l=sc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ur.warn(t),""}}}function Xg(){return new Date().toISOString().substring(0,10)}function JI(r,e=GI){const t=[];let i=r.slice();for(const o of r){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Zg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Zg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class XI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await KI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Jg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Jg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zg(r){return sc(JSON.stringify({version:2,heartbeats:r})).length}function ZI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(r){Ro(new Is("platform-logger",e=>new dI(e),"PRIVATE")),Ro(new Is("heartbeat",e=>new YI(e),"PRIVATE")),Ai(Hd,Qg,r),Ai(Hd,Qg,"esm2020"),Ai("fire-js","")}ex("");var tx="firebase",nx="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(tx,nx,"app");function r_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rx=r_,i_=new fl("auth","Firebase",r_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new xf("@firebase/auth");function ix(r,...e){ac.logLevel<=je.WARN&&ac.warn(`Auth (${Fo}): ${r}`,...e)}function Gu(r,...e){ac.logLevel<=je.ERROR&&ac.error(`Auth (${Fo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(r,...e){throw Af(r,...e)}function Bn(r,...e){return Af(r,...e)}function Rf(r,e,t){const i={...rx(),[e]:t};return new fl("auth","Firebase",i).create(e,{appName:r.name})}function Es(r){return Rf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sx(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&fr(r,"argument-error"),Rf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Af(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return i_.create(r,...e)}function Re(r,e,...t){if(!r)throw Af(e,...t)}function Vr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gu(e),new Error(e)}function zr(r,e){r||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function ox(){return ey()==="http:"||ey()==="https:"}function ey(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ox()||LS()||"connection"in navigator)?navigator.onLine:!0}function lx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,zr(t>e,"Short delay should be less than long delay!"),this.isMobile=DS()||OS()}get(){return ax()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(r,e){zr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hx=new ml(3e4,6e4);function Df(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Uo(r,e,t,i,o={}){return o_(r,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=pl({key:r.config.apiKey,...c}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:y,...l};return bS()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Mo(r.emulatorConfig.host)&&(v.credentials="include"),s_.fetch()(await a_(r,r.config.apiHost,t,f),v)})}async function o_(r,e,t){r._canInitEmulator=!1;const i={...ux,...e};try{const o=new fx(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Uu(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[y,v]=f.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(r,"credential-already-in-use",c);if(y==="EMAIL_EXISTS")throw Uu(r,"email-already-in-use",c);if(y==="USER_DISABLED")throw Uu(r,"user-disabled",c);const w=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Rf(r,w,v);fr(r,w)}}catch(o){if(o instanceof Hr)throw o;fr(r,"network-request-failed",{message:String(o)})}}async function dx(r,e,t,i,o={}){const l=await Uo(r,e,t,i,o);return"mfaPendingCredential"in l&&fr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function a_(r,e,t,i){const o=`${e}${t}?${i}`,l=r,c=l.config.emulator?Pf(r.config,o):`${r.config.apiScheme}://${o}`;return cx.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class fx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Bn(this.auth,"network-request-failed")),hx.get())})}}function Uu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Bn(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(r,e){return Uo(r,"POST","/v1/accounts:delete",e)}async function lc(r,e){return Uo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mx(r,e=!1){const t=Mt(r),i=await t.getIdToken(e),o=Nf(i);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Ga(Dd(o.auth_time)),issuedAtTime:Ga(Dd(o.iat)),expirationTime:Ga(Dd(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Dd(r){return Number(r)*1e3}function Nf(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Hv(t);return o?JSON.parse(o):(Gu("Failed to decode base64 JWT payload"),null)}catch(o){return Gu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ty(r){const e=Nf(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Hr&&gx(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function gx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(r){var T;const e=r.auth,t=await r.getIdToken(),i=await nl(r,lc(e,{idToken:t}));Re(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=(T=o.providerUserInfo)!=null&&T.length?l_(o.providerUserInfo):[],c=_x(r.providerData,l),f=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!(c!=null&&c.length),v=f?y:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,w)}async function vx(r){const e=Mt(r);await uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _x(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function l_(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(r,e){const t=await o_(r,{},async()=>{const i=pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=await a_(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:f,body:i};return r.emulatorConfig&&Mo(r.emulatorConfig.host)&&(y.credentials="include"),s_.fetch()(c,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ex(r,e){return Uo(r,"POST","/v2/accounts:revokeToken",Df(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ty(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=ty(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await wx(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new So;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Re(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await nl(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mx(this,e)}reload(){return vx(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await uc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await nl(this,px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,y=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:T,emailVerified:I,isAnonymous:A,providerData:W,stsTokenManager:z}=t;Re(T&&z,e,"internal-error");const j=So.fromJSON(this.name,z);Re(typeof T=="string",e,"internal-error"),Ti(i,e.name),Ti(o,e.name),Re(typeof I=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),Ti(l,e.name),Ti(c,e.name),Ti(f,e.name),Ti(y,e.name),Ti(v,e.name),Ti(w,e.name);const G=new zn({uid:T,auth:e,email:o,emailVerified:I,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:j,createdAt:v,lastLoginAt:w});return W&&Array.isArray(W)&&(G.providerData=W.map(X=>({...X}))),y&&(G._redirectEventId=y),G}static async _fromIdTokenResponse(e,t,i=!1){const o=new So;o.updateFromServerResponse(t);const l=new zn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await uc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?l_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new So;f.updateFromIdToken(i);const y=new zn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=new Map;function jr(r){zr(r instanceof Function,"Expected a class definition");let e=ny.get(r);return e?(zr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ny.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}u_.type="NONE";const ry=u_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(r,e,t){return`firebase:${r}:${e}:${t}`}class Io{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Qu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Qu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await lc(this.auth,{idToken:e}).catch(()=>{});return t?zn._fromGetAccountInfoResponse(this.auth,t,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Io(jr(ry),e,i);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||jr(ry);const c=Qu(i,e.config.apiKey,e.name);let f=null;for(const v of t)try{const w=await v._get(c);if(w){let T;if(typeof w=="string"){const I=await lc(e,{idToken:w}).catch(()=>{});if(!I)break;T=await zn._fromGetAccountInfoResponse(e,I,w)}else T=zn._fromJSON(e,w);v!==l&&(f=T),l=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!y.length?new Io(l,e,i):(l=y[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(c)}catch{}})),new Io(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m_(e))return"Blackberry";if(g_(e))return"Webos";if(h_(e))return"Safari";if((e.includes("chrome/")||d_(e))&&!e.includes("edge/"))return"Chrome";if(p_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function c_(r=Gt()){return/firefox\//i.test(r)}function h_(r=Gt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d_(r=Gt()){return/crios\//i.test(r)}function f_(r=Gt()){return/iemobile/i.test(r)}function p_(r=Gt()){return/android/i.test(r)}function m_(r=Gt()){return/blackberry/i.test(r)}function g_(r=Gt()){return/webos/i.test(r)}function bf(r=Gt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Tx(r=Gt()){var e;return bf(r)&&!!((e=window.navigator)!=null&&e.standalone)}function Sx(){return VS()&&document.documentMode===10}function y_(r=Gt()){return bf(r)||p_(r)||g_(r)||m_(r)||/windows phone/i.test(r)||f_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r,e=[]){let t;switch(r){case"Browser":t=iy(Gt());break;case"Worker":t=`${iy(Gt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const y=e(l);c(y)}catch(y){f(y)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(r,e={}){return Uo(r,"GET","/v2/passwordPolicy",Df(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=6;class Cx{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sy(this),this.idTokenSubscription=new sy(this),this.beforeStateQueue=new Ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jr(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lc(this,{idToken:e}),i=await zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===f)&&(y!=null&&y.user)&&(i=y.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Es(this));const t=e?Mt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xx(this),t=new Cx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ex(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&jr(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,i,o);return()=>{c=!0,y()}}else{const y=e.addObserver(t);return()=>{c=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&ix(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Pc(r){return Mt(r)}class sy{constructor(e){this.auth=e,this.observer=null,this.addObserver=WS(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ax(r){Lf=r}function Px(r){return Lf.loadJS(r)}function Dx(){return Lf.gapiScript}function Nx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(r,e){const t=Cf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ss(l,e??{}))return o;fr(o,"already-initialized")}return t.initialize({options:e})}function Lx(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(jr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Ox(r,e,t){const i=Pc(r);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=__(e),{host:c,port:f}=Vx(e),y=f===null?"":`:${f}`,v={url:`${l}//${c}${y}/`},w=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(Ss(v,i.config.emulator)&&Ss(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Mo(c)?(Qv(`${l}//${c}${y}`),Yv("Auth",!0)):jx()}function __(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Vx(r){const e=__(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:oy(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:oy(c)}}}function oy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function jx(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,t){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(r,e){return dx(r,"POST","/v1/accounts:signInWithIdp",Df(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="http://localhost";class xs extends w_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new xs(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return xo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,xo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:Mx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Of{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends gl{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Or.credential(t,i)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends gl{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends gl{constructor(){super("twitter.com")}static credential(e,t){return xs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return xi.credential(t,i)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await zn._fromIdTokenResponse(e,i,o),c=ay(i);return new Ao({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=ay(i);return new Ao({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function ay(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Hr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new cc(e,t,i,o)}}function E_(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(r,l,e,i):l})}async function Fx(r,e,t=!1){const i=await nl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ao._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(r,e,t=!1){const{auth:i}=r;if(Un(i.app))return Promise.reject(Es(i));const o="reauthenticate";try{const l=await nl(r,E_(i,o,e,r),t);Re(l.idToken,i,"internal-error");const c=Nf(l.idToken);Re(c,i,"internal-error");const{sub:f}=c;return Re(r.uid===f,i,"user-mismatch"),Ao._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&fr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(r,e,t=!1){if(Un(r.app))return Promise.reject(Es(r));const i="signIn",o=await E_(r,i,e),l=await Ao._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function Bx(r,e,t,i){return Mt(r).onIdTokenChanged(e,t,i)}function $x(r,e,t){return Mt(r).beforeAuthStateChanged(e,t)}function Wx(r,e,t,i){return Mt(r).onAuthStateChanged(e,t,i)}function Hx(r){return Mt(r).signOut()}const hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=1e3,Kx=10;class S_ extends T_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,y)=>{this.notifyListeners(c,y)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);Sx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Kx):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}S_.type="LOCAL";const Gx=S_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_ extends T_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}I_.type="SESSION";const x_=I_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Dc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async v=>v(t.origin,l)),y=await Qx(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,y)=>{const v=Vf("",20);o.port1.start();const w=setTimeout(()=>{y(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(I.data.response);break;default:clearTimeout(w),clearTimeout(l),y(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function Jx(r){ur().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function Xx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zx(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function ek(){return k_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="firebaseLocalStorageDb",tk=1,dc="firebaseLocalStorage",R_="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nc(r,e){return r.transaction([dc],e?"readwrite":"readonly").objectStore(dc)}function nk(){const r=indexedDB.deleteDatabase(C_);return new yl(r).toPromise()}function Yd(){const r=indexedDB.open(C_,tk);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(dc,{keyPath:R_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(dc)?e(i):(i.close(),await nk(),e(await Yd()))})})}async function ly(r,e,t){const i=Nc(r,!0).put({[R_]:e,value:t});return new yl(i).toPromise()}async function rk(r,e){const t=Nc(r,!1).get(e),i=await new yl(t).toPromise();return i===void 0?null:i.value}function uy(r,e){const t=Nc(r,!0).delete(e);return new yl(t).toPromise()}const ik=800,sk=3;class A_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>sk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dc._getInstance(ek()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Xx(),!this.activeServiceWorker)return;this.sender=new Yx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Zx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yd();return await ly(e,hc,"1"),await uy(e,hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ly(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>rk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>uy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Nc(o,!1).getAll();return new yl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A_.type="LOCAL";const ok=A_;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(r,e){return e?jr(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends w_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ak(r){return zx(r.auth,new jf(r),r.bypassAuthState)}function lk(r){const{auth:e,user:t}=r;return Re(t,e,"internal-error"),Ux(t,new jf(r),r.bypassAuthState)}async function uk(r){const{auth:e,user:t}=r;return Re(t,e,"internal-error"),Fx(t,new jf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const y={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ak;case"linkViaPopup":case"linkViaRedirect":return uk;case"reauthViaPopup":case"reauthViaRedirect":return lk;default:fr(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new ml(2e3,1e4);async function hk(r,e,t){if(Un(r.app))return Promise.reject(Bn(r,"operation-not-supported-in-this-environment"));const i=Pc(r);sx(r,e,Of);const o=P_(i,t);return new _s(i,"signInViaPopup",e,o).executeNotNull()}class _s extends D_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=Vf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ck.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="pendingRedirect",Yu=new Map;class fk extends D_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const i=await pk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pk(r,e){const t=yk(e),i=gk(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function mk(r,e){Yu.set(r._key(),e)}function gk(r){return jr(r._redirectPersistence)}function yk(r){return Qu(dk,r.config.apiKey,r.name)}async function vk(r,e,t=!1){if(Un(r.app))return Promise.reject(Es(r));const i=Pc(r),o=P_(i,e),c=await new fk(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=600*1e3;class wk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ek(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!N_(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Bn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_k&&this.cachedEventUids.clear(),this.cachedEventUids.has(cy(e))}saveEventToCache(e){this.cachedEventUids.add(cy(e)),this.lastProcessedEventTime=Date.now()}}function cy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function N_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ek(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(r,e={}){return Uo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ik=/^https?/;async function xk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Tk(r);for(const t of e)try{if(kk(t))return}catch{}fr(r,"unauthorized-domain")}function kk(r){const e=Gd(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Ik.test(t))return!1;if(Sk.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new ml(3e4,6e4);function hy(){const r=ur().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Rk(r){return new Promise((e,t)=>{var o,l,c;function i(){hy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hy(),t(Bn(r,"network-request-failed"))},timeout:Ck.get()})}if((l=(o=ur().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=ur().gapi)!=null&&c.load)i();else{const f=Nx("iframefcb");return ur()[f]=()=>{gapi.load?i():t(Bn(r,"network-request-failed"))},Px(`${Dx()}?onload=${f}`).catch(y=>t(y))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function Ak(r){return Ju=Ju||Rk(r),Ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new ml(5e3,15e3),Dk="__/auth/iframe",Nk="emulator/auth/iframe",bk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ok(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Pf(e,Nk):`https://${r.config.authDomain}/${Dk}`,i={apiKey:e.apiKey,appName:r.name,v:Fo},o=Lk.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${pl(i).slice(1)}`}async function Vk(r){const e=await Ak(r),t=ur().gapi;return Re(t,r,"internal-error"),e.open({where:document.body,url:Ok(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bk,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Bn(r,"network-request-failed"),f=ur().setTimeout(()=>{l(c)},Pk.get());function y(){ur().clearTimeout(f),o(i)}i.ping(y).then(y,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mk=500,Fk=600,Uk="_blank",zk="http://localhost";class dy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bk(r,e,t,i=Mk,o=Fk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const y={...jk,width:i.toString(),height:o.toString(),top:l,left:c},v=Gt().toLowerCase();t&&(f=d_(v)?Uk:t),c_(v)&&(e=e||zk,y.scrollbars="yes");const w=Object.entries(y).reduce((I,[A,W])=>`${I}${A}=${W},`,"");if(Tx(v)&&f!=="_self")return $k(e||"",f),new dy(null);const T=window.open(e||"",f,w);Re(T,r,"popup-blocked");try{T.focus()}catch{}return new dy(T)}function $k(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="__/auth/handler",Hk="emulator/auth/handler",qk=encodeURIComponent("fac");async function fy(r,e,t,i,o,l){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Fo,eventId:o};if(e instanceof Of){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",$S(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))c[w]=T}if(e instanceof gl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(c.scopes=w.join(","))}r.tenantId&&(c.tid=r.tenantId);const f=c;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const y=await r._getAppCheckToken(),v=y?`#${qk}=${encodeURIComponent(y)}`:"";return`${Kk(r)}?${pl(f).slice(1)}${v}`}function Kk({config:r}){return r.emulator?Pf(r,Hk):`https://${r.authDomain}/${Wk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class Gk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x_,this._completeRedirectFn=vk,this._overrideRedirectResult=mk}async _openPopup(e,t,i,o){var c;zr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await fy(e,t,i,Gd(),o);return Bk(e,l,Vf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await fy(e,t,i,Gd(),o);return Jx(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(zr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Vk(e),i=new wk(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nd,{type:Nd},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[Nd];l!==void 0&&t(!!l),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return y_()||h_()||bf()}}const Qk=Gk;var py="@firebase/auth",my="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xk(r){Ro(new Is("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:c,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v_(r)},v=new Rx(i,o,l,y);return Lx(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ro(new Is("auth-internal",e=>{const t=Pc(e.getProvider("auth").getImmediate());return(i=>new Yk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(py,my,Jk(r)),Ai(py,my,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=300,eC=Gv("authIdTokenMaxAge")||Zk;let gy=null;const tC=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>eC)return;const o=t==null?void 0:t.token;gy!==o&&(gy=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nC(r=e_()){const e=Cf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=bx(r,{popupRedirectResolver:Qk,persistence:[ok,Gx,x_]}),i=Gv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=tC(l.toString());$x(t,c,()=>c(t.currentUser)),Bx(t,f=>c(f))}}const o=qv("auth");return o&&Ox(t,`http://${o}`),t}function rC(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}Ax({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=Bn("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",rC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xk("Browser");var yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,b_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function k(){}k.prototype=S.prototype,P.F=S.prototype,P.prototype=new k,P.prototype.constructor=P,P.D=function(D,N,M){for(var R=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)R[Ie-2]=arguments[Ie];return S.prototype[N].apply(D,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,k){k||(k=0);const D=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)D[N]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(N=0;N<16;++N)D[N]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=P.g[0],k=P.g[1],N=P.g[2];let M=P.g[3],R;R=S+(M^k&(N^M))+D[0]+3614090360&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(N^S&(k^N))+D[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=N+(k^M&(S^k))+D[2]+606105819&4294967295,N=M+(R<<17&4294967295|R>>>15),R=k+(S^N&(M^S))+D[3]+3250441966&4294967295,k=N+(R<<22&4294967295|R>>>10),R=S+(M^k&(N^M))+D[4]+4118548399&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(N^S&(k^N))+D[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=N+(k^M&(S^k))+D[6]+2821735955&4294967295,N=M+(R<<17&4294967295|R>>>15),R=k+(S^N&(M^S))+D[7]+4249261313&4294967295,k=N+(R<<22&4294967295|R>>>10),R=S+(M^k&(N^M))+D[8]+1770035416&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(N^S&(k^N))+D[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=N+(k^M&(S^k))+D[10]+4294925233&4294967295,N=M+(R<<17&4294967295|R>>>15),R=k+(S^N&(M^S))+D[11]+2304563134&4294967295,k=N+(R<<22&4294967295|R>>>10),R=S+(M^k&(N^M))+D[12]+1804603682&4294967295,S=k+(R<<7&4294967295|R>>>25),R=M+(N^S&(k^N))+D[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=N+(k^M&(S^k))+D[14]+2792965006&4294967295,N=M+(R<<17&4294967295|R>>>15),R=k+(S^N&(M^S))+D[15]+1236535329&4294967295,k=N+(R<<22&4294967295|R>>>10),R=S+(N^M&(k^N))+D[1]+4129170786&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^N&(S^k))+D[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=N+(S^k&(M^S))+D[11]+643717713&4294967295,N=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(N^M))+D[0]+3921069994&4294967295,k=N+(R<<20&4294967295|R>>>12),R=S+(N^M&(k^N))+D[5]+3593408605&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^N&(S^k))+D[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=N+(S^k&(M^S))+D[15]+3634488961&4294967295,N=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(N^M))+D[4]+3889429448&4294967295,k=N+(R<<20&4294967295|R>>>12),R=S+(N^M&(k^N))+D[9]+568446438&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^N&(S^k))+D[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=N+(S^k&(M^S))+D[3]+4107603335&4294967295,N=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(N^M))+D[8]+1163531501&4294967295,k=N+(R<<20&4294967295|R>>>12),R=S+(N^M&(k^N))+D[13]+2850285829&4294967295,S=k+(R<<5&4294967295|R>>>27),R=M+(k^N&(S^k))+D[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=N+(S^k&(M^S))+D[7]+1735328473&4294967295,N=M+(R<<14&4294967295|R>>>18),R=k+(M^S&(N^M))+D[12]+2368359562&4294967295,k=N+(R<<20&4294967295|R>>>12),R=S+(k^N^M)+D[5]+4294588738&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^N)+D[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=N+(M^S^k)+D[11]+1839030562&4294967295,N=M+(R<<16&4294967295|R>>>16),R=k+(N^M^S)+D[14]+4259657740&4294967295,k=N+(R<<23&4294967295|R>>>9),R=S+(k^N^M)+D[1]+2763975236&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^N)+D[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=N+(M^S^k)+D[7]+4139469664&4294967295,N=M+(R<<16&4294967295|R>>>16),R=k+(N^M^S)+D[10]+3200236656&4294967295,k=N+(R<<23&4294967295|R>>>9),R=S+(k^N^M)+D[13]+681279174&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^N)+D[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=N+(M^S^k)+D[3]+3572445317&4294967295,N=M+(R<<16&4294967295|R>>>16),R=k+(N^M^S)+D[6]+76029189&4294967295,k=N+(R<<23&4294967295|R>>>9),R=S+(k^N^M)+D[9]+3654602809&4294967295,S=k+(R<<4&4294967295|R>>>28),R=M+(S^k^N)+D[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=N+(M^S^k)+D[15]+530742520&4294967295,N=M+(R<<16&4294967295|R>>>16),R=k+(N^M^S)+D[2]+3299628645&4294967295,k=N+(R<<23&4294967295|R>>>9),R=S+(N^(k|~M))+D[0]+4096336452&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~N))+D[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=N+(S^(M|~k))+D[14]+2878612391&4294967295,N=M+(R<<15&4294967295|R>>>17),R=k+(M^(N|~S))+D[5]+4237533241&4294967295,k=N+(R<<21&4294967295|R>>>11),R=S+(N^(k|~M))+D[12]+1700485571&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~N))+D[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=N+(S^(M|~k))+D[10]+4293915773&4294967295,N=M+(R<<15&4294967295|R>>>17),R=k+(M^(N|~S))+D[1]+2240044497&4294967295,k=N+(R<<21&4294967295|R>>>11),R=S+(N^(k|~M))+D[8]+1873313359&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~N))+D[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=N+(S^(M|~k))+D[6]+2734768916&4294967295,N=M+(R<<15&4294967295|R>>>17),R=k+(M^(N|~S))+D[13]+1309151649&4294967295,k=N+(R<<21&4294967295|R>>>11),R=S+(N^(k|~M))+D[4]+4149444226&4294967295,S=k+(R<<6&4294967295|R>>>26),R=M+(k^(S|~N))+D[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=N+(S^(M|~k))+D[2]+718787259&4294967295,N=M+(R<<15&4294967295|R>>>17),R=k+(M^(N|~S))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+M&4294967295}i.prototype.v=function(P,S){S===void 0&&(S=P.length);const k=S-this.blockSize,D=this.C;let N=this.h,M=0;for(;M<S;){if(N==0)for(;M<=k;)o(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<S;)if(D[N++]=P.charCodeAt(M++),N==this.blockSize){o(this,D),N=0;break}}else for(;M<S;)if(D[N++]=P[M++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=S},i.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;S=this.o*8;for(var k=P.length-8;k<P.length;++k)P[k]=S&255,S/=256;for(this.v(P),P=Array(16),S=0,k=0;k<4;++k)for(let D=0;D<32;D+=8)P[S++]=this.g[k]>>>D&255;return P};function l(P,S){var k=f;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=S(P)}function c(P,S){this.h=S;const k=[];let D=!0;for(let N=P.length-1;N>=0;N--){const M=P[N]|0;D&&M==S||(k[N]=M,D=!1)}this.g=k}var f={};function y(P){return-128<=P&&P<128?l(P,function(S){return new c([S|0],S<0?-1:0)}):new c([P|0],P<0?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return T;if(P<0)return j(v(-P));const S=[];let k=1;for(let D=0;P>=k;D++)S[D]=P/k|0,k*=4294967296;return new c(S,0)}function w(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return j(w(P.substring(1),S));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=v(Math.pow(S,8));let D=T;for(let M=0;M<P.length;M+=8){var N=Math.min(8,P.length-M);const R=parseInt(P.substring(M,M+N),S);N<8?(N=v(Math.pow(S,N)),D=D.j(N).add(v(R))):(D=D.j(k),D=D.add(v(R)))}return D}var T=y(0),I=y(1),A=y(16777216);r=c.prototype,r.m=function(){if(z(this))return-j(this).m();let P=0,S=1;for(let k=0;k<this.g.length;k++){const D=this.i(k);P+=(D>=0?D:4294967296+D)*S,S*=4294967296}return P},r.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(W(this))return"0";if(z(this))return"-"+j(this).toString(P);const S=v(Math.pow(P,6));var k=this;let D="";for(;;){const N=se(k,S).g;k=G(k,N.j(S));let M=((k.g.length>0?k.g[0]:k.h)>>>0).toString(P);if(k=N,W(k))return M+D;for(;M.length<6;)M="0"+M;D=M+D}},r.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function W(P){if(P.h!=0)return!1;for(let S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function z(P){return P.h==-1}r.l=function(P){return P=G(this,P),z(P)?-1:W(P)?0:1};function j(P){const S=P.g.length,k=[];for(let D=0;D<S;D++)k[D]=~P.g[D];return new c(k,~P.h).add(I)}r.abs=function(){return z(this)?j(this):this},r.add=function(P){const S=Math.max(this.g.length,P.g.length),k=[];let D=0;for(let N=0;N<=S;N++){let M=D+(this.i(N)&65535)+(P.i(N)&65535),R=(M>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);D=R>>>16,M&=65535,R&=65535,k[N]=R<<16|M}return new c(k,k[k.length-1]&-2147483648?-1:0)};function G(P,S){return P.add(j(S))}r.j=function(P){if(W(this)||W(P))return T;if(z(this))return z(P)?j(this).j(j(P)):j(j(this).j(P));if(z(P))return j(this.j(j(P)));if(this.l(A)<0&&P.l(A)<0)return v(this.m()*P.m());const S=this.g.length+P.g.length,k=[];for(var D=0;D<2*S;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<P.g.length;N++){const M=this.i(D)>>>16,R=this.i(D)&65535,Ie=P.i(N)>>>16,Le=P.i(N)&65535;k[2*D+2*N]+=R*Le,X(k,2*D+2*N),k[2*D+2*N+1]+=M*Le,X(k,2*D+2*N+1),k[2*D+2*N+1]+=R*Ie,X(k,2*D+2*N+1),k[2*D+2*N+2]+=M*Ie,X(k,2*D+2*N+2)}for(P=0;P<S;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=S;P<2*S;P++)k[P]=0;return new c(k,0)};function X(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function Q(P,S){this.g=P,this.h=S}function se(P,S){if(W(S))throw Error("division by zero");if(W(P))return new Q(T,T);if(z(P))return S=se(j(P),S),new Q(j(S.g),j(S.h));if(z(S))return S=se(P,j(S)),new Q(j(S.g),S.h);if(P.g.length>30){if(z(P)||z(S))throw Error("slowDivide_ only works with positive integers.");for(var k=I,D=S;D.l(P)<=0;)k=de(k),D=de(D);var N=oe(k,1),M=oe(D,1);for(D=oe(D,2),k=oe(k,2);!W(D);){var R=M.add(D);R.l(P)<=0&&(N=N.add(k),M=R),D=oe(D,1),k=oe(k,1)}return S=G(P,N.j(S)),new Q(N,S)}for(N=T;P.l(S)>=0;){for(k=Math.max(1,Math.floor(P.m()/S.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),M=v(k),R=M.j(S);z(R)||R.l(P)>0;)k-=D,M=v(k),R=M.j(S);W(M)&&(M=I),N=N.add(M),P=G(P,R)}return new Q(N,P)}r.B=function(P){return se(this,P).h},r.and=function(P){const S=Math.max(this.g.length,P.g.length),k=[];for(let D=0;D<S;D++)k[D]=this.i(D)&P.i(D);return new c(k,this.h&P.h)},r.or=function(P){const S=Math.max(this.g.length,P.g.length),k=[];for(let D=0;D<S;D++)k[D]=this.i(D)|P.i(D);return new c(k,this.h|P.h)},r.xor=function(P){const S=Math.max(this.g.length,P.g.length),k=[];for(let D=0;D<S;D++)k[D]=this.i(D)^P.i(D);return new c(k,this.h^P.h)};function de(P){const S=P.g.length+1,k=[];for(let D=0;D<S;D++)k[D]=P.i(D)<<1|P.i(D-1)>>>31;return new c(k,P.h)}function oe(P,S){const k=S>>5;S%=32;const D=P.g.length-k,N=[];for(let M=0;M<D;M++)N[M]=S>0?P.i(M+k)>>>S|P.i(M+k+1)<<32-S:P.i(M+k);return new c(N,P.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,b_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=w,Pi=c}).apply(typeof yy<"u"?yy:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L_,$a,O_,Xu,Jd,V_,j_,M_;(function(){var r,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var x=0;x<u.length-1;x++){var U=u[x];if(!(U in _))break e;_=_[U]}u=u[u.length-1],x=_[u],m=m(x),m!=x&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&_.push([x,m[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function w(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function T(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,U,H){for(var ie=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ie[Pe-2]=arguments[Pe];return m.prototype[U].apply(x,ie)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function A(u){const m=u.length;if(m>0){const _=Array(m);for(let x=0;x<m;x++)_[x]=u[x];return _}return[]}function W(u,m){for(let x=1;x<arguments.length;x++){const U=arguments[x];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const H=U.length||0;u.length=_+H;for(let ie=0;ie<H;ie++)u[_+ie]=U[ie]}else u.push(U)}}class z{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function j(u){c.setTimeout(()=>{throw u},0)}function G(){var u=P;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class X{constructor(){this.h=this.g=null}add(m,_){const x=Q.get();x.set(m,_),this.h?this.h.next=x:this.g=x,this.h=x}}var Q=new z(()=>new se,u=>u.reset());class se{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let de,oe=!1,P=new X,S=()=>{const u=Promise.resolve(void 0);de=()=>{u.then(k)}};function k(){for(var u;u=G();){try{u.h.call(u.g)}catch(_){j(_)}var m=Q;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}oe=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};c.addEventListener("test",_,m),c.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}T(Ie,N),Ie.prototype.init=function(u,m){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),rt=0;function Ke(u,m,_,x,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!x,this.ha=U,this.key=++rt,this.da=this.fa=!1}function re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ge(u,m,_){for(const x in u)m.call(_,u[x],x,u)}function q(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function L(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(u,m){let _,x;for(let U=1;U<arguments.length;U++){x=arguments[U];for(_ in x)u[_]=x[_];for(let H=0;H<K.length;H++)_=K[H],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,_,x,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ie=Ne(u,m,x,U);return ie>-1?(m=u[ie],_||(m.fa=!1)):(m=new Ke(m,this.src,H,!!x,U),m.fa=_,u.push(m)),m};function we(u,m){const _=m.type;if(_ in u.g){var x=u.g[_],U=Array.prototype.indexOf.call(x,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(x,U,1),H&&(re(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ne(u,m,_,x){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==x)return U}return-1}var We="closure_lm_"+(Math.random()*1e6|0),Ve={};function Ge(u,m,_,x,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Ge(u,m[H],_,x,U);return null}return _=qo(_),u&&u[Le]?u.J(m,_,f(x)?!!x.capture:!1,U):Se(u,m,_,!1,x,U)}function Se(u,m,_,x,U,H){if(!m)throw Error("Invalid event type");const ie=f(U)?!!U.capture:!!U;let Pe=Ns(u);if(Pe||(u[We]=Pe=new le(u)),_=Pe.add(m,_,x,ie,H),_.proxy)return _;if(x=it(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)M||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),x,U);else if(u.attachEvent)u.attachEvent(Ds(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function it(){function u(_){return m.call(u.src,u.listener,_)}const m=Sl;return u}function $i(u,m,_,x,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)$i(u,m[H],_,x,U);else x=f(x)?!!x.capture:!!x,_=qo(_),u&&u[Le]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=Ne(m,_,x,U),_>-1&&(re(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ne(m,_,x,U)),(_=u>-1?m[u]:null)&&qr(_))}function qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Le])we(m.i,u);else{var _=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(_,x,u.capture):m.detachEvent?m.detachEvent(Ds(_),x):m.addListener&&m.removeListener&&m.removeListener(x),(_=Ns(m))?(we(_,u),_.h==0&&(_.src=null,m[We]=null)):re(u)}}}function Ds(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function Sl(u,m){if(u.da)u=!0;else{m=new Ie(m,this);const _=u.listener,x=u.ha||u.src;u.fa&&qr(u),u=_.call(x,m)}return u}function Ns(u){return u=u[We],u instanceof le?u:null}var Wi="__closure_events_fn_"+(Math.random()*1e9>>>0);function qo(u){return typeof u=="function"?u:(u[Wi]||(u[Wi]=function(m){return u.handleEvent(m)}),u[Wi])}function gt(){D.call(this),this.i=new le(this),this.M=this,this.G=null}T(gt,D),gt.prototype[Le]=!0,gt.prototype.removeEventListener=function(u,m,_,x){$i(this,u,m,_,x)};function dt(u,m){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(x,u),ve(m,U)}U=!0;let H,ie;if(_)for(ie=_.length-1;ie>=0;ie--)H=m.g=_[ie],U=Pn(H,x,!0,m)&&U;if(H=m.g=u,U=Pn(H,x,!0,m)&&U,U=Pn(H,x,!1,m)&&U,_)for(ie=0;ie<_.length;ie++)H=m.g=_[ie],U=Pn(H,x,!1,m)&&U}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let x=0;x<_.length;x++)re(_[x]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,_,x){return this.i.add(String(u),m,!1,_,x)},gt.prototype.K=function(u,m,_,x){return this.i.add(String(u),m,!0,_,x)};function Pn(u,m,_,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const ie=m[H];if(ie&&!ie.da&&ie.capture==_){const Pe=ie.listener,ft=ie.ha||ie.src;ie.fa&&we(u.i,ie),U=Pe.call(ft,x)!==!1&&U}}return U&&!x.defaultPrevented}function Ko(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:c.setTimeout(u,m||0)}function Go(u){u.g=Ko(()=>{u.g=null,u.i&&(u.i=!1,Go(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Il extends D{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){D.call(this),this.h=u,this.g={}}T(Kr,D);var Qo=[];function bs(u){ge(u.g,function(m,_){this.g.hasOwnProperty(_)&&qr(m)},u),u.g={}}Kr.prototype.N=function(){Kr.Z.N.call(this),bs(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gr=c.JSON.stringify,xl=c.JSON.parse,Hi=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function Qr(){}function kl(){}var Yr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ls(){N.call(this,"d")}T(Ls,N);function Yo(){N.call(this,"c")}T(Yo,N);var Dn={},Os=null;function Jr(){return Os=Os||new gt}Dn.Ia="serverreachability";function Vs(u){N.call(this,Dn.Ia,u)}T(Vs,N);function yr(u){const m=Jr();dt(m,new Vs(m))}Dn.STAT_EVENT="statevent";function vr(u,m){N.call(this,Dn.STAT_EVENT,u),this.stat=m}T(vr,N);function ct(u){const m=Jr();dt(m,new vr(m,u))}Dn.Ja="timingevent";function Jo(u,m){N.call(this,Dn.Ja,u),this.size=m}T(Jo,N);function Xr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},m)}function Zr(){this.g=!0}Zr.prototype.ua=function(){this.g=!1};function Cl(u,m,_,x,U,H){u.info(function(){if(u.g)if(H){var ie="",Pe=H.split("&");for(let Qe=0;Qe<Pe.length;Qe++){var ft=Pe[Qe].split("=");if(ft.length>1){const yt=ft[0];ft=ft[1];const hn=yt.split("_");ie=hn.length>=2&&hn[1]=="type"?ie+(yt+"="+ft+"&"):ie+(yt+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+x+") [attempt "+U+"]: "+m+`
`+_+`
`+ie})}function Rl(u,m,_,x,U,H,ie){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+U+"]: "+m+`
`+_+`
`+H+" "+ie})}function Wn(u,m,_,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qi(u,_)+(x?" "+x:"")})}function Al(u,m){u.info(function(){return"TIMEOUT: "+m})}Zr.prototype.info=function(){};function qi(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var U=x[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<x.length;ie++)x[ie]=""}}}}return Gr(H)}catch{return m}}var ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ti={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function _r(){}T(_r,Qr),_r.prototype.g=function(){return new XMLHttpRequest},Pl=new _r;function Hn(u){return encodeURIComponent(String(u))}function js(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function gn(u,m,_,x){this.j=u,this.i=m,this.l=_,this.S=x||1,this.V=new Kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dl}function Dl(){this.i=null,this.g="",this.h=!1}var Nl={},Xo={};function Nn(u,m,_){u.M=1,u.A=Er(yn(m)),u.u=_,u.R=!0,Zo(u,null)}function Zo(u,m){u.F=Date.now(),Ki(u),u.B=yn(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),ua(_.i,"t",x),u.C=0,_=u.j.L,u.h=new Dl,u.g=Bl(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Il(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,x=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Qo[0]=U.toString()),U=Qo);for(let H=0;H<U.length;H++){const ie=Ge(_,U[H],x||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?L(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yr(),Cl(u.i,u.v,u.B,u.l,u.S,u.u)}gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},gn.prototype.Y=function(u){try{if(u==this.g)e:{const Pe=Xn(this.g),ft=this.g.ya(),Qe=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||Ul(this.g)))){this.K||Pe!=4||ft==7||(ft==8||Qe<=0?yr(3):yr(2)),Ms(this);var m=this.g.ca();this.X=m;var _=bl(this);if(this.o=m==200,Rl(this.i,this.v,this.B,this.l,this.S,Pe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var x,U=this.g;if((x=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(x)){var H=x;break t}}H=null}if(u=H)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,u);else{this.o=!1,this.m=3,ct(12),wr(this),Gi(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<_.length;)if(yt=Ol(this,_),yt==Xo){Pe==4&&(this.m=4,ct(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Nl){this.m=4,ct(15),Wn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,yt,null),Xe(this,yt);if(Ll(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||_.length!=0||this.h.h||(this.m=1,ct(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,_,"[Invalid Chunked Response]"),wr(this),Gi(this);else if(_.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),rs(ie),ie.P=!0,ct(11))}}else Wn(this.i,this.l,_,null),Xe(this,_);Pe==4&&wr(this),this.o&&!this.K&&(Pe==4?Gs(this.j,this):(this.o=!1,Ki(this)))}else ha(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ct(12)):(this.m=0,ct(13)),wr(this),Gi(this)}}}catch{}finally{}};function bl(u){if(!Ll(u))return u.g.la();const m=Ul(u.g);if(m==="")return"";let _="";const x=m.length,U=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wr(u),Gi(u),"";u.h.i=new c.TextDecoder}for(let H=0;H<x;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(U&&H==x-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Ll(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ol(u,m){var _=u.C,x=m.indexOf(`
`,_);return x==-1?Xo:(_=Number(m.substring(_,x)),isNaN(_)?Nl:(x+=1,x+_>m.length?Xo:(m=m.slice(x,x+_),u.C=x+_,m)))}gn.prototype.cancel=function(){this.K=!0,wr(this)};function Ki(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xr(v(u.aa,u),m)}function Ms(u){u.D&&(c.clearTimeout(u.D),u.D=null)}gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Al(this.i,this.B),this.M!=2&&(yr(),ct(17)),wr(this),this.m=2,Gi(this)):ea(this,this.T-u)};function Gi(u){u.j.I==0||u.K||Gs(u.j,u)}function wr(u){Ms(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,bs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Xe(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||na(_.h,u))){if(!u.L&&na(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var U=x;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ks(_),un(_);else break e;tr(_),ct(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Xr(v(_.Va,_),6e3));Qi(_.h)<=1&&_.ta&&(_.ta=void 0)}else cn(_,11)}else if((u.L||_.g==u)&&Ks(_),!R(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let Qe=U[m];const yt=Qe[0];if(!(yt<=_.K))if(_.K=yt,Qe=Qe[1],_.I==2)if(Qe[0]=="c"){_.M=Qe[1],_.ba=Qe[2];const hn=Qe[3];hn!=null&&(_.ka=hn,_.j.info("VER="+_.ka));const kr=Qe[4];kr!=null&&(_.za=kr,_.j.info("SVER="+_.za));const nr=Qe[5];nr!=null&&typeof nr=="number"&&nr>0&&(x=1.5*nr,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const rr=u.g;if(rr){const Js=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Js){var H=x.h;H.g||Js.indexOf("spdy")==-1&&Js.indexOf("quic")==-1&&Js.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Us(H,H.h),H.h=null))}if(x.G){const pa=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(x.wa=pa,He(x.J,x.G,pa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var ie=u;if(x.na=fa(x,x.L?x.ba:null,x.W),ie.L){Yi(x.h,ie);var Pe=ie,ft=x.O;ft&&(Pe.H=ft),Pe.D&&(Ms(Pe),Ki(Pe)),x.g=ie}else Ut(x);_.i.length>0&&xr(_)}else Qe[0]!="stop"&&Qe[0]!="close"||cn(_,7);else _.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?cn(_,7):Hs(_):Qe[0]!="noop"&&_.l&&_.l.qa(Qe),_.A=0)}}yr(4)}catch{}}var Qc=class{constructor(u,m){this.g=u,this.map=m}};function Fs(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ta(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qi(u){return u.h?1:u.g?u.g.size:0}function na(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Us(u,m){u.g?u.g.add(m):u.h=m}function Yi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Fs.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function on(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return A(u.i)}var Vl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function an(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let U,H=null;x>=0?(U=u[_].substring(0,x),H=u[_].substring(x+1)):U=u[_],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function qn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof qn?(this.l=u.l,Ji(this,u.j),this.o=u.o,this.g=u.g,Kn(this,u.u),this.h=u.h,ni(this,ca(u.i)),this.m=u.m):u&&(m=String(u).match(Vl))?(this.l=!1,Ji(this,m[1]||"",!0),this.o=Xi(m[2]||""),this.g=Xi(m[3]||"",!0),Kn(this,m[4]),this.h=Xi(m[5]||"",!0),ni(this,m[6]||"",!0),this.m=Xi(m[7]||"")):(this.l=!1,this.i=new Ue(null,this.l))}qn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Zi(m,ia,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Zi(m,ia,!0),"@"),u.push(Hn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Zi(_,_.charAt(0)=="/"?es:sa,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Zi(_,oa)),u.join("")},qn.prototype.resolve=function(u){const m=yn(this);let _=!!u.j;_?Ji(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var x=u.h;if(_)Kn(m,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var U=m.h.lastIndexOf("/");U!=-1&&(x=m.h.slice(0,U+1)+x)}if(U=x,U==".."||U==".")x="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){x=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ie=0;ie<U.length;){const Pe=U[ie++];Pe=="."?x&&ie==U.length&&H.push(""):Pe==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),x&&ie==U.length&&H.push("")):(H.push(Pe),x=!0)}x=H.join("/")}else x=U}return _?m.h=x:_=u.i.toString()!=="",_?ni(m,ca(u.i)):_=!!u.m,_&&(m.m=u.m),m};function yn(u){return new qn(u)}function Ji(u,m,_){u.j=_?Xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Kn(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ni(u,m,_){m instanceof Ue?(u.i=m,Bs(u.i,u.l)):(_||(m=Zi(m,Yc)),u.i=new Ue(m,u.l))}function He(u,m,_){u.i.set(m,_)}function Er(u){return He(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zi(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,ra),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ra(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,sa=/[#\?:]/g,es=/[#\?]/g,Yc=/[#\?@]/g,oa=/#/g;function Ue(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Gn(u){u.g||(u.g=new Map,u.h=0,u.i&&an(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ue.prototype,r.add=function(u,m){Gn(this),this.i=null,u=Qn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function aa(u,m){Gn(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zs(u,m){return Gn(u),m=Qn(u,m),u.g.has(m)}r.forEach=function(u,m){Gn(this),this.g.forEach(function(_,x){_.forEach(function(U){u.call(m,U,x,this)},this)},this)};function la(u,m){Gn(u);let _=[];if(typeof m=="string")zs(u,m)&&(_=_.concat(u.g.get(Qn(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return Gn(this),this.i=null,u=Qn(this,u),zs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=la(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,_){aa(u,m),_.length>0&&(u.i=null,u.g.set(Qn(u,m),A(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var _=m[x];const U=Hn(_);_=la(this,_);for(let H=0;H<_.length;H++){let ie=U;_[H]!==""&&(ie+="="+Hn(_[H])),u.push(ie)}}return this.i=u.join("&")};function ca(u){const m=new Ue;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Bs(u,m){m&&!u.j&&(Gn(u),u.i=null,u.g.forEach(function(_,x){const U=x.toLowerCase();x!=U&&(aa(this,x),ua(this,U,_))},u)),u.j=m}function Yn(u,m){const _=new Zr;if(c.Image){const x=new Image;x.onload=w(Nt,_,"TestLoadImage: loaded",!0,m,x),x.onerror=w(Nt,_,"TestLoadImage: error",!1,m,x),x.onabort=w(Nt,_,"TestLoadImage: abort",!1,m,x),x.ontimeout=w(Nt,_,"TestLoadImage: timeout",!1,m,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function Jn(u,m){const _=new Zr,x=new AbortController,U=setTimeout(()=>{x.abort(),Nt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(H=>{clearTimeout(U),H.ok?Nt(_,"TestPingServer: ok",!0,m):Nt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Nt(_,"TestPingServer: error",!1,m)})}function Nt(u,m,_,x,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),x(_)}catch{}}function ts(){this.g=new Hi}function Tr(u){this.i=u.Sb||null,this.h=u.ab||!1}T(Tr,Qr),Tr.prototype.g=function(){return new ln(this.i,this.h)};function ln(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ln,gt),r=ln.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||c).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function jl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ri(this):bn(this),this.readyState==3&&jl(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ri(this))},r.Na=function(u){this.g&&(this.response=u,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(u){u.readyState=4,u.l=null,u.j=null,u.B=null,bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ml(u){let m="";return ge(u,function(_,x){m+=x,m+=":",m+=_,m+=`\r
`}),m}function $s(u,m,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=Ml(_),typeof u=="string"?_!=null&&Hn(_):He(u,m,_))}function Ye(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ye,gt);var Fl=/^https?$/i,Jc=["POST","PUT"];r=Ye.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=I(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){ii(this,H);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var U in x)_.set(U,x[U]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const H of x.keys())_.set(H,x.get(H));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(Jc,m,void 0)>=0)||x||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of _)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){ii(this,H)}};function ii(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,si(u),Ir(u)}function si(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,dt(this,"complete"),dt(this,"abort"),Ir(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ir(this,!0)),Ye.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Sr(this):this.Xa())},r.Xa=function(){Sr(this)};function Sr(u){if(u.h&&typeof l<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(dt(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var x;if(x=H===0){let ie=String(u.D).match(Vl)[1]||null;!ie&&c.self&&c.self.location&&(ie=c.self.location.protocol.slice(0,-1)),x=!Fl.test(ie?ie.toLowerCase():"")}_=x}if(_)dt(u,"complete"),dt(u,"success");else{u.o=6;try{var U=Xn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",si(u)}}finally{Ir(u)}}}}function Ir(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||dt(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xl(m)}};function Ul(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ha(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(R(u[x]))continue;var _=js(u[x]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[U]||[];m[U]=H,H.push(_)}q(m,function(x){return x.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ws(u){this.za=0,this.i=[],this.j=new Zr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zn("baseRetryDelayMs",5e3,u),this.Za=Zn("retryDelaySeedMs",1e4,u),this.Ta=Zn("forwardChannelMaxRetries",2,u),this.va=Zn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Fs(u&&u.concurrentRequestLimit),this.Ba=new ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ws.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,x){ct(0),this.W=u,this.H=m||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=fa(this,null,this.W),xr(this)};function Hs(u){if(qs(u),u.I==3){var m=u.V++,_=yn(u.J);if(He(_,"SID",u.M),He(_,"RID",m),He(_,"TYPE","terminate"),er(u,_),m=new gn(u,u.j,m),m.M=2,m.A=Er(yn(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=m.A,_=!0),_||(m.g=Bl(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ki(m)}is(u)}function un(u){u.g&&(rs(u),u.g.cancel(),u.g=null)}function qs(u){un(u),u.v&&(c.clearTimeout(u.v),u.v=null),Ks(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function xr(u){if(!ta(u.h)&&!u.m){u.m=!0;var m=u.Ea;de||S(),oe||(de(),oe=!0),P.add(m,u),u.D=0}}function zl(u,m){return Qi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xr(v(u.Ea,u,m),Qs(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new gn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=L(H),ve(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=da(this,U,m),_=yn(this.J),He(_,"RID",u),He(_,"CVER",22),this.G&&He(_,"X-HTTP-Session-Id",this.G),er(this,_),H&&(this.R?m="headers="+Hn(Ml(H))+"&"+m:this.u&&$s(_,this.u,H)),Us(this.h,U),this.Ra&&He(_,"TYPE","init"),this.S?(He(_,"$req",m),He(_,"SID","null"),U.U=!0,Nn(U,_,null)):Nn(U,_,m),this.I=2}}else this.I==3&&(u?ns(this,u):this.i.length==0||ta(this.h)||ns(this))};function ns(u,m){var _;m?_=m.l:_=u.V++;const x=yn(u.J);He(x,"SID",u.M),He(x,"RID",_),He(x,"AID",u.K),er(u,x),u.u&&u.o&&$s(x,u.u,u.o),_=new gn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=da(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Us(u.h,_),Nn(_,x,m)}function er(u,m){u.H&&ge(u.H,function(_,x){He(m,x,_)}),u.l&&ge({},function(_,x){He(m,x,_)})}function da(u,m,_){_=Math.min(u.i.length,_);const x=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Pe=-1;for(;;){const ft=["count="+_];Pe==-1?_>0?(Pe=U[0].g,ft.push("ofs="+Pe)):Pe=0:ft.push("ofs="+Pe);let Qe=!0;for(let yt=0;yt<_;yt++){var H=U[yt].g;const hn=U[yt].map;if(H-=Pe,H<0)Pe=Math.max(0,U[yt].g-100),Qe=!1;else try{H="req"+H+"_"||"";try{var ie=hn instanceof Map?hn:Object.entries(hn);for(const[kr,nr]of ie){let rr=nr;f(nr)&&(rr=Gr(nr)),ft.push(H+kr+"="+encodeURIComponent(rr))}}catch(kr){throw ft.push(H+"type="+encodeURIComponent("_badmap")),kr}}catch{x&&x(hn)}}if(Qe){ie=ft.join("&");break e}}ie=void 0}return u=u.i.splice(0,_),m.G=u,ie}function Ut(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;de||S(),oe||(de(),oe=!0),P.add(m,u),u.A=0}}function tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xr(v(u.Da,u),Qs(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,oi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xr(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ct(10),un(this),oi(this))};function rs(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function oi(u){u.g=new gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=yn(u.na);He(m,"RID","rpc"),He(m,"SID",u.M),He(m,"AID",u.K),He(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&He(m,"TO",u.ia),He(m,"TYPE","xmlhttp"),er(u,m),u.u&&u.o&&$s(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Er(yn(m)),_.u=null,_.R=!0,Zo(_,u)}r.Va=function(){this.C!=null&&(this.C=null,un(this),tr(this),ct(19))};function Ks(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function Gs(u,m){var _=null;if(u.g==m){Ks(u),rs(u),u.g=null;var x=2}else if(na(u.h,m))_=m.G,Yi(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;x=Jr(),dt(x,new Jo(x,_)),xr(u)}else Ut(u);else if(U=m.m,U==3||U==0&&m.X>0||!(x==1&&zl(u,m)||x==2&&tr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:cn(u,5);break;case 4:cn(u,10);break;case 3:cn(u,6);break;default:cn(u,2)}}}function Qs(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function cn(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),x=u.Ua;const U=!x;x=new qn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ji(x,"https"),Er(x),U?Yn(x.toString(),_):Jn(x.toString(),_)}else ct(2);u.I=0,u.l&&u.l.pa(m),is(u),qs(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function is(u){if(u.I=0,u.ja=[],u.l){const m=on(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.oa()}}function fa(u,m,_){var x=_ instanceof qn?yn(_):new qn(_);if(x.g!="")m&&(x.g=m+"."+x.g),Kn(x,x.u);else{var U=c.location;x=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new qn(null);x&&Ji(H,x),m&&(H.g=m),U&&Kn(H,U),_&&(H.h=_),x=H}return _=u.G,m=u.wa,_&&m&&He(x,_,m),He(x,"VER",u.ka),er(u,x),x}function Bl(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ye(new Tr({ab:_})):new Ye(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $l(){}r=$l.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ys(){}Ys.prototype.g=function(u,m){return new bt(u,m)};function bt(u,m){gt.call(this),this.g=new Ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ai(this)}T(bt,gt),bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){Hs(this.g)},bt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Gr(u),u=_);m.i.push(new Qc(m.Ya++,u)),m.I==3&&xr(m)},bt.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,bt.Z.N.call(this)};function Wl(u){Ls.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}T(Wl,Ls);function Hl(){Yo.call(this),this.status=1}T(Hl,Yo);function ai(u){this.g=u}T(ai,$l),ai.prototype.ra=function(){dt(this.g,"a")},ai.prototype.qa=function(u){dt(this.g,new Wl(u))},ai.prototype.pa=function(u){dt(this.g,new Hl)},ai.prototype.oa=function(){dt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,M_=function(){return new Ys},j_=function(){return Jr()},V_=Dn,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ei.NO_ERROR=0,ei.TIMEOUT=8,ei.HTTP_ERROR=6,Xu=ei,ti.COMPLETE="complete",O_=ti,kl.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",gt.prototype.listen=gt.prototype.J,$a=kl,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,L_=Ye}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.8.0";function iC(r){zo=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new xf("@firebase/firestore");function _o(){return ks.logLevel}function ce(r,...e){if(ks.logLevel<=je.DEBUG){const t=e.map(Mf);ks.debug(`Firestore (${zo}): ${r}`,...t)}}function Br(r,...e){if(ks.logLevel<=je.ERROR){const t=e.map(Mf);ks.error(`Firestore (${zo}): ${r}`,...t)}}function Po(r,...e){if(ks.logLevel<=je.WARN){const t=e.map(Mf);ks.warn(`Firestore (${zo}): ${r}`,...t)}}function Mf(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,F_(r,i,t)}function F_(r,e,t){let i=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Br(i),new Error(i)}function qe(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||F_(e,o,i)}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qt.UNAUTHENTICATED)))}shutdown(){}}class oC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class aC{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let i=this.i;const o=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let l=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Di,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},f=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((y=>f(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Di)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string",31837,{l:i}),new U_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class lC{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class uC{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new lC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);const i=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new vy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=hC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Me(r,e){return r<e?-1:r>e?1:0}function Xd(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),l=e.charAt(i);if(o!==l)return bd(o)===bd(l)?Me(o,l):bd(o)?1:-1}return Me(r.length,e.length)}const dC=55296,fC=57343;function bd(r){const e=r.charCodeAt(0);return e>=dC&&e<=fC}function Do(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class lr{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ke(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=lr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Me(e.length,t.length)}static compareSegments(e,t){const i=lr.isNumericId(e),o=lr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?lr.extractNumericId(e).compare(lr.extractNumericId(t)):Xd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pi.fromString(e.substring(4,e.length-2))}}class tt extends lr{construct(e,t,i){return new tt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new tt(t)}static emptyPath(){return new tt([])}}const pC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends lr{construct(e,t,i){return new jt(e,t,i)}static isValidIdentifier(e){return pC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new jt([_y])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r,e,t){if(!t)throw new me(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mC(r,e,t,i){if(e===!0&&i===!0)throw new me(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function wy(r){if(!_e.isDocumentKey(r))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ey(r){if(_e.isDocumentKey(r))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function B_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Uf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ke(12329,{type:typeof r})}function No(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uf(r);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,e){const t={typeString:r};return e&&(t.value=e),t}function vl(r,e){if(!B_(r))throw new me(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new me(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-62135596800,Sy=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Sy);return new nt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ty)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sy}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vl(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ty;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Et("string",nt._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new nt(0,0))}static max(){return new Ae(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=-1;function gC(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new nt(t+1,0):new nt(t,i));return new Li(o,_e.empty(),e)}function yC(r){return new Li(r.readTime,r.key,rl)}class Li{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Li(Ae.min(),_e.empty(),rl)}static max(){return new Li(Ae.max(),_e.empty(),rl)}}function vC(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==_C)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,i)=>{t(e)}))}static reject(e){return new Y(((t,i)=>{i(e)}))}static waitFor(e){return new Y(((t,i)=>{let o=0,l=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++l,c&&l===o&&t()}),(y=>i(y)))})),c=!0,l===o&&t()}))}static or(e){let t=Y.resolve(!1);for(const i of e)t=t.next((o=>o?Y.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new Y(((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let y=0;y<l;y++){const v=y;t(e[v]).next((w=>{c[v]=w,++f,f===l&&i(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new Y(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function EC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $o(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=-1;function Lc(r){return r==null}function fc(r){return r===0&&1/r==-1/0}function TC(r){return typeof r=="number"&&Number.isInteger(r)&&!fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="";function SC(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Iy(e)),e=IC(r.get(t),e);return Iy(e)}function IC(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case $_:t+="";break;default:t+=l}}return t}function Iy(r){return r+$_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function zi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function W_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Vt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Vt.RED,this.left=o??Vt.EMPTY,this.right=l??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Vt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Vt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Vt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ky(this.data.getIterator())}getIteratorFrom(e){return new ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new mn([])}unionWith(e){let t=new kt(jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new H_("Invalid base64 string: "+l):l}})(e);return new Ft(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const xC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(r){if(qe(!!r,39018),typeof r=="string"){let e=0;const t=xC.exec(r);if(qe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vi(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="server_timestamp",K_="__type__",G_="__previous_value__",Q_="__local_write_time__";function Bf(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[K_])==null?void 0:i.stringValue)===q_}function Oc(r){const e=r.mapValue.fields[G_];return Bf(e)?Oc(e):e}function il(r){const e=Oi(r.mapValue.fields[Q_].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t,i,o,l,c,f,y,v,w,T){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=w,this.apiKey=T}}const pc="(default)";class sl{constructor(e,t){this.projectId=e,this.database=t||pc}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}function CC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__type__",RC="__max__",$u={mapValue:{}},J_="__vector__",mc="value";function ji(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bf(r)?4:PC(r)?9007199254740991:AC(r)?10:11:ke(28295,{value:r})}function pr(r,e){if(r===e)return!0;const t=ji(r);if(t!==ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return il(r).isEqual(il(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Oi(o.timestampValue),f=Oi(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return Vi(o.bytesValue).isEqual(Vi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return mt(o.geoPointValue.latitude)===mt(l.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return mt(o.integerValue)===mt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=mt(o.doubleValue),f=mt(l.doubleValue);return c===f?fc(c)===fc(f):isNaN(c)&&isNaN(f)}return!1})(r,e);case 9:return Do(r.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(xy(c)!==xy(f))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(f[y]===void 0||!pr(c[y],f[y])))return!1;return!0})(r,e);default:return ke(52216,{left:r})}}function ol(r,e){return(r.values||[]).find((t=>pr(t,e)))!==void 0}function bo(r,e){if(r===e)return 0;const t=ji(r),i=ji(e);if(t!==i)return Me(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=mt(l.integerValue||l.doubleValue),y=mt(c.integerValue||c.doubleValue);return f<y?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1})(r,e);case 3:return Cy(r.timestampValue,e.timestampValue);case 4:return Cy(il(r),il(e));case 5:return Xd(r.stringValue,e.stringValue);case 6:return(function(l,c){const f=Vi(l),y=Vi(c);return f.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),y=c.split("/");for(let v=0;v<f.length&&v<y.length;v++){const w=Me(f[v],y[v]);if(w!==0)return w}return Me(f.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Me(mt(l.latitude),mt(c.latitude));return f!==0?f:Me(mt(l.longitude),mt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Ry(r.arrayValue,e.arrayValue);case 10:return(function(l,c){var I,A,W,z;const f=l.fields||{},y=c.fields||{},v=(I=f[mc])==null?void 0:I.arrayValue,w=(A=y[mc])==null?void 0:A.arrayValue,T=Me(((W=v==null?void 0:v.values)==null?void 0:W.length)||0,((z=w==null?void 0:w.values)==null?void 0:z.length)||0);return T!==0?T:Ry(v,w)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===$u.mapValue&&c===$u.mapValue)return 0;if(l===$u.mapValue)return 1;if(c===$u.mapValue)return-1;const f=l.fields||{},y=Object.keys(f),v=c.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let T=0;T<y.length&&T<w.length;++T){const I=Xd(y[T],w[T]);if(I!==0)return I;const A=bo(f[y[T]],v[w[T]]);if(A!==0)return A}return Me(y.length,w.length)})(r.mapValue,e.mapValue);default:throw ke(23264,{he:t})}}function Cy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const t=Oi(r),i=Oi(e),o=Me(t.seconds,i.seconds);return o!==0?o:Me(t.nanos,i.nanos)}function Ry(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=bo(t[o],i[o]);if(l)return l}return Me(t.length,i.length)}function Lo(r){return Zd(r)}function Zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Oi(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Vi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return _e.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Zd(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Zd(t.fields[c])}`;return o+"}"})(r.mapValue):ke(61005,{value:r})}function Zu(r){switch(ji(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oc(r);return e?16+Zu(e):16;case 5:return 2*r.stringValue.length;case 6:return Vi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Zu(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return zi(i.fields,((l,c)=>{o+=l.length+Zu(c)})),o})(r.mapValue);default:throw ke(13486,{value:r})}}function ef(r){return!!r&&"integerValue"in r}function $f(r){return!!r&&"arrayValue"in r}function Ay(r){return!!r&&"nullValue"in r}function Py(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ec(r){return!!r&&"mapValue"in r}function AC(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[Y_])==null?void 0:i.stringValue)===J_}function Qa(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return zi(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Qa(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qa(r.arrayValue.values[t]);return e}return{...r}}function PC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===RC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ec(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(t)}setAll(e){let t=jt.emptyPath(),i={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=Qa(c):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());ec(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){zi(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new sn(Qa(this.value))}}function X_(r){const e=[];return zi(r.fields,((t,i)=>{const o=new jt([t]);if(ec(i)){const l=X_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Kt(e,0,Ae.min(),Ae.min(),Ae.min(),sn.empty(),0)}static newFoundDocument(e,t,i,o){return new Kt(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,Ae.min(),Ae.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,Ae.min(),Ae.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.position=e,this.inclusive=t}}function Dy(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=bo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ny(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!pr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t="asc"){this.field=e,this.dir=t}}function DC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{}class It extends Z_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new bC(e,t,i):t==="array-contains"?new VC(e,i):t==="in"?new jC(e,i):t==="not-in"?new MC(e,i):t==="array-contains-any"?new FC(e,i):new It(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new LC(e,i):new OC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bo(t,this.value)):t!==null&&ji(this.value)===ji(t)&&this.matchesComparison(bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends Z_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mr(e,t)}matches(e){return e0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e0(r){return r.op==="and"}function t0(r){return NC(r)&&e0(r)}function NC(r){for(const e of r.filters)if(e instanceof mr)return!1;return!0}function tf(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+Lo(r.value);if(t0(r))return r.filters.map((e=>tf(e))).join(",");{const e=r.filters.map((t=>tf(t))).join(",");return`${r.op}(${e})`}}function n0(r,e){return r instanceof It?(function(i,o){return o instanceof It&&i.op===o.op&&i.field.isEqual(o.field)&&pr(i.value,o.value)})(r,e):r instanceof mr?(function(i,o){return o instanceof mr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,c,f)=>l&&n0(c,o.filters[f])),!0):!1})(r,e):void ke(19439)}function r0(r){return r instanceof It?(function(t){return`${t.field.canonicalString()} ${t.op} ${Lo(t.value)}`})(r):r instanceof mr?(function(t){return t.op.toString()+" {"+t.getFilters().map(r0).join(" ,")+"}"})(r):"Filter"}class bC extends It{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class LC extends It{constructor(e,t){super(e,"in",t),this.keys=i0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class OC extends It{constructor(e,t){super(e,"not-in",t),this.keys=i0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function i0(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>_e.fromName(i.referenceValue)))}class VC extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $f(t)&&ol(t.arrayValue,this.value)}}class jC extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ol(this.value.arrayValue,t)}}class MC extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ol(this.value.arrayValue,t)}}class FC extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$f(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ol(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function by(r,e=null,t=[],i=[],o=null,l=null,c=null){return new UC(r,e,t,i,o,l,c)}function Wf(r){const e=De(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>tf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Lc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Lo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Lo(i))).join(",")),e.Te=t}return e.Te}function Hf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!DC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!n0(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ny(r.startAt,e.startAt)&&Ny(r.endAt,e.endAt)}function nf(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zC(r,e,t,i,o,l,c,f){return new Vc(r,e,t,i,o,l,c,f)}function qf(r){return new Vc(r)}function Ly(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function BC(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function $C(r){return r.collectionGroup!==null}function Ya(r){const e=De(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new kt(jt.comparator);return c.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(f=f.add(v.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new yc(l,i))})),t.has(jt.keyField().canonicalString())||e.Ie.push(new yc(jt.keyField(),i))}return e.Ie}function cr(r){const e=De(r);return e.Ee||(e.Ee=WC(e,Ya(r))),e.Ee}function WC(r,e){if(r.limitType==="F")return by(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new yc(o.field,l)}));const t=r.endAt?new gc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new gc(r.startAt.position,r.startAt.inclusive):null;return by(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function rf(r,e,t){return new Vc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function jc(r,e){return Hf(cr(r),cr(e))&&r.limitType===e.limitType}function s0(r){return`${Wf(cr(r))}|lt:${r.limitType}`}function wo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>r0(o))).join(", ")}]`),Lc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Lo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Lo(o))).join(",")),`Target(${i})`})(cr(r))}; limitType=${r.limitType})`}function Mc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of Ya(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(c,f,y){const v=Dy(c,f,y);return c.inclusive?v<=0:v<0})(i.startAt,Ya(i),o)||i.endAt&&!(function(c,f,y){const v=Dy(c,f,y);return c.inclusive?v>=0:v>0})(i.endAt,Ya(i),o))})(r,e)}function HC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function o0(r){return(e,t)=>{let i=!1;for(const o of Ya(r)){const l=qC(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function qC(r,e,t){const i=r.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,c,f){const y=c.data.field(l),v=f.data.field(l);return y!==null&&v!==null?bo(y,v):ke(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return W_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=new ut(_e.comparator);function $r(){return KC}const a0=new ut(_e.comparator);function Wa(...r){let e=a0;for(const t of r)e=e.insert(t.key,t);return e}function l0(r){let e=a0;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ws(){return Ja()}function u0(){return Ja()}function Ja(){return new As((r=>r.toString()),((r,e)=>r.isEqual(e)))}const GC=new ut(_e.comparator),QC=new kt(_e.comparator);function Fe(...r){let e=QC;for(const t of r)e=e.add(t);return e}const YC=new kt(Me);function JC(){return YC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function c0(r){return{integerValue:""+r}}function XC(r,e){return TC(e)?c0(e):Kf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function ZC(r,e,t){return r instanceof vc?(function(o,l){const c={fields:{[K_]:{stringValue:q_},[Q_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Bf(l)&&(l=Oc(l)),l&&(c.fields[G_]=l),{mapValue:c}})(t,e):r instanceof al?d0(r,e):r instanceof ll?f0(r,e):(function(o,l){const c=h0(o,l),f=Oy(c)+Oy(o.Ae);return ef(c)&&ef(o.Ae)?c0(f):Kf(o.serializer,f)})(r,e)}function eR(r,e,t){return r instanceof al?d0(r,e):r instanceof ll?f0(r,e):t}function h0(r,e){return r instanceof _c?(function(i){return ef(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class vc extends Fc{}class al extends Fc{constructor(e){super(),this.elements=e}}function d0(r,e){const t=p0(e);for(const i of r.elements)t.some((o=>pr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class ll extends Fc{constructor(e){super(),this.elements=e}}function f0(r,e){let t=p0(e);for(const i of r.elements)t=t.filter((o=>!pr(o,i)));return{arrayValue:{values:t}}}class _c extends Fc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Oy(r){return mt(r.integerValue||r.doubleValue)}function p0(r){return $f(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function tR(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof al&&o instanceof al||i instanceof ll&&o instanceof ll?Do(i.elements,o.elements,pr):i instanceof _c&&o instanceof _c?pr(i.Ae,o.Ae):i instanceof vc&&o instanceof vc})(r.transform,e.transform)}class nR{constructor(e,t){this.version=e,this.transformResults=t}}class kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uc{}function m0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gf(r.key,kn.none()):new _l(r.key,r.data,kn.none());{const t=r.data,i=sn.empty();let o=new kt(jt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Bi(r.key,i,new mn(o.toArray()),kn.none())}}function rR(r,e,t){r instanceof _l?(function(o,l,c){const f=o.value.clone(),y=jy(o.fieldTransforms,l,c.transformResults);f.setAll(y),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Bi?(function(o,l,c){if(!tc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=jy(o.fieldTransforms,l,c.transformResults),y=l.data;y.setAll(g0(o)),y.setAll(f),l.convertToFoundDocument(c.version,y).setHasCommittedMutations()})(r,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Xa(r,e,t,i){return r instanceof _l?(function(l,c,f,y){if(!tc(l.precondition,c))return f;const v=l.value.clone(),w=My(l.fieldTransforms,y,c);return v.setAll(w),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(r,e,t,i):r instanceof Bi?(function(l,c,f,y){if(!tc(l.precondition,c))return f;const v=My(l.fieldTransforms,y,c),w=c.data;return w.setAll(g0(l)),w.setAll(v),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,i):(function(l,c,f){return tc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(r,e,t)}function iR(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=h0(i.transform,o||null);l!=null&&(t===null&&(t=sn.empty()),t.set(i.field,l))}return t||null}function Vy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Do(i,o,((l,c)=>tR(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _l extends Uc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bi extends Uc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function g0(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function jy(r,e,t){const i=new Map;qe(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let o=0;o<t.length;o++){const l=r[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,eR(c,f,t[o]))}return i}function My(r,e,t){const i=new Map;for(const o of r){const l=o.transform,c=t.data.field(o.field);i.set(o.field,ZC(l,c,e))}return i}class Gf extends Uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sR extends Uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&rR(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Xa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Xa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=u0();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const y=m0(c,f);y!==null&&i.set(o.key,y),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,((t,i)=>Vy(t,i)))&&Do(this.baseMutations,e.baseMutations,((t,i)=>Vy(t,i)))}}class Qf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){qe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return GC})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Qf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,ze;function uR(r){switch(r){case J.OK:return ke(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ke(15467,{code:r})}}function y0(r){if(r===void 0)return Br("GRPC error has no .code"),J.UNKNOWN;switch(r){case _t.OK:return J.OK;case _t.CANCELLED:return J.CANCELLED;case _t.UNKNOWN:return J.UNKNOWN;case _t.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case _t.INTERNAL:return J.INTERNAL;case _t.UNAVAILABLE:return J.UNAVAILABLE;case _t.UNAUTHENTICATED:return J.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case _t.NOT_FOUND:return J.NOT_FOUND;case _t.ALREADY_EXISTS:return J.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return J.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case _t.ABORTED:return J.ABORTED;case _t.OUT_OF_RANGE:return J.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return J.UNIMPLEMENTED;case _t.DATA_LOSS:return J.DATA_LOSS;default:return ke(39323,{code:r})}}(ze=_t||(_t={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new Pi([4294967295,4294967295],0);function Fy(r){const e=cR().encode(r),t=new b_;return t.update(e),new Uint8Array(t.digest())}function Uy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Pi([t,i],0),new Pi([o,l],0)]}class Yf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ha(`Invalid padding: ${t}`);if(i<0)throw new Ha(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Pi.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Pi.fromNumber(i)));return o.compare(hR)===1&&(o=new Pi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Fy(e),[i,o]=Uy(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Yf(l,o,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=Fy(e),[i,o]=Uy(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,wl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new zc(Ae.min(),o,new ut(Me),$r(),Fe())}}class wl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new wl(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t,i,o){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=o}}class v0{constructor(e,t){this.targetId=e,this.Ce=t}}class _0{constructor(e,t,i=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class zy{constructor(){this.ve=0,this.Fe=By(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),i=Fe();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:ke(38017,{changeType:l})}})),new wl(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=By()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class dR{constructor(e){this.Ge=e,this.ze=new Map,this.je=$r(),this.He=Wu(),this.Je=Wu(),this.Ze=new ut(Me)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(nf(l))if(i===0){const c=new _e(l.path);this.et(t,c,Kt.newNoDocument(c,Ae.min()))}else qe(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),y=f?this.ct(f,e,c):1;if(y!==0){this.it(t);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Vi(i).toUint8Array()}catch(y){if(y instanceof H_)return Po("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{f=new Yf(c,o,l)}catch(y){return Po(y instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&nf(f.target)){const y=new _e(f.target.path);this.It(y).has(c)||this.Et(c,y)||this.et(c,y,Kt.newNoDocument(y,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let i=Fe();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new zc(e,t,this.Ze,this.je,i);return this.je=$r(),this.He=Wu(),this.Je=Wu(),this.Ze=new ut(Me),o}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new zy,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new kt(Me),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new kt(Me),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wu(){return new ut(_e.comparator)}function By(){return new ut(_e.comparator)}const fR={asc:"ASCENDING",desc:"DESCENDING"},pR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mR={and:"AND",or:"OR"};class gR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sf(r,e){return r.useProto3Json||Lc(e)?e:{value:e}}function wc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function yR(r,e){return wc(r,e.toTimestamp())}function hr(r){return qe(!!r,49232),Ae.fromTimestamp((function(t){const i=Oi(t);return new nt(i.seconds,i.nanos)})(r))}function Jf(r,e){return of(r,e).canonicalString()}function of(r,e){const t=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function E0(r){const e=tt.fromString(r);return qe(k0(e),10190,{key:e.toString()}),e}function af(r,e){return Jf(r.databaseId,e.path)}function Ld(r,e){const t=E0(e);if(t.get(1)!==r.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(S0(t))}function T0(r,e){return Jf(r.databaseId,e)}function vR(r){const e=E0(r);return e.length===4?tt.emptyPath():S0(e)}function lf(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function S0(r){return qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $y(r,e,t){return{name:af(r,e),fields:t.value.mapValue.fields}}function _R(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ke(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,w){return v.useProto3Json?(qe(w===void 0||typeof w=="string",58123),Ft.fromBase64String(w||"")):(qe(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Ft.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(v){const w=v.code===void 0?J.UNKNOWN:y0(v.code);return new me(w,v.message||"")})(c);t=new _0(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ld(r,i.document.name),l=hr(i.document.updateTime),c=i.document.createTime?hr(i.document.createTime):Ae.min(),f=new sn({mapValue:{fields:i.document.fields}}),y=Kt.newFoundDocument(o,l,c,f),v=i.targetIds||[],w=i.removedTargetIds||[];t=new nc(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ld(r,i.document),l=i.readTime?hr(i.readTime):Ae.min(),c=Kt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new nc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ld(r,i.document),l=i.removedTargetIds||[];t=new nc([],l,o,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new lR(o,l),f=i.targetId;t=new v0(f,c)}}return t}function wR(r,e){let t;if(e instanceof _l)t={update:$y(r,e.key,e.value)};else if(e instanceof Gf)t={delete:af(r,e.key)};else if(e instanceof Bi)t={update:$y(r,e.key,e.data),updateMask:AR(e.fieldMask)};else{if(!(e instanceof sR))return ke(16599,{dt:e.type});t={verify:af(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof vc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof al)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ll)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof _c)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw ke(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:yR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke(27497)})(r,e.precondition)),t}function ER(r,e){return r&&r.length>0?(qe(e!==void 0,14353),r.map((t=>(function(o,l){let c=o.updateTime?hr(o.updateTime):hr(l);return c.isEqual(Ae.min())&&(c=hr(l)),new nR(c,o.transformResults||[])})(t,e)))):[]}function TR(r,e){return{documents:[T0(r,e.path)]}}function SR(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=T0(r,o);const l=(function(v){if(v.length!==0)return x0(mr.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(v){if(v.length!==0)return v.map((w=>(function(I){return{field:Eo(I.field),direction:kR(I.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=sf(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function IR(r){let e=vR(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){qe(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(T){const I=I0(T);return I instanceof mr&&t0(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((I=>(function(W){return new yc(To(W.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(I)))})(t.orderBy));let f=null;t.limit&&(f=(function(T){let I;return I=typeof T=="object"?T.value:T,Lc(I)?null:I})(t.limit));let y=null;t.startAt&&(y=(function(T){const I=!!T.before,A=T.values||[];return new gc(A,I)})(t.startAt));let v=null;return t.endAt&&(v=(function(T){const I=!T.before,A=T.values||[];return new gc(A,I)})(t.endAt)),zC(e,o,c,l,f,"F",y,v)}function xR(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function I0(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=To(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=To(t.unaryFilter.field);return It.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=To(t.unaryFilter.field);return It.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(r):r.fieldFilter!==void 0?(function(t){return It.create(To(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return mr.create(t.compositeFilter.filters.map((i=>I0(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(t.compositeFilter.op))})(r):ke(30097,{filter:r})}function kR(r){return fR[r]}function CR(r){return pR[r]}function RR(r){return mR[r]}function Eo(r){return{fieldPath:r.canonicalString()}}function To(r){return jt.fromServerFormat(r.fieldPath)}function x0(r){return r instanceof It?(function(t){if(t.op==="=="){if(Py(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(Ay(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Py(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(Ay(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:CR(t.op),value:t.value}}})(r):r instanceof mr?(function(t){const i=t.getFilters().map((o=>x0(o)));return i.length===1?i[0]:{compositeFilter:{op:RR(t.op),filters:i}}})(r):ke(54877,{filter:r})}function AR(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function k0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function C0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t,i,o,l=Ae.min(),c=Ae.min(),f=Ft.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.yt=e}}function DR(r){const e=IR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.Sn=new bR}addToCollectionParentIndex(e,t){return this.Sn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Li.min())}updateCollectionGroup(e,t,i){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class bR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new kt(tt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new kt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(R0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Oo(0)}static ar(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="LruGarbageCollector",LR=1048576;function qy([r,e],[t,i]){const o=Me(r,t);return o===0?Me(e,i):o}class OR{constructor(e){this.Pr=e,this.buffer=new kt(qy),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();qy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(Hy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$o(t)?ce(Hy,"Ignoring IndexedDB error during garbage collection: ",t):await Bo(t)}await this.Ar(3e5)}))}}class jR{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(bc.ce);const i=new OR(t);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Wy)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wy):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,o,l,c,f,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(i=T,f=Date.now(),this.removeTargets(e,i,t)))).next((T=>(l=T,y=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(v=Date.now(),_o()<=je.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(y-f)+`ms
	Removed ${T} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function MR(r,e){return new jR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.changes=new As((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Y.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Xa(i.mutation,o,mn.empty(),nt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Fe()){const o=ws();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let c=Wa();return l.forEach(((f,y)=>{c=c.insert(f,y.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=ws();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Fe())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,o){let l=$r();const c=Ja(),f=(function(){return Ja()})();return t.forEach(((y,v)=>{const w=i.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Bi)?l=l.insert(v.key,v):w!==void 0?(c.set(v.key,w.mutation.getFieldMask()),Xa(w.mutation,v,w.mutation.getFieldMask(),nt.now())):c.set(v.key,mn.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((v,w)=>c.set(v,w))),t.forEach(((v,w)=>f.set(v,new UR(w,c.get(v)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=Ja();let o=new ut(((c,f)=>c-f)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((y=>{const v=t.get(y);if(v===null)return;let w=i.get(y)||mn.empty();w=f.applyToLocalView(v,w),i.set(y,w);const T=(o.get(f.batchId)||Fe()).add(y);o=o.insert(f.batchId,T)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),v=y.key,w=y.value,T=u0();w.forEach((I=>{if(!l.has(I)){const A=m0(t.get(I),i.get(I));A!==null&&T.set(I,A),l=l.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,T))}return Y.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return BC(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$C(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Y.resolve(ws());let f=rl,y=l;return c.next((v=>Y.forEach(v,((w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?Y.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{y=y.insert(w,I)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,y,v,Fe()))).next((w=>({batchId:f,changes:l0(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((i=>{let o=Wa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Wa();return this.indexManager.getCollectionParents(e,l).next((f=>Y.forEach(f,(y=>{const v=(function(T,I){return new Vc(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next((w=>{w.forEach(((T,I)=>{c=c.insert(T,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((c=>{l.forEach(((y,v)=>{const w=v.getKey();c.get(w)===null&&(c=c.insert(w,Kt.newInvalidDocument(w)))}));let f=Wa();return c.forEach(((y,v)=>{const w=l.get(y);w!==void 0&&Xa(w.mutation,v,mn.empty(),nt.now()),Mc(t,v)&&(f=f.insert(y,v))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Y.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:DR(o.bundledQuery),readTime:hr(o.readTime)}})(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.overlays=new ut(_e.comparator),this.Lr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ws();return Y.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.bt(e,t,l)})),Y.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),Y.resolve()}getOverlaysForCollection(e,t,i){const o=ws(),l=t.length+1,c=new _e(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const y=f.getNext().value,v=y.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&y.largestBatchId>i&&o.set(y.getKey(),y)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new ut(((v,w)=>v-w));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let w=l.get(v.largestBatchId);w===null&&(w=ws(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=ws(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,w)=>f.set(v,w))),!(f.size()>=o)););return Y.resolve(f)}bt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new aR(t,i));let l=this.Lr.get(t);l===void 0&&(l=Fe(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.kr=new kt(Pt.Kr),this.qr=new kt(Pt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new Pt(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new _e(new tt([])),i=new Pt(t,e),o=new Pt(t,e+1),l=[];return this.qr.forEachInRange([i,o],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new _e(new tt([])),i=new Pt(t,e),o=new Pt(t,e+1);let l=Fe();return this.qr.forEachInRange([i,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Pt(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return _e.comparator(e.key,t.key)||Me(e.Hr,t.Hr)}static Ur(e,t){return Me(e.Hr,t.Hr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(Pt.Kr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new oR(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Jr=this.Jr.add(new Pt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(c)}lookupMutationBatch(e,t){return Y.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Xr(i),l=o<0?0:o;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?zf:this.Yn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,o],(c=>{const f=this.Zr(c.Hr);l.push(f)})),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new kt(Me);return t.forEach((o=>{const l=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{i=i.add(f.Hr)}))})),Y.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new Pt(new _e(l),0);let f=new kt(Me);return this.Jr.forEachWhile((y=>{const v=y.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(f=f.add(y.Hr)),!0)}),c),Y.resolve(this.Yr(f))}Yr(e){const t=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){qe(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Y.forEach(t.mutations,(o=>{const l=new Pt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new Pt(t,0),o=this.Jr.firstAfterOrEqual(i);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.ti=e,this.docs=(function(){return new ut(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Y.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=$r();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Kt.newInvalidDocument(o))})),Y.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=$r();const c=t.path,f=new _e(c.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||vC(yC(w),i)<=0||(o.has(w.key)||Mc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,t,i,o){ke(9500)}ni(e,t){return Y.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new KR(this)}getSize(e){return Y.resolve(this.size)}}class KR extends FR{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),Y.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.persistence=e,this.ri=new As((t=>Wf(t)),Hf),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new Xf,this.targetCount=0,this.oi=Oo._r()}forEachTarget(e,t){return this.ri.forEach(((i,o)=>t(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),Y.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.lr(t),Y.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Y.waitFor(l).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return Y.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),Y.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Y.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return Y.resolve(i)}containsKey(e,t){return Y.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t){this._i={},this.overlays={},this.ai=new bc(0),this.ui=!1,this.ui=!0,this.ci=new WR,this.referenceDelegate=e(this),this.li=new GR(this),this.indexManager=new NR,this.remoteDocumentCache=(function(o){return new qR(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new PR(t),this.Pi=new BR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $R,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new HR(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const o=new QR(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((l=>this.referenceDelegate.Ii(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return Y.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class QR extends wC{constructor(e){super(),this.currentSequenceNumber=e}}class Zf{constructor(e){this.persistence=e,this.Ri=new Xf,this.Ai=null}static Vi(e){return new Zf(e)}get di(){if(this.Ai)return this.Ai;throw ke(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),Y.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(i=>{const o=_e.fromPath(i);return this.mi(e,o).next((l=>{l||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ec{constructor(e,t){this.persistence=e,this.fi=new As((i=>SC(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=MR(this,t)}static Vi(e,t){return new Ec(e,t)}Ti(){}Ii(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return Y.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((l=>l?Y.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ni(e,(c=>this.wr(e,c,t).next((f=>{f||(i++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Y.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zu(e.data.value)),t}wr(e,t,i){return Y.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=o}static Es(e,t){let i=Fe(),o=Fe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ep(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return jS()?8:EC(Gt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,o,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new YR;return this.ys(e,t,c).next((f=>{if(l.result=f,this.As)return this.ws(e,t,c,f.size)}))})).next((()=>l.result))}ws(e,t,i,o){return i.documentReadCount<this.Vs?(_o()<=je.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(_o()<=je.DEBUG&&ce("QueryEngine","Query:",wo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(_o()<=je.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(t))):Y.resolve())}gs(e,t){if(Ly(t))return Y.resolve(null);let i=cr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=rf(t,null,"F"),i=cr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Fe(...l);return this.fs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((y=>{const v=this.bs(t,f);return this.Ss(t,v,c,y.readTime)?this.gs(e,rf(t,null,"F")):this.Ds(e,v,t,y)}))))})))))}ps(e,t,i,o){return Ly(t)||o.isEqual(Ae.min())?Y.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,i,o)?Y.resolve(null):(_o()<=je.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(t)),this.Ds(e,c,t,gC(o,rl)).next((f=>f)))}))}bs(e,t){let i=new kt(o0(e));return t.forEach(((o,l)=>{Mc(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ys(e,t,i){return _o()<=je.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",wo(t)),this.fs.getDocumentsMatchingQuery(e,t,Li.min(),i)}Ds(e,t,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="LocalStore",XR=3e8;class ZR{constructor(e,t,i,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new ut(Me),this.Fs=new As((l=>Wf(l)),Hf),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function eA(r,e,t,i){return new ZR(r,e,t,i)}async function P0(r,e){const t=De(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let y=Fe();for(const v of o){c.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of l){f.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return t.localDocuments.getDocuments(i,y).next((v=>({Ns:v,removedBatchIds:c,addedBatchIds:f})))}))}))}function tA(r,e){const t=De(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(f,y,v,w){const T=v.batch,I=T.keys();let A=Y.resolve();return I.forEach((W=>{A=A.next((()=>w.getEntry(y,W))).next((z=>{const j=v.docVersions.get(W);qe(j!==null,48541),z.version.compareTo(j)<0&&(T.applyToRemoteDocument(z,v),z.isValidDocument()&&(z.setReadTime(v.commitVersion),w.addEntry(z)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(y,T)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let y=Fe();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(y=y.add(f.batch.mutations[v].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function D0(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function nA(r,e){const t=De(r),i=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const f=[];e.targetChanges.forEach(((w,T)=>{const I=o.get(T);if(!I)return;f.push(t.li.removeMatchingKeys(l,w.removedDocuments,T).next((()=>t.li.addMatchingKeys(l,w.addedDocuments,T))));let A=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?A=A.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(w.resumeToken,i)),o=o.insert(T,A),(function(z,j,G){return z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=XR?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(I,A,w)&&f.push(t.li.updateTargetData(l,A))}));let y=$r(),v=Fe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(rA(l,c,e.documentUpdates).next((w=>{y=w.Bs,v=w.Ls}))),!i.isEqual(Ae.min())){const w=t.li.getLastRemoteSnapshotVersion(l).next((T=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(w)}return Y.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,y,v))).next((()=>y))})).then((l=>(t.vs=o,l)))}function rA(r,e,t){let i=Fe(),o=Fe();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=$r();return t.forEach(((f,y)=>{const v=l.get(f);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(f,y.readTime),c=c.insert(f,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),c=c.insert(f,y)):ce(tp,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",y.version)})),{Bs:c,Ls:o}}))}function iA(r,e){const t=De(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=zf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function sA(r,e){const t=De(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.li.getTargetData(i,e).next((l=>l?(o=l,Y.resolve(o)):t.li.allocateTargetId(i).next((c=>(o=new ki(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function uf(r,e,t){const i=De(r),o=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!$o(c))throw c;ce(tp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function Ky(r,e,t){const i=De(r);let o=Ae.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(y,v,w){const T=De(y),I=T.Fs.get(w);return I!==void 0?Y.resolve(T.vs.get(I)):T.li.getTargetData(v,w)})(i,c,cr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,f.targetId).next((y=>{l=y}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?o:Ae.min(),t?l:Fe()))).next((f=>(oA(i,HC(e),f),{documents:f,ks:l})))))}function oA(r,e,t){let i=r.Ms.get(e)||Ae.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Ms.set(e,i)}class Gy{constructor(){this.activeTargetIds=JC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aA{constructor(){this.vo=new Gy,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Gy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="ConnectivityMonitor";class Yy{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(Qy,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(Qy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function cf(){return Hu===null?Hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="RestConnection",uA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class cA{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===pc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,t,i,o,l){const c=cf(),f=this.Qo(e,t.toUriEncodedString());ce(Od,`Sending RPC '${e}' ${c}:`,f,i);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,l);const{host:v}=new URL(f),w=Mo(v);return this.zo(e,f,y,i,w).then((T=>(ce(Od,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Po(Od,`RPC '${e}' ${c} failed with error: `,T,"url: ",f,"request:",i),T}))}jo(e,t,i,o,l,c){return this.Wo(e,t,i,o,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}Qo(e,t){const i=uA[e];let o=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection",za=(r,e,t)=>{r.listen(e,(i=>{try{t(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ko extends cA{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ko.c_){const e=j_();za(e,V_.STAT_EVENT,(t=>{t.stat===Jd.PROXY?ce(Ht,"STAT_EVENT: detected buffering proxy"):t.stat===Jd.NOPROXY&&ce(Ht,"STAT_EVENT: detected no buffering proxy")})),ko.c_=!0}}zo(e,t,i,o,l){const c=cf();return new Promise(((f,y)=>{const v=new L_;v.setWithCredentials(!0),v.listenOnce(O_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Xu.NO_ERROR:const T=v.getResponseJson();ce(Ht,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case Xu.TIMEOUT:ce(Ht,`RPC '${e}' ${c} timed out`),y(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const I=v.getStatus();if(ce(Ht,`RPC '${e}' ${c} failed with status:`,I,"response text:",v.getResponseText()),I>0){let A=v.getResponseJson();Array.isArray(A)&&(A=A[0]);const W=A==null?void 0:A.error;if(W&&W.status&&W.message){const z=(function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(X)>=0?X:J.UNKNOWN})(W.status);y(new me(z,W.message))}else y(new me(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new me(J.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce(Ht,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);ce(Ht,`RPC '${e}' ${c} sending request:`,o),v.send(t,"POST",w,i,15)}))}T_(e,t,i){const o=cf(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=l.join("");ce(Ht,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=c.createWebChannel(v,f);this.I_(w);let T=!1,I=!1;const A=new hA({Ho:W=>{I?ce(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(T||(ce(Ht,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ce(Ht,`RPC '${e}' stream ${o} sending:`,W),w.send(W))},Jo:()=>w.close()});return za(w,$a.EventType.OPEN,(()=>{I||(ce(Ht,`RPC '${e}' stream ${o} transport opened.`),A.i_())})),za(w,$a.EventType.CLOSE,(()=>{I||(I=!0,ce(Ht,`RPC '${e}' stream ${o} transport closed`),A.o_(),this.E_(w))})),za(w,$a.EventType.ERROR,(W=>{I||(I=!0,Po(Ht,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),A.o_(new me(J.UNAVAILABLE,"The operation could not be completed")))})),za(w,$a.EventType.MESSAGE,(W=>{var z;if(!I){const j=W.data[0];qe(!!j,16349);const G=j,X=(G==null?void 0:G.error)||((z=G[0])==null?void 0:z.error);if(X){ce(Ht,`RPC '${e}' stream ${o} received error:`,X);const Q=X.status;let se=(function(P){const S=_t[P];if(S!==void 0)return y0(S)})(Q),de=X.message;se===void 0&&(se=J.INTERNAL,de="Unknown error status: "+Q+" with message "+X.message),I=!0,A.o_(new me(se,de)),w.close()}else ce(Ht,`RPC '${e}' stream ${o} received:`,j),A.__(j)}})),ko.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return M_()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r){return new ko(r)}function Vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(r){return new gR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko.c_=!1;class N0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=o,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="PersistentStream";class b0{constructor(e,t,i,o,l,c,f,y){this.Ci=e,this.b_=i,this.S_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new me(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Jy,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ce(Jy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fA extends b0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=_R(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?hr(c.readTime):Ae.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=lf(this.serializer),t.addTarget=(function(l,c){let f;const y=c.target;if(f=nf(y)?{documents:TR(l,y)}:{query:SR(l,y).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=w0(l,c.resumeToken);const v=sf(l,c.expectedCount);v!==null&&(f.expectedCount=v)}else if(c.snapshotVersion.compareTo(Ae.min())>0){f.readTime=wc(l,c.snapshotVersion.toTimestamp());const v=sf(l,c.expectedCount);v!==null&&(f.expectedCount=v)}return f})(this.serializer,e);const i=xR(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=lf(this.serializer),t.removeTarget=e,this.K_(t)}}class pA extends b0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ER(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=lf(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>wR(this.serializer,i)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{}class gA extends mA{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,of(t,i),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(J.UNKNOWN,l.toString())}))}jo(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(e,of(t,i),o,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function yA(r,e,t,i){return new gA(r,e,t,i)}class vA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Br(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="RemoteStore";class _A{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Ps(this)&&(ce(Cs,"Restarting streams for network reachability change."),await(async function(y){const v=De(y);v.Ea.add(4),await El(v),v.Va.set("Unknown"),v.Ea.delete(4),await $c(v)})(this))}))})),this.Va=new vA(i,o)}}async function $c(r){if(Ps(r))for(const e of r.Ra)await e(!0)}async function El(r){for(const e of r.Ra)await e(!1)}function L0(r,e){const t=De(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),sp(t)?ip(t):Wo(t).O_()&&rp(t,e))}function np(r,e){const t=De(r),i=Wo(t);t.Ia.delete(e),i.O_()&&O0(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ps(t)&&t.Va.set("Unknown"))}function rp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wo(r).Z_(e)}function O0(r,e){r.da.$e(e),Wo(r).X_(e)}function ip(r){r.da=new dR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Wo(r).start(),r.Va.ua()}function sp(r){return Ps(r)&&!Wo(r).x_()&&r.Ia.size>0}function Ps(r){return De(r).Ea.size===0}function V0(r){r.da=void 0}async function wA(r){r.Va.set("Online")}async function EA(r){r.Ia.forEach(((e,t)=>{rp(r,e)}))}async function TA(r,e){V0(r),sp(r)?(r.Va.ha(e),ip(r)):r.Va.set("Unknown")}async function SA(r,e,t){if(r.Va.set("Online"),e instanceof _0&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.da.removeTarget(f))})(r,e)}catch(i){ce(Cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Tc(r,i)}else if(e instanceof nc?r.da.Xe(e):e instanceof v0?r.da.st(e):r.da.tt(e),!t.isEqual(Ae.min()))try{const i=await D0(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=l.Ia.get(v);w&&l.Ia.set(v,w.withResumeToken(y.resumeToken,c))}})),f.targetMismatches.forEach(((y,v)=>{const w=l.Ia.get(y);if(!w)return;l.Ia.set(y,w.withResumeToken(Ft.EMPTY_BYTE_STRING,w.snapshotVersion)),O0(l,y);const T=new ki(w.target,y,v,w.sequenceNumber);rp(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){ce(Cs,"Failed to raise snapshot:",i),await Tc(r,i)}}async function Tc(r,e,t){if(!$o(e))throw e;r.Ea.add(1),await El(r),r.Va.set("Offline"),t||(t=()=>D0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Cs,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await $c(r)}))}function j0(r,e){return e().catch((t=>Tc(r,t,e)))}async function Wc(r){const e=De(r),t=Mi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zf;for(;IA(e);)try{const o=await iA(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,xA(e,o)}catch(o){await Tc(e,o)}M0(e)&&F0(e)}function IA(r){return Ps(r)&&r.Ta.length<10}function xA(r,e){r.Ta.push(e);const t=Mi(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function M0(r){return Ps(r)&&!Mi(r).x_()&&r.Ta.length>0}function F0(r){Mi(r).start()}async function kA(r){Mi(r).ra()}async function CA(r){const e=Mi(r);for(const t of r.Ta)e.ea(t.mutations)}async function RA(r,e,t){const i=r.Ta.shift(),o=Qf.from(i,e,t);await j0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Wc(r)}async function AA(r,e){e&&Mi(r).Y_&&await(async function(i,o){if((function(c){return uR(c)&&c!==J.ABORTED})(o.code)){const l=i.Ta.shift();Mi(i).B_(),await j0(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Wc(i)}})(r,e),M0(r)&&F0(r)}async function Xy(r,e){const t=De(r);t.asyncQueue.verifyOperationInProgress(),ce(Cs,"RemoteStore received new credentials");const i=Ps(t);t.Ea.add(3),await El(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await $c(t)}async function PA(r,e){const t=De(r);e?(t.Ea.delete(2),await $c(t)):e||(t.Ea.add(2),await El(t),t.Va.set("Unknown"))}function Wo(r){return r.ma||(r.ma=(function(t,i,o){const l=De(t);return l.sa(),new fA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Zo:wA.bind(null,r),Yo:EA.bind(null,r),t_:TA.bind(null,r),J_:SA.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),sp(r)?ip(r):r.Va.set("Unknown")):(await r.ma.stop(),V0(r))}))),r.ma}function Mi(r){return r.fa||(r.fa=(function(t,i,o){const l=De(t);return l.sa(),new pA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:kA.bind(null,r),t_:AA.bind(null,r),ta:CA.bind(null,r),na:RA.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Wc(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Cs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new op(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(r,e){if(Br("AsyncQueue",`${e}: ${r}`),$o(r))return new me(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Wa(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Co;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.ga=new ut(_e.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ke(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Vo{constructor(e,t,i,o,l,c,f,y,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Vo(e,t,Co.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class NA{constructor(){this.queries=ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=De(t),l=o.queries;o.queries=ev(),l.forEach(((c,f)=>{for(const y of f.ba)y.onError(i)}))})(this,new me(J.ABORTED,"Firestore shutting down"))}}function ev(){return new As((r=>s0(r)),jc)}async function bA(r,e){const t=De(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.Da()&&(i=2):(l=new DA,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=ap(c,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&lp(t)}async function LA(r,e){const t=De(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?o=e.Da()?0:1:!l.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function OA(r,e){const t=De(r);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.ba)f.Fa(o)&&(i=!0);c.wa=o}}i&&lp(t)}function VA(r,e,t){const i=De(r),o=i.queries.get(e);if(o)for(const l of o.ba)l.onError(t);i.queries.delete(e)}function lp(r){r.Ca.forEach((e=>{e.next()}))}var hf,tv;(tv=hf||(hf={})).Ma="default",tv.Cache="cache";class jA{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Vo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.key=e}}class z0{constructor(e){this.key=e}}class MA{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=o0(e),this.tu=new Co(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new Zy,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const I=o.get(w),A=Mc(this.query,T)?T:null,W=!!I&&this.mutatedKeys.has(I.key),z=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;I&&A?I.data.isEqual(A.data)?W!==z&&(i.track({type:3,doc:A}),j=!0):this.su(I,A)||(i.track({type:2,doc:A}),j=!0,(y&&this.eu(A,y)>0||v&&this.eu(A,v)<0)&&(f=!0)):!I&&A?(i.track({type:0,doc:A}),j=!0):I&&!A&&(i.track({type:1,doc:I}),j=!0,(y||v)&&(f=!0)),j&&(A?(c=c.add(A),l=z?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{tu:c,iu:i,Ss:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,T)=>(function(A,W){const z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:j})}};return z(A)-z(W)})(w.type,T.type)||this.eu(w.doc,T.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,v=y!==this.Xa;return this.Xa=y,c.length!==0||v?{snapshot:new Vo(this.query,e.tu,l,c,e.mutatedKeys,y===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zy,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new z0(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new U0(i))})),t}cu(e){this.Za=e.ks,this.Ya=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const up="SyncEngine";class FA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UA{constructor(e){this.key=e,this.hu=!1}}class zA{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new As((f=>s0(f)),jc),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(_e.comparator),this.Au=new Map,this.Vu=new Xf,this.du={},this.mu=new Map,this.fu=Oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BA(r,e,t=!0){const i=K0(r);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await B0(i,e,t,!0),o}async function $A(r,e){const t=K0(r);await B0(t,e,!0,!1)}async function B0(r,e,t,i){const o=await sA(r.localStore,cr(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await WA(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&L0(r.remoteStore,o),f}async function WA(r,e,t,i,o){r.pu=(T,I,A)=>(async function(z,j,G,X){let Q=j.view.ru(G);Q.Ss&&(Q=await Ky(z.localStore,j.query,!1).then((({documents:P})=>j.view.ru(P,Q))));const se=X&&X.targetChanges.get(j.targetId),de=X&&X.targetMismatches.get(j.targetId)!=null,oe=j.view.applyChanges(Q,z.isPrimaryClient,se,de);return rv(z,j.targetId,oe.au),oe.snapshot})(r,T,I,A);const l=await Ky(r.localStore,e,!0),c=new MA(e,l.ks),f=c.ru(l.documents),y=wl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),v=c.applyChanges(f,r.isPrimaryClient,y);rv(r,t,v.au);const w=new FA(e,t,c);return r.Tu.set(e,w),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),v.snapshot}async function HA(r,e,t){const i=De(r),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((c=>!jc(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await uf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&np(i.remoteStore,o.targetId),df(i,o.targetId)})).catch(Bo)):(df(i,o.targetId),await uf(i.localStore,o.targetId,!0))}async function qA(r,e){const t=De(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),np(t.remoteStore,i.targetId))}async function KA(r,e,t){const i=e2(r);try{const o=await(function(c,f){const y=De(c),v=nt.now(),w=f.reduce(((A,W)=>A.add(W.key)),Fe());let T,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let W=$r(),z=Fe();return y.xs.getEntries(A,w).next((j=>{W=j,W.forEach(((G,X)=>{X.isValidDocument()||(z=z.add(G))}))})).next((()=>y.localDocuments.getOverlayedDocuments(A,W))).next((j=>{T=j;const G=[];for(const X of f){const Q=iR(X,T.get(X.key).overlayedDocument);Q!=null&&G.push(new Bi(X.key,Q,X_(Q.value.mapValue),kn.exists(!0)))}return y.mutationQueue.addMutationBatch(A,v,G,f)})).next((j=>{I=j;const G=j.applyToLocalDocumentSet(T,z);return y.documentOverlayCache.saveOverlays(A,j.batchId,G)}))})).then((()=>({batchId:I.batchId,changes:l0(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,f,y){let v=c.du[c.currentUser.toKey()];v||(v=new ut(Me)),v=v.insert(f,y),c.du[c.currentUser.toKey()]=v})(i,o.batchId,t),await Tl(i,o.changes),await Wc(i.remoteStore)}catch(o){const l=ap(o,"Failed to persist write");t.reject(l)}}async function $0(r,e){const t=De(r);try{const i=await nA(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?qe(c.hu,14607):o.removedDocuments.size>0&&(qe(c.hu,42227),c.hu=!1))})),await Tl(t,i,e)}catch(i){await Bo(i)}}function nv(r,e,t){const i=De(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(c,f){const y=De(c);y.onlineState=f;let v=!1;y.queries.forEach(((w,T)=>{for(const I of T.ba)I.va(f)&&(v=!0)})),v&&lp(y)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function GA(r,e,t){const i=De(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new ut(_e.comparator);c=c.insert(l,Kt.newNoDocument(l,Ae.min()));const f=Fe().add(l),y=new zc(Ae.min(),new Map,new ut(Me),c,f);await $0(i,y),i.Ru=i.Ru.remove(l),i.Au.delete(e),cp(i)}else await uf(i.localStore,e,!1).then((()=>df(i,e,t))).catch(Bo)}async function QA(r,e){const t=De(r),i=e.batch.batchId;try{const o=await tA(t.localStore,e);H0(t,i,null),W0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Tl(t,o)}catch(o){await Bo(o)}}async function YA(r,e,t){const i=De(r);try{const o=await(function(c,f){const y=De(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return y.mutationQueue.lookupMutationBatch(v,f).next((T=>(qe(T!==null,37113),w=T.keys(),y.mutationQueue.removeMutationBatch(v,T)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,f))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>y.localDocuments.getDocuments(v,w)))}))})(i.localStore,e);H0(i,e,t),W0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Tl(i,o)}catch(o){await Bo(o)}}function W0(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function H0(r,e,t){const i=De(r);let o=i.du[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function df(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||q0(r,i)}))}function q0(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(np(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),cp(r))}function rv(r,e,t){for(const i of t)i instanceof U0?(r.Vu.addReference(i.key,e),JA(r,i)):i instanceof z0?(ce(up,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||q0(r,i.key)):ke(19791,{wu:i})}function JA(r,e){const t=e.key,i=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(i)||(ce(up,"New document in limbo: "+t),r.Eu.add(i),cp(r))}function cp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new _e(tt.fromString(e)),i=r.fu.next();r.Au.set(i,new UA(t)),r.Ru=r.Ru.insert(t,i),L0(r.remoteStore,new ki(cr(qf(t.path)),i,"TargetPurposeLimboResolution",bc.ce))}}async function Tl(r,e,t){const i=De(r),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,y)=>{c.push(i.pu(y,e,t).then((v=>{var w;if((v||t)&&i.isPrimaryClient){const T=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(y.targetId))==null?void 0:w.current;i.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(v){o.push(v);const T=ep.Es(y.targetId,v);l.push(T)}})))})),await Promise.all(c),i.Pu.J_(o),await(async function(y,v){const w=De(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Y.forEach(v,(I=>Y.forEach(I.Ts,(A=>w.persistence.referenceDelegate.addReference(T,I.targetId,A))).next((()=>Y.forEach(I.Is,(A=>w.persistence.referenceDelegate.removeReference(T,I.targetId,A)))))))))}catch(T){if(!$o(T))throw T;ce(tp,"Failed to update sequence numbers: "+T)}for(const T of v){const I=T.targetId;if(!T.fromCache){const A=w.vs.get(I),W=A.snapshotVersion,z=A.withLastLimboFreeSnapshotVersion(W);w.vs=w.vs.insert(I,z)}}})(i.localStore,l))}async function XA(r,e){const t=De(r);if(!t.currentUser.isEqual(e)){ce(up,"User change. New user:",e.toKey());const i=await P0(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((y=>{y.reject(new me(J.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Tl(t,i.Ns)}}function ZA(r,e){const t=De(r),i=t.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let o=Fe();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function K0(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=$0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GA.bind(null,e),e.Pu.J_=OA.bind(null,e.eventManager),e.Pu.yu=VA.bind(null,e.eventManager),e}function e2(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YA.bind(null,e),e}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return eA(this.persistence,new JR,e.initialUser,this.serializer)}Cu(e){return new A0(Zf.Vi,this.serializer)}Du(e){return new aA}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class t2 extends Sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){qe(this.persistence.referenceDelegate instanceof Ec,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new VR(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new A0((i=>Ec.Vi(i,t)),this.serializer)}}class ff{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XA.bind(null,this.syncEngine),await PA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NA})()}createDatastore(e){const t=Bc(e.databaseInfo.databaseId),i=dA(e.databaseInfo);return yA(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,c,f){return new _A(i,o,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>nv(this.syncEngine,t,0)),(function(){return Yy.v()?new Yy:new lA})())}createSyncEngine(e,t){return(function(o,l,c,f,y,v,w){const T=new zA(o,l,c,f,y,v);return w&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=De(o);ce(Cs,"RemoteStore shutting down."),l.Ea.add(5),await El(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}ff.provider={build:()=>new ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="FirestoreClient";class r2{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=Ff.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ce(Fi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ce(Fi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ap(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function jd(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Fi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await P0(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function iv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await i2(r);ce(Fi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Xy(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Xy(e.remoteStore,o))),r._onlineComponents=e}async function i2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Fi,"Using user provided OfflineComponentProvider");try{await jd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Po("Error using user provided cache. Falling back to memory cache: "+t),await jd(r,new Sc)}}else ce(Fi,"Using default OfflineComponentProvider"),await jd(r,new t2(void 0));return r._offlineComponents}async function G0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Fi,"Using user provided OnlineComponentProvider"),await iv(r,r._uninitializedComponentsProvider._online)):(ce(Fi,"Using default OnlineComponentProvider"),await iv(r,new ff))),r._onlineComponents}function s2(r){return G0(r).then((e=>e.syncEngine))}async function o2(r){const e=await G0(r),t=e.eventManager;return t.onListen=BA.bind(null,e.syncEngine),t.onUnlisten=HA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$A.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=qA.bind(null,e.syncEngine),t}function a2(r,e,t={}){const i=new Di;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,y,v){const w=new n2({next:I=>{w.Nu(),c.enqueueAndForget((()=>LA(l,T)));const A=I.docs.has(f);!A&&I.fromCache?v.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&I.fromCache&&y&&y.source==="server"?v.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),T=new jA(qf(f.path),w,{includeMetadataChanges:!0,Ka:!0});return bA(l,T)})(await o2(r),r.asyncQueue,e,t,i))),i.promise}function l2(r,e){const t=new Di;return r.asyncQueue.enqueueAndForget((async()=>KA(await s2(r),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="ComponentProvider",sv=new Map;function c2(r,e,t,i,o){return new kC(r,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Q0(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="firestore.googleapis.com",ov=!0;class av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y0,this.ssl=ov}else this.host=e.host,this.ssl=e.ssl??ov;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LR)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q0(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new sC;switch(i.type){case"firstParty":return new uC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=sv.get(t);i&&(ce(u2,"Removing Datastore"),sv.delete(t),i.terminate())})(this),Promise.resolve()}}function h2(r,e,t,i={}){var v;r=No(r,Hc);const o=Mo(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;o&&(Qv(`https://${f}`),Yv("Firestore",!0)),l.host!==Y0&&l.host!==f&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:f,ssl:o,emulatorOptions:i};if(!Ss(y,c)&&(r._setSettings(y),i.mockUserToken)){let w,T;if(typeof i.mockUserToken=="string")w=i.mockUserToken,T=qt.MOCK_USER;else{w=RS(i.mockUserToken,(v=r._app)==null?void 0:v.options.projectId);const I=i.mockUserToken.sub||i.mockUserToken.user_id;if(!I)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new qt(I)}r._authCredentials=new oC(new U_(w,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new hp(this.firestore,e,this._query)}}class xt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(vl(t,xt._jsonSchema))return new xt(e,i||null,new _e(tt.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Et("string",xt._jsonSchemaVersion),referencePath:Et("string")};class Ni extends hp{constructor(e,t,i){super(e,t,qf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new _e(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function d2(r,e,...t){if(r=Mt(r),z_("collection","path",e),r instanceof Hc){const i=tt.fromString(e,...t);return Ey(i),new Ni(r,null,i)}{if(!(r instanceof xt||r instanceof Ni))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(tt.fromString(e,...t));return Ey(i),new Ni(r.firestore,null,i)}}function dp(r,e,...t){if(r=Mt(r),arguments.length===1&&(e=Ff.newId()),z_("doc","path",e),r instanceof Hc){const i=tt.fromString(e,...t);return wy(i),new xt(r,null,new _e(i))}{if(!(r instanceof xt||r instanceof Ni))throw new me(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(tt.fromString(e,...t));return wy(i),new xt(r.firestore,r instanceof Ni?r.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="AsyncQueue";class uv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N0(this,"async_queue_retry"),this._c=()=>{const i=Vd();i&&ce(lv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Vd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Vd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Di;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;ce(lv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Br("INTERNAL UNHANDLED ERROR: ",cv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=op.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&ke(47125,{Pc:cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function cv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class qc extends Hc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new uv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uv(e),this._firestoreClient=void 0,await e}}}function f2(r,e){const t=typeof r=="object"?r:e_(),i=typeof r=="string"?r:pc,o=Cf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=kS("firestore");l&&h2(o,...l)}return o}function fp(r){if(r._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||p2(r),r._firestoreClient}function p2(r){var i,o,l,c;const e=r._freezeSettings(),t=c2(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new r2(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Ft.fromBase64String(e))}catch(t){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vl(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Et("string",xn._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(vl(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:Et("string",dr._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vl(e,$n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new $n(e.vectorValues);throw new me(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:Et("string",$n._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=/^__.*__$/;class g2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new _l(e,this.data,t,this.fieldTransforms)}}class J0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function X0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{dataSource:r})}}class gp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ic(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(X0(this.dataSource)&&m2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class y2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Bc(e)}createContext(e,t,i,o=!1){return new gp({dataSource:e,methodName:t,targetDoc:i,path:jt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Z0(r){const e=r._freezeSettings(),t=Bc(r._databaseId);return new y2(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ew(r,e,t,i,o,l={}){const c=r.createContext(l.merge||l.mergeFields?2:0,e,t,o);yp("Data must be an object, but it was:",c,i);const f=tw(i,c);let y,v;if(l.merge)y=new mn(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const I=ul(e,T,t);if(!c.contains(I))throw new me(J.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);iw(w,I)||w.push(I)}y=new mn(w),v=c.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,v=c.fieldTransforms;return new g2(new sn(f),y,v)}class Kc extends mp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kc}}function v2(r,e,t,i){const o=r.createContext(1,e,t);yp("Data must be an object, but it was:",o,i);const l=[],c=sn.empty();zi(i,((y,v)=>{const w=rw(e,y,t);v=Mt(v);const T=o.childContextForFieldPath(w);if(v instanceof Kc)l.push(w);else{const I=Gc(v,T);I!=null&&(l.push(w),c.set(w,I))}}));const f=new mn(l);return new J0(c,f,o.fieldTransforms)}function _2(r,e,t,i,o,l){const c=r.createContext(1,e,t),f=[ul(e,i,t)],y=[o];if(l.length%2!=0)throw new me(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)f.push(ul(e,l[I])),y.push(l[I+1]);const v=[],w=sn.empty();for(let I=f.length-1;I>=0;--I)if(!iw(v,f[I])){const A=f[I];let W=y[I];W=Mt(W);const z=c.childContextForFieldPath(A);if(W instanceof Kc)v.push(A);else{const j=Gc(W,z);j!=null&&(v.push(A),w.set(A,j))}}const T=new mn(v);return new J0(w,T,c.fieldTransforms)}function Gc(r,e){if(nw(r=Mt(r)))return yp("Unsupported field value:",e,r),tw(r,e);if(r instanceof mp)return(function(i,o){if(!X0(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const l=[];let c=0;for(const f of i){let y=Gc(f,o.childContextForArray(c));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=Mt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=nt.fromDate(i);return{timestampValue:wc(o.serializer,l)}}if(i instanceof nt){const l=new nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wc(o.serializer,l)}}if(i instanceof dr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof xn)return{bytesValue:w0(o.serializer,i._byteString)};if(i instanceof xt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof $n)return(function(c,f){const y=c instanceof $n?c.toArray():c;return{mapValue:{fields:{[Y_]:{stringValue:J_},[mc]:{arrayValue:{values:y.map((w=>{if(typeof w!="number")throw f.createError("VectorValues must only contain numeric values.");return Kf(f.serializer,w)}))}}}}}})(i,o);if(C0(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Uf(i)}`)})(r,e)}function tw(r,e){const t={};return W_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(r,((i,o)=>{const l=Gc(o,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function nw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof dr||r instanceof xn||r instanceof xt||r instanceof mp||r instanceof $n||C0(r))}function yp(r,e,t){if(!nw(t)||!B_(t)){const i=Uf(t);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function ul(r,e,t){if((e=Mt(e))instanceof pp)return e._internalPath;if(typeof e=="string")return rw(r,e);throw Ic("Field path arguments must be of type string or ",r,!1,void 0,t)}const w2=new RegExp("[~\\*/\\[\\]]");function rw(r,e,t){if(e.search(w2)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new pp(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ic(r,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(l||c)&&(y+=" (found",l&&(y+=` in field ${i}`),c&&(y+=` in document ${o}`),y+=")"),new me(J.INVALID_ARGUMENT,f+r+y)}function iw(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{convertValue(e,t="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return zi(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[mc].arrayValue)==null?void 0:o.values)==null?void 0:l.map((c=>mt(c.doubleValue)));return new $n(t)}convertGeoPoint(e){return new dr(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Oc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const t=Oi(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=tt.fromString(e);qe(k0(i),9688,{name:e});const o=new sl(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return o.isEqual(t)||Br(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2 extends E2{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}const hv="@firebase/firestore",dv="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(ul("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class S2 extends sw{data(){return super.data()}}function ow(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends sw{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ul("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ts._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:Et("string",Ts._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class rc extends Ts{data(e={}){return super.data(e)}}class Za{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new qa(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new rc(this._firestore,this._userDataWriter,i.key,i,new qa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((f=>{const y=new rc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:y,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const y=new rc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return f.type!==0&&(v=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:I2(f.type),doc:y,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ff.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Et("string",Za._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Z0(e)}set(e,t,i){this._verifyNotCommitted();const o=Md(e,this._firestore),l=ow(o.converter,t,i),c=ew(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,i);return this._mutations.push(c.toMutation(o._key,kn.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const l=Md(e,this._firestore);let c;return c=typeof(t=Mt(t))=="string"||t instanceof pp?_2(this._dataReader,"WriteBatch.update",l._key,t,i,o):v2(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,kn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Md(e,this._firestore);return this._mutations=this._mutations.concat(new Gf(t._key,kn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Md(r,e){if((r=Mt(r)).firestore!==e)throw new me(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r){r=No(r,xt);const e=No(r.firestore,qc),t=fp(e);return a2(t,r._key).then((i=>C2(e,r,i)))}function aw(r,e,t){r=No(r,xt);const i=No(r.firestore,qc),o=ow(r.converter,e,t),l=Z0(i);return lw(i,[ew(l,"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,kn.none())])}function lw(r,e){const t=fp(r);return l2(t,e)}function C2(r,e,t){const i=t.docs.get(e._key),o=new T2(r);return new Ts(r,o,e._key,i,new qa(t.hasPendingWrites,t.fromCache),e.converter)}function R2(r){return r=No(r,qc),fp(r),new x2(r,(e=>lw(r,e)))}(function(e,t=!0){iC(Fo),Ro(new Is("firestore",((i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new qc(new aC(i.getProvider("auth-internal")),new cC(c,i.getProvider("app-check-internal")),CC(c,o),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ai(hv,dv,e),Ai(hv,dv,"esm2020")})();const A2={apiKey:"AIzaSyCO5r-8hPDpEJD2qY2llWyf_gAQXVlu4CU",authDomain:"stop-procrastinating-9ffaf.firebaseapp.com",projectId:"stop-procrastinating-9ffaf",storageBucket:"stop-procrastinating-9ffaf.firebasestorage.app",messagingSenderId:"270312713724",appId:"1:270312713724:web:98e212793206ff87511679",measurementId:"G-KYLVPZXV20"},uw=Zv(A2),Wr=nC(uw),P2=new Or,xc=f2(uw),ae={USER_MOOD:"sp_user_mood",TASKS:"sp_tasks",SCHEDULED_TASKS:"sp_scheduled_tasks",DISTRACTION_LOGS:"sp_distraction_logs",WORK_LOGS:"sp_work_logs",REFLECTIONS:"sp_daily_reflections",USER_STATS:"sp_user_stats",EVENT_LOG:"sp_event_log"},cw=async(r,e,t=!1)=>{const i=Wr.currentUser;if(i)try{const o=dp(xc,"users",i.uid);t||window.dispatchEvent(new CustomEvent("sp-sync-start"));const c={[ae.TASKS]:"tasks",[ae.SCHEDULED_TASKS]:"scheduled",[ae.REFLECTIONS]:"reflections",[ae.USER_STATS]:"stats",[ae.USER_MOOD]:"mood",[ae.DISTRACTION_LOGS]:"distractions",[ae.WORK_LOGS]:"work_logs"}[r];if(c){const f=typeof e=="object"?JSON.stringify(e):e;await aw(o,{[c]:f},{merge:!0}),console.log(`Synced ${r} to cloud.`),t||window.dispatchEvent(new CustomEvent("sp-sync-success"))}}catch(o){console.error("Cloud sync failed:",o),t||window.dispatchEvent(new CustomEvent("sp-sync-error",{detail:o}))}},xe=(r,e=null)=>{try{const t=localStorage.getItem(r);return t?JSON.parse(t):e}catch(t){return console.error(`Error reading ${r} from storage:`,t),e}},wt=(r,e)=>{try{localStorage.setItem(r,JSON.stringify(e)),cw(r,e)}catch(t){console.error(`Error writing ${r} to storage:`,t)}},hw=()=>{const r=new Date().toDateString();let e=xe(ae.USER_STATS,{totalPoints:0,currentStreak:0,longestStreak:0,lastActiveDate:null});if(e.lastActiveDate!==r){const t=new Date;t.setDate(t.getDate()-1),e.lastActiveDate===t.toDateString()?e.currentStreak+=1:e.lastActiveDate===null?e.currentStreak=1:e.currentStreak+=1,e.currentStreak>e.longestStreak&&(e.longestStreak=e.currentStreak),e.lastActiveDate=r,wt(ae.USER_STATS,e)}return e},pf=r=>{let e=xe(ae.USER_STATS,{totalPoints:0,currentStreak:0,longestStreak:0,lastActiveDate:null});return e.totalPoints+=r,wt(ae.USER_STATS,e),e},dw=()=>{Object.values(ae).forEach(r=>{localStorage.removeItem(r)}),localStorage.removeItem("sp_user_name")},D2=async()=>{if(Wr.currentUser){window.dispatchEvent(new CustomEvent("sp-sync-start"));try{const e=Object.values(ae).map(async t=>{const i=xe(t);i!==null&&await cw(t,i,!0)});return await Promise.all(e),window.dispatchEvent(new CustomEvent("sp-sync-success")),!0}catch(e){return console.error("Force sync failed:",e),window.dispatchEvent(new CustomEvent("sp-sync-error",{detail:e})),!1}}},fw=O.createContext(),pw=()=>O.useContext(fw),N2=({children:r})=>{const[e,t]=O.useState(()=>{try{return localStorage.getItem("sp_theme")||"light"}catch{return"light"}});O.useEffect(()=>{const o=document.documentElement;e==="dark"?o.setAttribute("data-theme","dark"):o.removeAttribute("data-theme"),localStorage.setItem("sp_theme",e)},[e]);const i=()=>{t(o=>o==="light"?"dark":"light")};return g.jsx(fw.Provider,{value:{theme:e,toggleTheme:i},children:r})},Dt=({children:r})=>{const e=Ui(),t=xe(ae.USER_STATS,{totalPoints:0,currentStreak:0}),[i,o]=O.useState(null),{theme:l,toggleTheme:c}=pw();return O.useEffect(()=>{const f=Wx(Wr,y=>{o(y)});return()=>f()},[]),g.jsxs("div",{className:"layout-wrapper",style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[g.jsxs("header",{style:{padding:"1rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",background:"var(--header-bg)",color:"var(--color-text-primary)"},children:[g.jsx(vs,{to:"/",style:{textDecoration:"none",color:"var(--color-primary)",fontWeight:"bold"},children:"Stop Procrastinating"}),g.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",fontSize:"0.875rem"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[g.jsx("span",{role:"img","aria-label":"streak",children:""}),g.jsxs("span",{children:[t.currentStreak," Days"]})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[g.jsx("span",{role:"img","aria-label":"points",children:""}),g.jsxs("span",{children:[t.totalPoints," pts"]})]}),g.jsx(vs,{to:"/settings",style:{color:"var(--color-primary)",display:"flex",alignItems:"center"},children:g.jsx(ZT,{size:20})}),g.jsx("button",{onClick:c,style:{background:"none",border:"none",cursor:"pointer",color:"var(--color-primary)",display:"flex",alignItems:"center",padding:"0.25rem"},"aria-label":"Toggle Theme",children:l==="light"?g.jsx(Sf,{size:20}):g.jsx(If,{size:20})}),i?g.jsx(vs,{to:"/settings",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginLeft:"0.5rem",textDecoration:"none",color:"inherit"},children:i.photoURL?g.jsx("img",{src:i.photoURL,alt:"User",style:{width:"28px",height:"28px",borderRadius:"50%",objectFit:"cover"}}):g.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(99, 102, 241, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-primary)"},children:g.jsx(zv,{size:16})})}):g.jsxs(vs,{to:"/signin",style:{display:"flex",alignItems:"center",gap:"0.25rem",textDecoration:"none",color:"var(--color-primary)",marginLeft:"0.5rem"},children:[g.jsx(jv,{size:18}),g.jsx("span",{children:"Sign In"})]})]})]}),g.jsx("main",{style:{flex:1,paddingBottom:"2rem"},children:r}),g.jsxs("nav",{style:{position:"fixed",bottom:0,left:0,width:"100%",background:"var(--nav-bg)",borderTop:"1px solid var(--border-color)",display:"flex",justifyContent:"space-around",padding:"0.75rem 0",zIndex:100},children:[g.jsx(Ba,{to:"/",icon:g.jsx(FT,{size:20}),label:"Home",active:e.pathname==="/"||e.pathname==="/mood"}),g.jsx(Ba,{to:"/schedule",icon:g.jsx(Ef,{size:20}),label:"Tasks",active:e.pathname==="/schedule"}),g.jsx(Ba,{to:"/limit",icon:g.jsx(Fv,{size:20}),label:"Limit",active:e.pathname==="/limit"}),g.jsx(Ba,{to:"/reflect",icon:g.jsx(IT,{size:20}),label:"Reflect",active:e.pathname==="/reflect"}),g.jsx(Ba,{to:"/analysis",icon:g.jsx(uS,{size:20}),label:"Analysis",active:e.pathname==="/analysis"})]}),g.jsx("div",{style:{height:"70px"}})]})},Ba=({to:r,icon:e,label:t,active:i})=>g.jsxs(vs,{to:r,style:{display:"flex",flexDirection:"column",alignItems:"center",textDecoration:"none",color:i?"var(--color-primary)":"var(--color-text-secondary)",fontSize:"0.75rem"},children:[e,g.jsx("span",{style:{marginTop:"0.25rem"},children:t})]}),b2=(r,e)=>{const t={morning:{attempts:0,completed:0,totalMinutes:0,score:0},afternoon:{attempts:0,completed:0,totalMinutes:0,score:0},evening:{attempts:0,completed:0,totalMinutes:0,score:0},night:{attempts:0,completed:0,totalMinutes:0,score:0}},i=o=>{const l=new Date(o).getHours();return l>=5&&l<12?"morning":l>=12&&l<17?"afternoon":l>=17&&l<21?"evening":"night"};return r.forEach(o=>{if(!o.completedAt)return;const l=i(o.completedAt);t[l].attempts++,t[l].completed++,t[l].totalMinutes+=parseInt(o.timeTaken)||0}),e.forEach(o=>{const l=i(o.date);t[l].attempts++,t[l].completed++,t[l].totalMinutes+=parseInt(o.duration)||0}),Object.keys(t).forEach(o=>{const l=t[o];l.score=l.totalMinutes+l.completed*10}),t},L2=r=>{const e={},t={morning:0,afternoon:0,evening:0,night:0};return r.forEach(o=>{e[o.app]=(e[o.app]||0)+1;const l=new Date(o.date).getHours();let c="night";l>=5&&l<12?c="morning":l>=12&&l<17?c="afternoon":l>=17&&l<21&&(c="evening"),t[c]++}),{sortedTriggers:Object.entries(e).sort(([,o],[,l])=>l-o).map(([o,l])=>({app:o,count:l})),timePatterns:t}},mw=()=>{const r=xe(ae.TASKS,[]),e=xe(ae.SCHEDULED_TASKS,[]),t=xe(ae.WORK_LOGS,[]),i=xe(ae.DISTRACTION_LOGS,[]),o=[...r,...e],l=b2(o,t),{sortedTriggers:c,timePatterns:f}=L2(i),y=[];let v="morning",w=-1;if(Object.entries(l).forEach(([T,I])=>{I.score>w&&(w=I.score,v=T)}),w>50&&y.push({type:"productivity",text:`You are naturally most productive in the **${v}**. Schedule your hardest tasks then! `,score:w}),c.length>0){const T=c[0];let I="night",A=-1;Object.entries(f).forEach(([W,z])=>{z>A&&(A=z,I=W)}),A>2&&y.push({type:"warning",text:`Watch out for **${T.app}** in the ${I}. It's your top distraction. `,score:A*10})}return y.length===0?{type:"neutral",text:"Keep logging work to unlock Smart Insights! "}:y[0]},O2=()=>{const r=An(),[e,t]=O.useState("Friend"),[i,o]=O.useState(0),[l,c]=O.useState(0),[f,y]=O.useState("Start your day!"),[v,w]=O.useState(null),[T,I]=O.useState([]),[A,W]=O.useState(null);return O.useEffect(()=>{t(xe(ae.USER_NAME,"Friend"));const z=xe(ae.USER_STATS,{currentStreak:0,totalPoints:0});o(z.currentStreak),c(z.totalPoints);const j=()=>{new Date().setHours(0,0,0,0);const Q=xe(ae.DISTRACTION_LOGS,[]).filter(Se=>new Date(Se.date).toDateString()===new Date().toDateString()),se=Q.reduce((Se,it)=>Se+parseInt(it.duration||0),0),de=Q.length,oe={};Q.forEach(Se=>{oe[Se.app]=(oe[Se.app]||0)+parseInt(Se.duration||0)});const P=Object.entries(oe).sort(([,Se],[,it])=>it-Se).slice(0,3).map(([Se,it])=>({name:Se,duration:it}));I(P);const S=xe(ae.TASKS,[]),k=xe(ae.SCHEDULED_TASKS,[]),D=S.filter(Se=>Se.completed&&Se.completedAt&&new Date(Se.completedAt).toDateString()===new Date().toDateString()),N=k.filter(Se=>Se.completed&&Se.completedAt&&new Date(Se.completedAt).toDateString()===new Date().toDateString()),M=[...D,...N],R=M.reduce((Se,it)=>Se+(parseInt(it.timeTaken)||0),0),Le=xe(ae.WORK_LOGS,[]).filter(Se=>new Date(Se.date).toDateString()===new Date().toDateString()),rt=Le.reduce((Se,it)=>Se+parseInt(it.duration||0),0),Ke=R+rt,re=M.length,ge=M.reduce((Se,it)=>{if(it.pointsEarned!==void 0)return Se+it.pointsEarned;const $i=parseInt(it.timeTaken)||0;return Se+10+$i},0),q=Le.reduce((Se,it)=>Se+parseInt(it.duration||0),0),L=ge+q;let K=0,ve=0;const le=Ke+se;let we="Ready to start?";if(le>0){const Se=Math.round(se/le*100);ve=Se,K=100-Se,K>=80?we="You are on fire!  Highly Focused.":K>=50?we="Good flow. Keep working! ":K>=30?we="Distractions are creeping in. ":we="Procrastination is winning. Fight back! "}y(we);const Ve=xe(ae.REFLECTIONS,[]).sort((Se,it)=>new Date(it.date)-new Date(Se.date))[0],Ge=Ve?Ve.tomorrowGoal:null;W({date:new Date().toISOString(),workScore:K,procrastinationScore:ve,tasksDoneCount:re,pointsScored:L,distractionTime:se,distractionCount:de,tomorrowGoal:Ge,isLive:!0})},G=mw();w(G),j()},[]),g.jsx(Dt,{children:g.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"2rem"},children:[g.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"0.5rem",background:"linear-gradient(135deg, #6366f1 0%, #a855f7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Stop Procrastinating"}),g.jsx("p",{style:{fontSize:"1.2rem",color:"var(--color-text-secondary)",marginBottom:"2rem"},children:"Start small. Be kind to yourself."}),g.jsxs("div",{className:"card",style:{textAlign:"left",marginBottom:"2rem"},children:[g.jsxs("h3",{style:{margin:"0 0 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx(fS,{className:"text-secondary",size:20}),"Your Progress"]}),g.jsx("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-md)",fontWeight:"500",color:"var(--color-primary)"},children:f}),v&&v.type!=="neutral"&&g.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:v.type==="warning"?"#fef2f2":"#f0f9ff",borderRadius:"var(--radius-md)",border:v.type==="warning"?"1px solid #fecaca":"1px solid #bae6fd",fontSize:"0.9rem",display:"flex",gap:"0.5rem",alignItems:"start"},children:[g.jsx(Rc,{size:16,style:{marginTop:"2px",color:v.type==="warning"?"#ef4444":"#0284c7"}}),g.jsx("span",{style:{color:v.type==="warning"?"#b91c1c":"#0369a1"},children:v.text.replace(/\*\*/g,"")})]}),g.jsxs("ul",{style:{paddingLeft:"1.5rem",color:"var(--color-text-secondary)",lineHeight:"1.6",marginBottom:"1rem"},children:[g.jsxs("li",{children:[g.jsx("strong",{children:i})," Total Days Active"]}),g.jsxs("li",{children:[g.jsx("strong",{children:l})," Focus Points"]})]}),T.length>0&&g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"var(--color-text-primary)"},children:"Top Distractions Today:"}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.5rem"},children:T.map((z,j)=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fef2f2",padding:"0.5rem 0.75rem",borderRadius:"0.5rem",border:"1px solid #fecaca"},children:[g.jsx("span",{style:{color:"#ef4444",fontWeight:"500"},children:z.name}),g.jsxs("span",{style:{fontWeight:"bold",color:"#b91c1c"},children:[z.duration,"m"]})]},j))})]})]}),g.jsx("div",{style:{marginTop:"2rem"},children:g.jsxs("button",{className:"btn-primary",onClick:()=>r("/mood"),children:["Get Started ",g.jsx(vT,{size:18,style:{marginLeft:"0.5rem"}})]})}),A&&g.jsxs("div",{style:{marginTop:"3rem",textAlign:"left"},children:[g.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-text-secondary)"},children:[g.jsx(mT,{size:18}),"Today's Live Snapshot"]}),g.jsxs("div",{className:"card",children:[g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.9rem"},children:[g.jsxs("span",{style:{color:"#15803d",fontWeight:"bold"},children:["Work ",A.workScore,"%"]}),g.jsxs("span",{style:{color:"#b91c1c",fontWeight:"bold"},children:["Procrastinate ",A.procrastinationScore,"%"]})]}),g.jsxs("div",{style:{height:"8px",background:"#e2e8f0",borderRadius:"4px",overflow:"hidden",display:"flex"},children:[g.jsx("div",{style:{width:`${A.workScore}%`,background:"#22c55e"}}),g.jsx("div",{style:{width:`${A.procrastinationScore}%`,background:"#ef4444"}})]})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem",paddingBottom:"1.5rem",borderBottom:"1px solid #f1f5f9"},children:[g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-primary)"},children:A.tasksDoneCount||0}),g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-secondary)"},children:"Tasks Done"})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-warning)"},children:A.pointsScored||0}),g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-secondary)"},children:"Points Scored"})]})]}),g.jsxs("div",{style:{display:"flex",gap:"2rem",marginBottom:"1.5rem"},children:[g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:"Distractions"}),g.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:[A.distractionTime||0,"m"]})]}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:"Count"}),g.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:A.distractionCount||0})]})]}),A.tomorrowGoal&&g.jsxs("div",{style:{padding:"1rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-md)"},children:[g.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-primary)",display:"flex",alignItems:"center",gap:"0.25rem",marginBottom:"0.25rem"},children:[g.jsx(Ef,{size:14}),new Date(A.date).toDateString()===new Date().toDateString()?"Goal for Tomorrow":"Target set for Today"]}),g.jsx("div",{style:{fontWeight:500},children:A.tomorrowGoal})]})]})]})]})})},V2=(r,e={})=>{const t=new Date;let i="night";if(e.overrideTimeOfDay)i=e.overrideTimeOfDay;else{const f=t.getHours();f>=5&&f<12?i="morning":f>=12&&f<17?i="afternoon":f>=17&&f<21&&(i="evening")}const{overrideTimeOfDay:o,...l}=e,c=xe(ae.USER_MOOD,"neutral");return{event_id:crypto.randomUUID(),user_id:Wr.currentUser?Wr.currentUser.uid:"local_user",timestamp:t.toISOString(),date:t.toISOString().split("T")[0],time_of_day:i,event_type:r,mood_before:c,payload:l,synced:!1}},Ho=(r,e)=>{const t=V2(r,e),i=xe(ae.EVENT_LOG,[]);i.push(t),wt(ae.EVENT_LOG,i),j2()},j2=async()=>{const r=Wr.currentUser;if(!r)return;const e=xe(ae.EVENT_LOG,[]),t=e.filter(i=>!i.synced);if(t.length!==0)try{const i=R2(xc),o=d2(xc,"users",r.uid,"events");t.forEach(c=>{const f=dp(o,c.event_id),{synced:y,...v}=c;i.set(f,v)}),await i.commit();const l=e.map(c=>t.find(f=>f.event_id===c.event_id)?{...c,synced:!0}:c);wt(ae.EVENT_LOG,l),console.log(`Synced ${t.length} events to cloud.`)}catch(i){console.error("Failed to sync events:",i)}},M2=()=>{const r=An(),e=[{id:"focused",label:"Focused",icon:g.jsx(Rc,{size:32}),color:"var(--color-success)",desc:"I'm ready to tackle something big."},{id:"low-energy",label:"Low Energy",icon:g.jsx(wT,{size:32}),color:"var(--color-warning)",desc:"I need something small and easy."},{id:"bored",label:"Bored",icon:g.jsx(VT,{size:32}),color:"var(--color-text-accent)",desc:"I need to get interested."}],t=i=>{wt(ae.USER_MOOD,i),Ho("mood_update",{mood:i}),r("/tasks")};return g.jsx(Dt,{children:g.jsxs("div",{className:"container",children:[g.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem"},children:"How are you feeling right now?"}),g.jsx("div",{style:{display:"grid",gap:"1rem"},children:e.map(i=>g.jsxs("button",{onClick:()=>t(i.id),className:"card",style:{display:"flex",alignItems:"center",gap:"1rem",textAlign:"left",width:"100%",border:"1px solid transparent",cursor:"pointer",transition:"transform 0.2s, border-color 0.2s"},onMouseEnter:o=>{o.currentTarget.style.transform="scale(1.02)",o.currentTarget.style.borderColor=i.color},onMouseLeave:o=>{o.currentTarget.style.transform="scale(1)",o.currentTarget.style.borderColor="transparent"},children:[g.jsx("div",{style:{color:i.color},children:i.icon}),g.jsxs("div",{children:[g.jsx("strong",{style:{display:"block",fontSize:"1.1rem"},children:i.label}),g.jsx("span",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)"},children:i.desc})]})]},i.id))})]})})},F2=()=>{const r=An(),[e,t]=O.useState([]),[i,o]=O.useState(null),[l,c]=O.useState([]);return O.useEffect(()=>{const f=xe(ae.USER_MOOD);o(f);const v=xe(ae.TASKS,[]).filter(A=>{var W;return!A.completed&&(((W=A.moods)==null?void 0:W.includes(f))||!A.moods||A.moods.length===0)});t(v);const w=xe(ae.SCHEDULED_TASKS,[]),T=new Date().setHours(0,0,0,0),I=w.filter(A=>{const W=new Date(A.startDate).setHours(0,0,0,0),z=new Date(A.dueDate).setHours(0,0,0,0);return!A.completed&&T>=W&&T<=z});c(I)},[]),g.jsx(Dt,{children:g.jsxs("div",{className:"container",children:[g.jsxs("button",{onClick:()=>r("/schedule"),style:{background:"transparent",border:"none",color:"var(--color-primary)",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0",fontSize:"1rem",cursor:"pointer",marginBottom:"1rem"},children:[g.jsx(bi,{size:20})," Back"]}),l.length>0&&g.jsxs("div",{style:{background:"var(--color-bg-accent)",padding:"1rem",borderRadius:"var(--radius-md)",marginBottom:"1.5rem",border:"1px solid var(--color-primary)"},children:[g.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"start",color:"var(--color-primary)",marginBottom:"0.5rem"},children:[g.jsx(Tf,{size:20,style:{marginTop:"0.1rem"}}),g.jsxs("strong",{style:{display:"block"},children:["Daily Commitments (",l.length,")"]})]}),l.map(f=>g.jsx("div",{style:{marginLeft:"1.75rem",marginBottom:"0.5rem",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.5rem"},children:g.jsxs("span",{style:{color:"var(--color-text-primary)"},children:["Planned to work on ",g.jsx("strong",{children:f.workToComplete})," for the ",g.jsx("strong",{children:f.name}),"."]})},f.id))]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[g.jsx("h2",{children:"Suggested for You"}),g.jsxs("button",{className:"btn-primary",style:{padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},onClick:()=>r("/add-task"),children:[g.jsx(Bd,{size:18})," Add Task"]})]}),e.length===0?g.jsxs("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",padding:"2rem"},children:[g.jsxs("p",{children:["No tasks fit your current mood (",i,")."]}),g.jsx("p",{children:"Why not add a small one?"})]}):g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:e.map(f=>g.jsxs("div",{className:"card",children:[g.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:g.jsxs("div",{children:[g.jsx("h3",{style:{margin:"0 0 0.25rem",fontSize:"1.25rem"},children:f.title}),g.jsxs("p",{style:{fontSize:"0.9rem",marginBottom:"0.5rem"},children:[g.jsx("strong",{children:"Start with:"})," ",f.smallStep]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-secondary)"},children:[g.jsx(PT,{size:16})," ",f.time]})]})}),g.jsx("div",{style:{marginTop:"1rem",textAlign:"right"},children:g.jsx("button",{className:"btn-primary",style:{background:"var(--color-success)",fontSize:"0.9rem"},onClick:()=>r(`/complete/${f.id}`),children:"Task Done (Add Proof)"})})]},f.id))})]})})},U2=()=>{const r=An(),[e,t]=O.useState({title:"",smallStep:"",time:"15 mins",moods:[]}),i=[{id:"focused",label:"Focused"},{id:"low-energy",label:"Low Energy"},{id:"bored",label:"Bored"}],o=c=>{c.preventDefault();const f=xe(ae.TASKS,[]),y={id:Date.now().toString(),...e,completed:!1,createdAt:new Date().toISOString()};wt(ae.TASKS,[y,...f]),Ho("task_create",{task_id:y.id,title:y.title,expected_time:e.time}),r("/tasks")},l=c=>{t(f=>{const y=f.moods.includes(c)?f.moods.filter(v=>v!==c):[...f.moods,c];return{...f,moods:y}})};return g.jsx(Dt,{children:g.jsxs("div",{className:"container",children:[g.jsxs("button",{onClick:()=>r("/schedule"),style:{background:"transparent",border:"none",color:"var(--color-primary)",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0",fontSize:"1rem",cursor:"pointer",marginBottom:"1rem"},children:[g.jsx(bi,{size:20})," Back"]}),g.jsx("h2",{children:"Add a New Task"}),g.jsxs("form",{onSubmit:o,className:"card",children:[g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"Task Name"}),g.jsx("input",{required:!0,value:e.title,onChange:c=>t({...e,title:c.target.value}),placeholder:"e.g. Study Math"})]}),g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"Small First Step (Crucial!)"}),g.jsx("input",{required:!0,value:e.smallStep,onChange:c=>t({...e,smallStep:c.target.value}),placeholder:"e.g. Open the textbook to page 50"}),g.jsx("small",{style:{color:"var(--color-text-secondary)"},children:"Just write what you will do in the first 2 minutes."})]}),g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"Expected Time (Minutes)"}),g.jsx("input",{type:"number",required:!0,value:e.time,onChange:c=>t({...e,time:c.target.value}),placeholder:"e.g. 30"})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{children:"Best for Mood (Optional)"}),g.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:i.map(c=>g.jsx("button",{type:"button",onClick:()=>l(c.id),style:{padding:"0.5rem 1rem",borderRadius:"var(--radius-full)",border:"1px solid var(--color-primary)",background:e.moods.includes(c.id)?"var(--color-primary)":"transparent",color:e.moods.includes(c.id)?"white":"var(--color-primary)",fontSize:"0.85rem"},children:c.label},c.id))})]}),g.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%"},children:"Save Task"})]})]})})},vp=({value:r,onChange:e})=>g.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:[["15","30","45","60"].map(t=>g.jsxs("button",{type:"button",onClick:()=>e(t),style:{padding:"0.5rem 1rem",borderRadius:"2rem",border:"1px solid var(--color-primary)",background:r===t?"var(--color-primary)":"transparent",color:r===t?"white":"var(--color-primary)",cursor:"pointer",transition:"all 0.2s"},children:[t,"m"]},t)),g.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Custom (max 600)",value:r,onChange:t=>{const i=t.target.value;(i===""||/^\d+$/.test(i)&&parseInt(i,10)<=600)&&e(i)},style:{width:"120px",padding:"0.5rem",borderRadius:"var(--radius-md)",border:"1px solid #cbd5e1",outlineColor:"var(--color-primary)"}})]}),_p=({value:r,onChange:e})=>{const t=[{id:"morning",label:"Morning",icon:g.jsx(If,{size:20}),color:"#f59e0b"},{id:"afternoon",label:"Afternoon",icon:g.jsx(NT,{size:20}),color:"#ea580c"},{id:"evening",label:"Evening",icon:g.jsx(rS,{size:20}),color:"#7c3aed"},{id:"night",label:"Night",icon:g.jsx(Sf,{size:20}),color:"#1e293b"}];return g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"var(--color-text-secondary)"},children:"When did this happen?"}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem"},children:t.map(i=>g.jsxs("button",{type:"button",onClick:()=>e(i.id),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.25rem",padding:"0.75rem 0.25rem",borderRadius:"var(--radius-md)",border:`1px solid ${r===i.id?i.color:"transparent"}`,background:r===i.id?`${i.color}15`:"var(--color-bg-secondary)",color:r===i.id?i.color:"var(--color-text-secondary)",cursor:"pointer",transition:"all 0.2s"},children:[i.icon,g.jsx("span",{style:{fontSize:"0.75rem",fontWeight:r===i.id?"600":"400"},children:i.label})]},i.id))})]})},z2=()=>{const{taskId:r}=gE(),e=An(),[t,i]=O.useState(null),[o,l]=O.useState(""),[c,f]=O.useState(""),[y,v]=O.useState(null),w=O.useRef(null),T=O.useRef(null),[I,A]=O.useState(!1),[W,z]=O.useState(0),[j,G]=O.useState("morning");O.useEffect(()=>{const se=new Date().getHours();se>=5&&se<12?G("morning"):se>=12&&se<17?G("afternoon"):se>=17&&se<21?G("evening"):G("night")},[]),O.useEffect(()=>{let de=xe(ae.TASKS,[]).find(oe=>oe.id===r);if(!de){const P=xe(ae.SCHEDULED_TASKS,[]).find(S=>String(S.id)===r);P&&(de={...P,title:P.name,smallStep:P.workToComplete||"Scheduled Work",isSchedule:!0})}de&&i(de)},[r]);const X=se=>{const de=se.target.files[0];if(de){const oe=new FileReader;oe.onloadend=()=>{v(oe.result)},oe.readAsDataURL(de)}},Q=se=>{se.preventDefault();const de=new Date().setHours(0,0,0,0);let oe=10;if(t.isSchedule){const S=new Date(t.dueDate).setHours(0,0,0,0);de<=S?oe=100:oe=10}const P=parseInt(c)||0;if(oe+=P,t.isSchedule){const k=xe(ae.SCHEDULED_TASKS,[]).map(D=>String(D.id)===r?{...D,completed:!0,completedAt:new Date().toISOString(),timeTaken:parseInt(c)||0,proofImage:y,pointsEarned:oe}:D);wt(ae.SCHEDULED_TASKS,k)}else{const k=xe(ae.TASKS,[]).map(D=>D.id===r?{...D,completed:!0,learning:o,completedAt:new Date().toISOString(),timeTaken:parseInt(c)||0,proofImage:y,pointsEarned:oe}:D);wt(ae.TASKS,k)}pf(oe),hw(),Ho("task_complete",{task_id:r,task_title:t.title,actual_time_spent:parseInt(c)||0,points_earned:oe,has_proof:!!y,learning_note:o,overrideTimeOfDay:j}),z(oe),A(!0)};return t?I?g.jsx(Dt,{children:g.jsxs("div",{className:"container",style:{textAlign:"center",padding:"3rem 1rem"},children:[g.jsx(Vv,{size:64,color:"var(--color-success)",style:{margin:"0 auto 1rem"}}),g.jsx("h2",{children:"Well Done!"}),g.jsx("p",{children:"You started despite resistance. That matters."}),g.jsxs("div",{style:{margin:"2rem 0",padding:"1.5rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-lg)"},children:[g.jsxs("h3",{style:{margin:0,color:"var(--color-primary)"},children:["+",W," Focus Points"]}),g.jsx("p",{style:{margin:"0.5rem 0 0"},children:"Streak Updated!"})]}),g.jsx("button",{className:"btn-primary",onClick:()=>e("/"),children:"Back Home"})]})}):g.jsx(Dt,{children:g.jsxs("div",{className:"container",children:[g.jsxs("h2",{children:['Complete "',t.title,'"']}),g.jsx("div",{className:"card",children:g.jsxs("form",{onSubmit:Q,children:[g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{children:"Time Taken (minutes)"}),g.jsx(vp,{value:c,onChange:f})]}),g.jsx(_p,{value:j,onChange:G}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{children:"What did you learn or do? (Optional)"}),g.jsx("textarea",{value:o,onChange:se=>l(se.target.value),placeholder:"I learned that starting wasn't so bad...",rows:2})]}),g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Upload Proof (Optional)"}),g.jsx("input",{type:"file",accept:"image/*",ref:w,onChange:X,style:{display:"none"}}),g.jsx("input",{type:"file",accept:"image/*",capture:"environment",id:"cameraInput",ref:T,onChange:X,style:{display:"none"}}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[g.jsxs("div",{onClick:()=>{var se;return(se=w.current)==null?void 0:se.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1.5rem",textAlign:"center",color:"var(--color-text-secondary)",cursor:"pointer",background:y?"#f0fdf4":"transparent"},children:[g.jsx(Uv,{size:24,style:{marginBottom:"0.5rem"}}),g.jsx("div",{children:"Upload Image"})]}),g.jsxs("div",{onClick:()=>{var se;return(se=T.current)==null?void 0:se.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1.5rem",textAlign:"center",color:"var(--color-text-secondary)",cursor:"pointer",background:y?"#f0fdf4":"transparent"},children:[g.jsx(Ov,{size:24,style:{marginBottom:"0.5rem"}}),g.jsx("div",{children:"Take Photo"})]})]}),y&&g.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--color-success)",textAlign:"center"},children:"Proof Attached!"})]}),g.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%"},children:"Mark as Completed"})]})})]})}):g.jsx(Dt,{children:g.jsx("div",{children:"Loading..."})})},B2=()=>{const r=An(),[e,t]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState(null),[f,y]=O.useState(""),[v,w]=O.useState(!1),[T,I]=O.useState(!1),[A,W]=O.useState(!1),[z,j]=O.useState(""),[G,X]=O.useState(""),[Q,se]=O.useState(null),de=O.useRef(null),oe=O.useRef(null),[P,S]=O.useState("morning"),[k,D]=O.useState({name:"",workToComplete:"",startDate:"",dueDate:""}),[N,M]=O.useState({title:"",smallStep:"",time:"15 mins",moods:[]}),R=[{id:"focused",label:"Focused"},{id:"low-energy",label:"Low Energy"},{id:"bored",label:"Bored"}];O.useEffect(()=>{t(xe(ae.SCHEDULED_TASKS,[])),o(xe(ae.TASKS,[]))},[]);const Ie=q=>{if(q.preventDefault(),!l||!f)return;const L=parseInt(f);if(isNaN(L)||L<=0)return;const K={id:Date.now().toString(),taskId:l.id,taskTitle:l.title||l.name,duration:L,date:new Date().toISOString()},ve=xe(ae.WORK_LOGS,[]);wt(ae.WORK_LOGS,[...ve,K]),pf(L),c(null),y(""),alert(`Logged ${L} mins of work! Keep it up.`)},Le=q=>{q.preventDefault();const L=[...e,{id:Date.now(),...k}];wt(ae.SCHEDULED_TASKS,L),t(L),w(!1),D({name:"",workToComplete:"",startDate:"",dueDate:""})},rt=q=>{q.preventDefault();const K=[{id:Date.now().toString(),...N,completed:!1,createdAt:new Date().toISOString()},...i];wt(ae.TASKS,K),o(K),I(!1),M({title:"",smallStep:"",time:"15 mins",moods:[]})},Ke=q=>{M(L=>{const K=L.moods.includes(q)?L.moods.filter(ve=>ve!==q):[...L.moods,q];return{...L,moods:K}})},re=q=>{const L=q.target.files[0];if(L){const K=new FileReader;K.onloadend=()=>{se(K.result)},K.readAsDataURL(L)}},ge=q=>{q.preventDefault();const K=10+(parseInt(G)||0),ve=xe(ae.TASKS,[]),le={id:Date.now().toString(),title:z,smallStep:"Ad-hoc Logged",time:G,completed:!0,completedAt:new Date().toISOString(),timeTaken:parseInt(G)||0,proofImage:Q,isAdhoc:!0,pointsEarned:K};wt(ae.TASKS,[le,...ve]),o([le,...ve]),pf(K),hw(),Ho("task_complete",{task_id:le.id,task_title:le.title,actual_time_spent:parseInt(G)||0,points_earned:K,has_proof:!!Q,is_adhoc:!0,overrideTimeOfDay:P}),alert(`Saved! +${K} Points.`),W(!1),j(""),X(""),se(null)};return g.jsx(Dt,{children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[g.jsxs("button",{onClick:()=>r("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginRight:"1rem"},children:[g.jsx(bi,{size:18})," Back"]}),g.jsx("h2",{style:{margin:0},children:"Planning Hub"})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"3rem"},children:[g.jsxs("div",{className:"card",style:{textAlign:"center",cursor:"pointer",border:T?"2px solid var(--color-primary)":"1px solid transparent",transition:"all 0.2s",padding:"2rem 1rem"},onClick:()=>{I(!T),w(!1),W(!1)},children:[g.jsx("div",{style:{background:"var(--color-bg-accent)",width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"var(--color-primary)"},children:g.jsx(Rc,{size:24})}),g.jsx("h3",{style:{fontSize:"1.2rem",margin:"0 0 0.5rem"},children:"Add Task"}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",margin:0},children:"For immediate work today. Small steps."})]}),g.jsxs("div",{className:"card",style:{textAlign:"center",cursor:"pointer",border:v?"2px solid var(--color-primary)":"1px solid transparent",padding:"2rem 1rem"},onClick:()=>{w(!v),I(!1),W(!1)},children:[g.jsx("div",{style:{background:"#f0f9ff",width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",color:"#0284c7"},children:g.jsx(Ef,{size:24})}),g.jsx("h3",{style:{fontSize:"1.2rem",margin:"0 0 0.5rem"},children:"Schedule Future Task"}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",margin:0},children:"Plan ahead to reduce uncertainty."})]})]}),T&&g.jsxs("div",{style:{animation:"fadeIn 0.3s ease-in-out"},children:[g.jsx("h3",{style:{marginBottom:"1rem"},children:"Add a New Task"}),g.jsxs("form",{onSubmit:rt,className:"card",style:{marginBottom:"3rem",borderLeft:"4px solid var(--color-primary)"},children:[g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"Task Name"}),g.jsx("input",{required:!0,value:N.title,onChange:q=>M({...N,title:q.target.value}),placeholder:"e.g. Study Math",autoFocus:!0})]}),g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"Small First Step (Crucial!)"}),g.jsx("input",{required:!0,value:N.smallStep,onChange:q=>M({...N,smallStep:q.target.value}),placeholder:"e.g. Open the textbook to page 50"}),g.jsx("small",{style:{color:"var(--color-text-secondary)"},children:"Just write what you will do in the first 2 minutes."})]}),g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"Expected Time (Minutes)"}),g.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",required:!0,value:N.time,onChange:q=>{const L=q.target.value;L===""?M({...N,time:L}):/^\d+$/.test(L)&&parseInt(L,10)<=600&&M({...N,time:L})},placeholder:"e.g. 30 (max 600)"})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{children:"Best for Mood (Optional)"}),g.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:R.map(q=>g.jsx("button",{type:"button",onClick:()=>Ke(q.id),style:{padding:"0.5rem 1rem",borderRadius:"var(--radius-full)",border:"1px solid var(--color-primary)",background:N.moods.includes(q.id)?"var(--color-primary)":"transparent",color:N.moods.includes(q.id)?"white":"var(--color-primary)",fontSize:"0.85rem"},children:q.label},q.id))})]}),g.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[g.jsx("button",{type:"button",onClick:()=>I(!1),className:"btn-secondary",style:{flex:1},children:"Cancel"}),g.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Save Task"})]})]})]}),v&&g.jsxs("div",{style:{animation:"fadeIn 0.3s ease-in-out"},children:[g.jsx("h3",{style:{marginBottom:"1rem"},children:"New Future Plan"}),g.jsxs("form",{onSubmit:Le,className:"card",style:{marginBottom:"3rem",borderLeft:"4px solid #0284c7"},children:[g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"Task Name"}),g.jsx("input",{required:!0,value:k.name,onChange:q=>D({...k,name:q.target.value}),autoFocus:!0})]}),g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"Work to Complete"}),g.jsx("input",{value:k.workToComplete,onChange:q=>D({...k,workToComplete:q.target.value}),placeholder:"e.g. Read Chapters 1-3"})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[g.jsxs("div",{children:[g.jsx("label",{children:"Start Date"}),g.jsx("input",{type:"date",required:!0,value:k.startDate,onChange:q=>D({...k,startDate:q.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Due Date"}),g.jsx("input",{type:"date",required:!0,value:k.dueDate,onChange:q=>D({...k,dueDate:q.target.value})})]})]}),g.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[g.jsx("button",{type:"button",onClick:()=>w(!1),className:"btn-secondary",style:{flex:1},children:"Cancel"}),g.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Save Plan"})]})]})]}),A&&g.jsxs("div",{style:{animation:"fadeIn 0.3s ease-in-out"},children:[g.jsx("h3",{style:{marginBottom:"1rem"},children:"Log Unplanned Work"}),g.jsxs("form",{onSubmit:ge,className:"card",style:{marginBottom:"3rem",borderLeft:"4px solid #8b5cf6"},children:[g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"What did you do?"}),g.jsx("input",{required:!0,value:z,onChange:q=>j(q.target.value),placeholder:"e.g. Helper a friend",autoFocus:!0})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{children:"Time Taken (minutes)"}),g.jsx(vp,{value:G,onChange:X})]}),g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Upload Proof (Optional)"}),g.jsx("input",{type:"file",accept:"image/*",ref:de,onChange:re,style:{display:"none"}}),g.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:oe,onChange:re,style:{display:"none"}}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[g.jsxs("div",{onClick:()=>{var q;return(q=de.current)==null?void 0:q.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1rem",textAlign:"center",cursor:"pointer",background:Q?"#f0fdf4":"transparent"},children:[g.jsx(Uv,{size:24,style:{marginBottom:"0.5rem"}}),g.jsx("div",{children:"Upload"})]}),g.jsxs("div",{onClick:()=>{var q;return(q=oe.current)==null?void 0:q.click()},style:{border:"2px dashed #cbd5e1",borderRadius:"var(--radius-md)",padding:"1rem",textAlign:"center",cursor:"pointer",background:Q?"#f0fdf4":"transparent"},children:[g.jsx(Ov,{size:24,style:{marginBottom:"0.5rem"}}),g.jsx("div",{children:"Camera"})]})]}),Q&&g.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--color-success)",textAlign:"center"},children:"Proof Attached!"})]}),g.jsx(_p,{value:P,onChange:S}),g.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[g.jsx("button",{type:"button",onClick:()=>W(!1),className:"btn-secondary",style:{flex:1},children:"Cancel"}),g.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"Save Work"})]})]})]}),g.jsxs("div",{children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[g.jsx(zT,{size:20,className:"text-secondary"}),g.jsx("h3",{style:{margin:0,color:"var(--color-text-secondary)"},children:"Your Plans"}),g.jsx("div",{style:{flex:1}}),g.jsx("button",{onClick:()=>{W(!A),I(!1),w(!1)},style:{background:"var(--color-bg-secondary)",border:"none",padding:"0.5rem 1rem",borderRadius:"var(--radius-full)",color:"var(--color-primary)",fontSize:"0.85rem",fontWeight:"500",cursor:"pointer"},children:"+ Log Other Task"})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[i.length>0&&i.some(q=>!q.completed)&&g.jsx("h4",{style:{margin:"1rem 0 0.5rem",color:"var(--color-primary)",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.25rem"},children:"Daily Commitments"}),i.filter(q=>!q.completed).map(q=>g.jsxs("div",{className:"card",style:{borderLeft:"4px solid var(--color-warning)"},children:[g.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:g.jsxs("div",{children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[g.jsx("h3",{style:{margin:0},children:q.title}),g.jsx("span",{style:{fontSize:"0.75rem",background:"#fef3c7",color:"#d97706",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:"Now"})]}),g.jsx("p",{style:{margin:"0 0 0.5rem",color:"var(--color-text-primary)"},children:q.smallStep})]})}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem"},children:[g.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-secondary)"},children:["Duration: ",q.time,"m"]}),g.jsx("button",{className:"btn-primary",style:{background:"var(--color-success)",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>r(`/complete/${q.id}`),children:"Task Done"})]})]},q.id)),e.length>0&&g.jsx("h4",{style:{margin:"1.5rem 0 0.5rem",color:"#0284c7",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.25rem"},children:"Future Schedule"}),e.map(q=>{const L=new Date().setHours(0,0,0,0),K=new Date(q.startDate).setHours(0,0,0,0),ve=new Date(q.dueDate).setHours(0,0,0,0),le=L>=K&&L<=ve;return ve<L||q.completed?null:g.jsxs("div",{className:"card",style:{borderLeft:"4px solid var(--color-primary)"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[g.jsxs("div",{children:[g.jsx("h3",{style:{margin:"0 0 0.25rem"},children:q.name}),g.jsx("p",{style:{margin:"0 0 0.5rem",color:"var(--color-text-primary)"},children:q.workToComplete})]}),le&&g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"var(--color-primary)",fontSize:"0.8rem",fontWeight:"bold",background:"var(--color-bg-accent)",padding:"0.25rem 0.5rem",borderRadius:"var(--radius-md)"},children:[g.jsx(Tf,{size:14}),"Active Today"]})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem"},children:[g.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.85rem",color:"var(--color-text-secondary)"},children:[g.jsxs("span",{children:["Start: ",q.startDate]}),g.jsxs("span",{children:["Due: ",q.dueDate]})]}),g.jsx("button",{className:"btn-primary",style:{background:"var(--color-success)",fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>r(`/complete/${q.id}`),children:"Task Done"}),g.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"0.4rem 0.8rem"},onClick:()=>c(q),children:"Done some work"})]}),(l==null?void 0:l.id)===q.id&&g.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"var(--color-bg-secondary)",borderRadius:"var(--radius-md)"},children:[g.jsx("h4",{style:{margin:"0 0 0.5rem"},children:"Log Work (Not Done Yet)"}),g.jsxs("form",{onSubmit:Ie,style:{display:"flex",gap:"0.5rem"},children:[g.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Mins",value:f,onChange:we=>{const Ne=we.target.value;(Ne===""||/^\d+$/.test(Ne)&&parseInt(Ne,10)<=600)&&y(Ne)},style:{width:"80px",padding:"0.25rem"},autoFocus:!0}),g.jsxs("button",{type:"submit",className:"btn-primary",style:{padding:"0.25rem 0.75rem",fontSize:"0.85rem"},children:[g.jsx(JT,{size:14})," Save"]}),g.jsx("button",{type:"button",onClick:()=>{c(null),y("")},style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--color-text-secondary)"},children:g.jsx(Bv,{size:18})})]})]})]},q.id)}),i.length===0&&e.length===0&&g.jsx("p",{style:{textAlign:"center",padding:"2rem",background:"var(--color-bg-secondary)",borderRadius:"var(--radius-md)"},children:"No plans yet. Clear mind, clear path."})]})]})]})})},$2=()=>{const r=An(),[e,t]=O.useState(0),[i,o]=O.useState(0),[l,c]=O.useState(""),[f,y]=O.useState([]),[v,w]=O.useState([]),[T,I]=O.useState([]),[A,W]=O.useState(!1),[z,j]=O.useState(0),[G,X]=O.useState(0),[Q,se]=O.useState(0),[de,oe]=O.useState(0);O.useEffect(()=>{const S=new Date().setHours(0,0,0,0),D=xe(ae.DISTRACTION_LOGS,[]).filter(le=>new Date(le.date).setHours(0,0,0,0)===S);y(D);const N=D.reduce((le,we)=>le+parseInt(we.duration||0),0);X(N);const M=xe(ae.TASKS,[]),R=xe(ae.SCHEDULED_TASKS,[]),Ie=M.filter(le=>!le.completed||!le.completedAt?!1:new Date(le.completedAt).setHours(0,0,0,0)===S),Le=R.filter(le=>!le.completed||!le.completedAt?!1:new Date(le.completedAt).setHours(0,0,0,0)===S),rt=[...Ie,...Le];w(rt);const re=xe(ae.WORK_LOGS,[]).filter(le=>new Date(le.date).setHours(0,0,0,0)===S);I(re);const ge=rt.reduce((le,we)=>le+(parseInt(we.timeTaken)||0),0),q=re.reduce((le,we)=>le+parseInt(we.duration||0),0),L=ge+q;j(L);const K=rt.length;se(K),oe(K*10+re.length*2);const ve=L+N;if(ve>0){const le=Math.round(N/ve*100);t(le),o(100-le)}else o(0),t(0)},[]);const P=S=>{S.preventDefault();const k=xe(ae.REFLECTIONS,[]),D={id:Date.now(),date:new Date().toISOString(),procrastinationScore:e,workScore:i,tomorrowGoal:l,distractionCount:f.length,distractionTime:G,tasksDoneCount:Q,taskTime:z,pointsScored:de};wt(ae.REFLECTIONS,[D,...k]),Ho("diary_entry",{procrastination_score:e,work_score:i,tomorrow_goal:l,total_distraction_time:G,total_work_time:z}),W(!0)};return A?g.jsx(Dt,{children:g.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"3rem"},children:[g.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),g.jsx("h2",{children:"Reflection Saved"}),g.jsx("p",{children:"Rest well. Tomorrow is a fresh start."}),g.jsx("button",{className:"btn-primary",onClick:()=>r("/"),style:{marginTop:"2rem"},children:"Back Home"}),g.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"var(--color-bg-accent)",borderRadius:"var(--radius-lg)",textAlign:"left"},children:[g.jsx("h3",{style:{fontSize:"1.1rem",marginTop:0},children:"Target for Tomorrow:"}),g.jsx("p",{style:{fontSize:"1.2rem",color:"var(--color-primary)",fontWeight:600},children:l})]})]})}):g.jsx(Dt,{children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[g.jsxs("button",{onClick:()=>r("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginRight:"1rem"},children:[g.jsx(bi,{size:18})," Back"]}),g.jsx("h2",{style:{margin:0},children:"Today's Reflection"})]}),g.jsxs("form",{onSubmit:P,className:"card",children:[g.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",background:"#f0fdf4",borderRadius:"var(--radius-md)",border:"1px solid #bbf7d0",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"0.9rem",color:"#166534",marginBottom:"0.25rem"},children:"Overall Focus Score"}),g.jsxs("div",{style:{fontSize:"3rem",fontWeight:"bold",color:"#15803d"},children:[i,"%"]})]}),g.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#fef2f2",borderRadius:"var(--radius-md)",border:"1px solid #fecaca",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("span",{style:{color:"#991b1b",fontWeight:"500"},children:"Procrastination Level"}),g.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ef4444"},children:[e,"%"]})]}),g.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Time Breakdown"}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"2rem"},children:[g.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center",background:"var(--color-bg-secondary)"},children:[g.jsx(Vv,{size:24,style:{color:"var(--color-success)",marginBottom:"0.5rem"}}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[z,"m"]}),g.jsx("div",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:"Work Time"})]}),g.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center",background:"var(--color-bg-secondary)"},children:[g.jsx(hS,{size:24,style:{color:"var(--color-warning)",marginBottom:"0.5rem"}}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:[G,"m"]}),g.jsx("div",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:"Distracted"})]})]}),g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Today's Activity Log"}),g.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Today's Activity Log"}),v.length===0&&f.length===0&&T.length===0?g.jsx("p",{style:{color:"var(--color-text-secondary)",fontStyle:"italic"},children:"No activity recorded yet."}):g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[v.map((S,k)=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"var(--radius-sm)",borderLeft:"4px solid var(--color-success)"},children:[g.jsxs("span",{children:[S.title||S.name," ",g.jsx("strong",{style:{color:"var(--color-success)"},children:"(Done)"})]}),g.jsxs("strong",{children:[S.timeTaken||0,"m"]})]},`task-${k}`)),T.map((S,k)=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"var(--radius-sm)",borderLeft:"4px solid #3b82f6"},children:[g.jsxs("span",{children:[S.taskTitle," ",g.jsx("small",{children:"(Work Log)"})]}),g.jsxs("strong",{children:[S.duration,"m"]})]},`log-${k}`)),f.map((S,k)=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"var(--radius-sm)",borderLeft:"4px solid var(--color-danger)"},children:[g.jsxs("span",{children:[S.app," ",g.jsxs("small",{children:["(",S.reasons.join(", "),")"]})]}),g.jsxs("strong",{children:[S.duration,"m"]})]},`dist-${k}`))]})]}),g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[g.jsx(sS,{size:18})," Goal for Tomorrow"]}),g.jsx("input",{required:!0,value:l,onChange:S=>c(S.target.value),placeholder:"e.g. Finish the Math Chapter without phone",style:{width:"100%",padding:"0.75rem",borderRadius:"var(--radius-md)",border:"1px solid #cbd5e1"}})]}),g.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"1rem"},children:"Save & Close Day"})]})]})})},W2=()=>{const r=An(),[e,t]=O.useState("initial"),[i,o]=O.useState([]),[l,c]=O.useState(""),[f,y]=O.useState(""),[v,w]=O.useState([]),[T,I]=O.useState(null),[A,W]=O.useState([]),[z,j]=O.useState(""),[G,X]=O.useState("morning");O.useEffect(()=>{const S=new Date().getHours();S>=5&&S<12?X("morning"):S>=12&&S<17?X("afternoon"):S>=17&&S<21?X("evening"):X("night")},[]),O.useEffect(()=>{const S=xe("sp_distraction_types",[]);o(S)},[]);const Q=()=>{if(!l)return;const S=[...i,{id:Date.now(),name:l,reasons:v.length>0?v:["General"]}];wt("sp_distraction_types",S),o(S),c(""),w([]),y(""),t("initial")},se=()=>{f&&(w([...v,f]),y(""))},de=S=>{S.preventDefault();const k=xe(ae.DISTRACTION_LOGS,[]),D={id:Date.now(),app:T.name,reasons:A,duration:z,date:new Date().toISOString()};wt(ae.DISTRACTION_LOGS,[D,...k]),Ho("distraction_log",{app:T.name,reasons:A,duration:parseInt(z)||0,overrideTimeOfDay:G}),t("success")},oe=S=>{A.includes(S)?W(A.filter(k=>k!==S)):W([...A,S])},P=()=>{I(null),W([]),j("")};return e==="calm"?g.jsx(Dt,{children:g.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"4rem"},children:[g.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),g.jsx("h2",{children:"Great Job!"}),g.jsx("p",{children:"Focusing on your improvement is the best gift you can give yourself."}),g.jsx("button",{className:"btn-primary",onClick:()=>t("initial"),style:{marginTop:"2rem"},children:"Back"})]})}):e==="success"?g.jsx(Dt,{children:g.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"4rem"},children:[g.jsx("h2",{children:"Logged."}),g.jsx("p",{children:"Awareness is the first step. Use this data tomorrow."}),g.jsx("button",{className:"btn-primary",onClick:()=>{t("initial"),P()},style:{marginTop:"2rem"},children:"Done"})]})}):e==="config"?g.jsx(Dt,{children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[g.jsx("h2",{children:"Add Distraction"}),g.jsx("button",{onClick:()=>t("initial"),style:{background:"none",border:"none",cursor:"pointer"},children:g.jsx(Bv,{})})]}),g.jsxs("div",{className:"card",children:[g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"Distraction Name"}),g.jsx("input",{value:l,onChange:S=>c(S.target.value),placeholder:"e.g. YouTube Shorts"})]}),g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{children:"Possible Reasons"}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[g.jsx("input",{value:f,onChange:S=>y(S.target.value),placeholder:"e.g. Boredom"}),g.jsx("button",{type:"button",onClick:se,className:"btn-primary",style:{padding:"0.5rem"},children:g.jsx(Bd,{size:16})})]}),g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:v.map((S,k)=>g.jsx("span",{style:{background:"#f1f5f9",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.85rem"},children:S},k))})]}),g.jsx("button",{className:"btn-primary",onClick:Q,style:{width:"100%"},children:"Save"})]})]})}):e==="logging"?g.jsx(Dt,{children:g.jsxs("div",{className:"container",children:[g.jsxs("button",{onClick:()=>{t("initial"),P()},style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginBottom:"1rem"},children:[g.jsx(bi,{size:18})," Back"]}),g.jsx("h2",{children:"Log Distraction"}),T?g.jsxs("form",{onSubmit:de,className:"card",children:[g.jsx("h3",{style:{marginTop:0},children:T.name}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{children:"Why did you check it? (Select all that apply)"}),g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.5rem"},children:T.reasons.map((S,k)=>g.jsx("button",{type:"button",onClick:()=>oe(S),style:{padding:"0.5rem 1rem",borderRadius:"2rem",border:"1px solid var(--color-primary)",background:A.includes(S)?"var(--color-primary)":"white",color:A.includes(S)?"white":"var(--color-primary)",cursor:"pointer"},children:S},k))})]}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{children:"Time Spent (Minutes)"}),g.jsx(vp,{value:z,onChange:j})]}),g.jsx(_p,{value:G,onChange:X}),g.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%"},children:"Save Log"})]}):g.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[g.jsx("p",{children:"Which app did you use?"}),i.map(S=>g.jsx("button",{className:"card",onClick:()=>I(S),style:{textAlign:"left",cursor:"pointer",borderColor:"var(--color-primary)"},children:g.jsx("strong",{children:S.name})},S.id)),i.length===0&&g.jsx("p",{children:"No distractions configured. Go back and add some!"})]})]})}):g.jsx(Dt,{children:g.jsxs("div",{className:"container",style:{textAlign:"center",paddingTop:"2rem"},children:[g.jsx("div",{style:{position:"absolute",left:"1rem",top:"5rem"},children:g.jsxs("button",{onClick:()=>r("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500"},children:[g.jsx(bi,{size:18})," Back"]})}),g.jsx(Fv,{size:64,style:{color:"var(--color-text-accent)",marginBottom:"1rem"}}),g.jsx("h2",{style:{fontSize:"2rem",marginBottom:"2rem"},children:"Distracted?"}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[g.jsx("button",{className:"btn-primary",style:{padding:"1.5rem",fontSize:"1.25rem",background:"#ef4444"},onClick:()=>{P(),t("logging")},children:"Yes, I gave in."}),g.jsx("button",{className:"btn-primary",style:{padding:"1rem",fontSize:"1.1rem",background:"#10b981"},onClick:()=>t("calm"),children:"No, I'm focused."})]}),g.jsx("div",{style:{marginTop:"2rem"},children:g.jsxs("button",{onClick:()=>t("config"),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",background:"transparent",border:"1px dashed var(--color-text-secondary)",color:"var(--color-text-secondary)",cursor:"pointer",padding:"0.75rem 1.5rem",borderRadius:"var(--radius-full)",fontSize:"0.9rem",transition:"all 0.2s"},children:[g.jsx(Bd,{size:16})," Add Distraction"]})})]})})},gw=(r,e="")=>Object.keys(r).reduce((t,i)=>{const o=e.length?e+".":"";return typeof r[i]=="object"&&r[i]!==null&&!Array.isArray(r[i])?Object.assign(t,gw(r[i],o+i)):Array.isArray(r[i])?t[o+i]=r[i].join(";"):t[o+i]=r[i],t},{}),yw=r=>{if(!r||r.length===0)return"";const e=r.map(o=>gw(o)),t=Array.from(new Set(e.flatMap(Object.keys)));return t.sort((o,l)=>o==="timestamp"?-1:l==="timestamp"?1:o==="event_type"?-1:l==="event_type"?1:o.localeCompare(l)),[t.join(","),...e.map(o=>t.map(l=>{let c=o[l]||"";const f=String(c);return f.includes(",")||f.includes('"')||f.includes(`
`)?`"${f.replace(/"/g,'""')}"`:f}).join(","))].join(`
`)},vw=(r,e="stop-procrastinating-data.csv")=>{const t=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const o=URL.createObjectURL(t);i.setAttribute("href",o),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}},fv=({data:r,dataKeys:e,colors:t,height:i=200,width:o="100%"})=>{if(!r||r.length===0)return g.jsx("div",{style:{height:i,display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",background:"#f8fafc",borderRadius:"8px"},children:"No Data Available"});const l=500,c=200,f=30,y=l-2*f,v=c-2*f,w=r.flatMap(j=>e.map(G=>Number(j[G]||0))),T=Math.max(...w,0),I=T>0?T*1.1:10,A=y/r.length,W=A*.2,z=(A-W)/e.length;return g.jsxs("div",{style:{width:o,overflow:"hidden"},children:[g.jsxs("svg",{viewBox:`0 0 ${l} ${c}`,style:{width:"100%",height:"auto",background:"#fff",borderRadius:"8px",border:"1px solid #f1f5f9"},children:[[0,.25,.5,.75,1].map(j=>g.jsx("line",{x1:f,y1:f+j*v,x2:l-f,y2:f+j*v,stroke:"#e2e8f0",strokeWidth:"1"},j)),r.map((j,G)=>{const X=f+G*A+W/2;return g.jsxs("g",{children:[e.map((Q,se)=>{const oe=Number(j[Q]||0)/I*v,P=X+se*z,S=f+v-oe;return g.jsx("rect",{x:P,y:S,width:z*.9,height:oe,fill:t[se],rx:"2"},Q)}),g.jsxs("text",{x:X+(A-W)/2,y:c-10,textAnchor:"middle",fontSize:"10",fill:"#64748b",children:[new Date(j.date).getDate(),"/",new Date(j.date).getMonth()+1]})]},G)}),[0,.5,1].map(j=>g.jsx("text",{x:f-5,y:f+(1-j)*v+3,textAnchor:"end",fontSize:"9",fill:"#94a3b8",children:Math.round(j*I)},j))]}),g.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"0.5rem"},children:e.map((j,G)=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.8rem",color:"#64748b"},children:[g.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"2px",background:t[G]}}),j==="taskTime"?"Work Time":j==="distractionTime"?"Distracted":j==="pointsScored"?"Points":j]},j))})]})},H2=({data:r,dataKeys:e,colors:t,height:i=200,width:o="100%"})=>{if(!r||r.length===0)return g.jsx("div",{style:{height:i,display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",background:"#f8fafc",borderRadius:"8px"},children:"No Data Available"});const l=500,c=200,f=20,y=Math.max(...r.map(I=>Math.max(...e.map(A=>Number(I[A]||0))))),v=y>0?y*1.1:10,w=I=>f+I/(r.length-1||1)*(l-2*f),T=I=>c-f-I/v*(c-2*f);return g.jsxs("div",{style:{width:o,overflow:"hidden"},children:[g.jsxs("svg",{viewBox:`0 0 ${l} ${c}`,style:{width:"100%",height:"auto",background:"#fff",borderRadius:"8px",border:"1px solid #f1f5f9"},children:[[0,.25,.5,.75,1].map(I=>g.jsx("line",{x1:f,y1:f+I*(c-2*f),x2:l-f,y2:f+I*(c-2*f),stroke:"#e2e8f0",strokeWidth:"1"},I)),e.map((I,A)=>{const W=r.map((z,j)=>`${w(j)},${T(Number(z[I]||0))}`).join(" ");return g.jsxs("g",{children:[g.jsx("polyline",{fill:"none",stroke:t[A],strokeWidth:"3",points:W,strokeLinecap:"round",strokeLinejoin:"round"}),r.map((z,j)=>g.jsx("circle",{cx:w(j),cy:T(Number(z[I]||0)),r:"3",fill:"#fff",stroke:t[A],strokeWidth:"2"},j))]},I)}),r.map((I,A)=>g.jsxs("text",{x:w(A),y:c-5,textAnchor:"middle",fontSize:"10",fill:"#64748b",children:[new Date(I.date).getDate(),"/",new Date(I.date).getMonth()+1]},A))]}),g.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"0.5rem"},children:e.map((I,A)=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.8rem",color:"#64748b"},children:[g.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:t[A]}}),I==="workScore"?"Work":I==="procrastinationScore"?"Procrastination":I==="pointsScored"?"Points":I==="distractionTime"?"Time Lost (m)":I]},I))})]})},q2=()=>{const r=An(),[e,t]=O.useState([]),[i,o]=O.useState(null);O.useEffect(()=>{const c=xe(ae.REFLECTIONS,[]),f={};c.forEach(I=>{const A=new Date(I.date).toDateString();(!f[A]||new Date(I.date)>new Date(f[A].date))&&(f[A]=I)});const v=(()=>{const I=new Date().toDateString(),A=xe(ae.TASKS,[]),W=xe(ae.SCHEDULED_TASKS,[]),z=xe(ae.WORK_LOGS,[]),j=xe(ae.DISTRACTION_LOGS,[]),G=[...A,...W].filter(Ie=>Ie.completed&&Ie.completedAt&&new Date(Ie.completedAt).toDateString()===I),X=z.filter(Ie=>new Date(Ie.date).toDateString()===I),Q=j.filter(Ie=>new Date(Ie.date).toDateString()===I),se=G.reduce((Ie,Le)=>Ie+(parseInt(Le.timeTaken)||0),0),de=X.reduce((Ie,Le)=>Ie+(parseInt(Le.duration)||0),0),oe=se+de,P=Q.reduce((Ie,Le)=>Ie+(parseInt(Le.duration)||0),0),S=G.reduce((Ie,Le)=>Le.pointsEarned!==void 0?Ie+Le.pointsEarned:Ie+10+(parseInt(Le.timeTaken)||0),0),k=X.reduce((Ie,Le)=>Ie+(parseInt(Le.duration)||0),0),D=S+k;let N=0,M=0;const R=oe+P;return R>0&&(M=Math.round(P/R*100),N=100-M),{date:new Date().toISOString(),workScore:N,procrastinationScore:M,taskTime:oe,distractionTime:P,pointsScored:D,isLive:!0}})();if(v.taskTime>0||v.distractionTime>0||v.pointsScored>0){const I=new Date().toDateString();f[I]=v}const w=Object.values(f).sort((I,A)=>new Date(I.date)-new Date(A.date));t(w);const T=mw();o(T)},[]);const l=()=>{const c=xe(ae.EVENT_LOG,[]);if(!c||c.length===0){alert("No detailed event data found yet. Start using the app to generate logs!");return}const f=yw(c);vw(f,`stop_procrastinating_events_${new Date().toISOString().split("T")[0]}.csv`)};return g.jsx(Dt,{children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[g.jsxs("button",{onClick:()=>r("/"),style:{background:"var(--color-bg-secondary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",padding:"0.5rem 1rem",borderRadius:"2rem",fontWeight:"500",marginRight:"1rem"},children:[g.jsx(bi,{size:18})," Back"]}),g.jsx("h2",{style:{flex:1,textAlign:"center",margin:0},children:"Progress Analysis"}),g.jsx("button",{onClick:l,style:{background:"transparent",border:"1px solid var(--color-primary)",color:"var(--color-primary)",padding:"0.5rem",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Export Detailed Event Logs (CSV)",children:g.jsx(zd,{size:20})})]}),g.jsxs("div",{style:{display:"grid",gap:"2rem"},children:[i&&g.jsxs("div",{className:"card",style:{background:i.type==="warning"?"#fef2f2":"#f0f9ff",border:i.type==="warning"?"1px solid #fecaca":"1px solid #bae6fd"},children:[g.jsxs("h3",{style:{marginBottom:"0.5rem",color:i.type==="warning"?"#b91c1c":"#0369a1",display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx(Rc,{size:20})," Smart Insight"]}),g.jsx("p",{style:{color:i.type==="warning"?"#991b1b":"#0284c7",fontSize:"1.1rem"},children:i.text.replace(/\*\*/g,"")}),i.type==="neutral"&&g.jsx("p",{style:{fontSize:"0.85rem",marginTop:"0.5rem",color:"var(--color-text-secondary)"},children:"(The more you use the app, the smarter these tips become!)"})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-text-primary)"},children:"Work vs Procrastination (%)"}),g.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",marginBottom:"1rem"},children:["Aim to keep the ",g.jsx("span",{style:{color:"#22c55e",fontWeight:"bold"},children:"Green"})," line above the ",g.jsx("span",{style:{color:"#ef4444",fontWeight:"bold"},children:"Red"})," line."]}),g.jsx(H2,{data:e,dataKeys:["workScore","procrastinationScore"],colors:["#22c55e","#ef4444"]})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-text-primary)"},children:"Time: Work vs Distracted (Minutes)"}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",marginBottom:"1rem"},children:"Daily comparison of productive time vs lost time."}),g.jsx(fv,{data:e,dataKeys:["taskTime","distractionTime"],colors:["#22c55e","#f97316"]})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-text-primary)"},children:"Focus Points Earned"}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-secondary)",marginBottom:"1rem"},children:"Your daily rewards for completing tasks and building habits."}),g.jsx(fv,{data:e,dataKeys:["pointsScored"],colors:["#a855f7"]})]})]})]})})},K2=()=>{const r=An(),[e,t]=O.useState(!1),[i,o]=O.useState(null),l=async()=>{t(!0),o(null);try{const f=(await hk(Wr,P2)).user,y=dp(xc,"users",f.uid),v=await k2(y);if(v.exists()){dw();const w=v.data();w.tasks&&wt(ae.TASKS,JSON.parse(w.tasks)),w.scheduled&&wt(ae.SCHEDULED_TASKS,JSON.parse(w.scheduled)),w.reflections&&wt(ae.REFLECTIONS,JSON.parse(w.reflections)),w.stats&&wt(ae.USER_STATS,JSON.parse(w.stats)),w.mood&&wt(ae.USER_MOOD,w.mood),console.log("Data synced from cloud!")}else{const w={email:f.email,displayName:f.displayName,createdAt:new Date().toISOString(),tasks:JSON.stringify(xe(ae.TASKS,[])),scheduled:JSON.stringify(xe(ae.SCHEDULED_TASKS,[])),reflections:JSON.stringify(xe(ae.REFLECTIONS,[])),stats:JSON.stringify(xe(ae.USER_STATS,{})),mood:xe(ae.USER_MOOD,null)};await aw(y,w),console.log("Local data backed up to cloud!")}r("/")}catch(c){console.error("Login Result Error:",c),o(`Failed to sign in: ${c.message}`)}finally{t(!1)}};return g.jsx(Dt,{children:g.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"4rem"},children:g.jsxs("div",{className:"card",style:{maxWidth:"400px",margin:"0 auto"},children:[g.jsx("h2",{style:{marginBottom:"1rem"},children:"Backup Your Progress"}),g.jsx("p",{style:{color:"var(--color-text-secondary)",marginBottom:"2rem"},children:"Sign in to save your tasks, streaks, and reflections to the cloud. Access them from any device."}),i&&g.jsx("div",{style:{color:"var(--color-danger)",marginBottom:"1rem",fontSize:"0.9rem"},children:i}),g.jsxs("button",{onClick:l,disabled:e,className:"btn-primary",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.75rem",padding:"0.75rem"},children:[e?g.jsx($T,{className:"spin",size:20}):g.jsx(jv,{size:20}),e?"Signing In...":"Sign in with Google"]})]})})})},G2=()=>{const[r,e]=O.useState("idle");return O.useEffect(()=>{let t;const i=()=>{e("syncing"),clearTimeout(t)},o=()=>{e("success"),t=setTimeout(()=>{e("idle")},3e3)},l=()=>{e("error")};return window.addEventListener("sp-sync-start",i),window.addEventListener("sp-sync-success",o),window.addEventListener("sp-sync-error",l),()=>{window.removeEventListener("sp-sync-start",i),window.removeEventListener("sp-sync-success",o),window.removeEventListener("sp-sync-error",l),clearTimeout(t)}},[]),g.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0.75rem",borderRadius:"2rem",fontSize:"0.85rem",fontWeight:"500",transition:"all 0.3s ease",...Q2(r)},children:[Y2(r),g.jsx("span",{children:J2(r)})]})},Q2=r=>{switch(r){case"syncing":return{background:"#ebf8ff",color:"#0369a1"};case"success":return{background:"#f0fdf4",color:"#166534"};case"error":return{background:"#fef2f2",color:"#991b1b"};default:return{}}},Y2=r=>{switch(r){case"syncing":return g.jsx(Mv,{size:14,className:"spin"});case"success":return g.jsx(kT,{size:14});case"error":return g.jsx(Tf,{size:14});default:return g.jsx(LT,{size:14})}},J2=r=>{switch(r){case"syncing":return"Syncing...";case"success":return"Saved";case"error":return"Sync Failed";default:return"Sync Ready"}},X2=()=>{const r=An(),{theme:e,toggleTheme:t}=pw(),i=Wr.currentUser,[o,l]=O.useState(0),c=()=>{const w=xe(ae.EVENT_LOG,[]);if(!w||w.length===0){alert("No data to export yet.");return}const T=yw(w);vw(T,`stop_procrastinating_backup_${new Date().toISOString().split("T")[0]}.csv`)},f=()=>{window.confirm("ARE YOU SURE? This will delete ALL your logs, streaks, and local data. This action cannot be undone.")&&(dw(),window.location.reload())},y=()=>{Hx(Wr).then(()=>{r("/"),window.location.reload()})},v=async()=>{await D2()};return g.jsx(Dt,{children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[g.jsxs("button",{onClick:()=>r(-1),className:"btn-secondary",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginRight:"1rem"},children:[g.jsx(bi,{size:18})," Back"]}),g.jsx("h2",{style:{margin:0},children:"Settings"}),g.jsx("div",{style:{marginLeft:"auto"},children:g.jsx(G2,{})})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[g.jsxs("div",{className:"card",children:[g.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e==="light"?g.jsx(If,{size:20}):g.jsx(Sf,{size:20})," Appearance"]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("span",{children:"App Theme"}),g.jsx("button",{onClick:t,className:"btn-secondary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:e==="light"?"Switch to Dark Mode":"Switch to Light Mode"})]})]}),g.jsxs("div",{className:"card",children:[g.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx(zd,{size:20})," Data Management"]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[g.jsxs("button",{onClick:v,className:"btn-secondary",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%"},children:[g.jsx(Mv,{size:18})," Sync Now"]}),g.jsxs("button",{onClick:c,className:"btn-secondary",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%"},children:[g.jsx(zd,{size:18})," Export Data (CSV)"]}),g.jsx("div",{style:{borderTop:"1px solid var(--border-color)",margin:"0.5rem 0"}}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{children:[g.jsx("strong",{style:{color:"var(--color-danger)"},children:"Danger Zone"}),g.jsx("p",{style:{fontSize:"0.85rem",color:"var(--color-text-secondary)",margin:0},children:"Irreversible data loss."})]}),g.jsxs("button",{onClick:f,style:{background:"#fee2e2",color:"#b91c1c",border:"1px solid #fca5a5",padding:"0.5rem 1rem",borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",fontWeight:"500"},children:[g.jsx(aS,{size:16})," Clear All Data"]})]})]})]}),g.jsxs("div",{className:"card",children:[g.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx(zv,{size:20})," Account"]}),i?g.jsxs("div",{style:{textAlign:"center"},children:[i.photoURL&&g.jsx("img",{src:i.photoURL,alt:"Profile",style:{width:"64px",height:"64px",borderRadius:"50%",marginBottom:"0.5rem"}}),g.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:i.displayName||"User"}),g.jsx("div",{style:{color:"var(--color-text-secondary)",marginBottom:"1.5rem"},children:i.email}),g.jsxs("button",{onClick:y,className:"btn-secondary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[g.jsx(qT,{size:18})," Sign Out"]})]}):g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("p",{children:"You are using a local guest account."}),g.jsx("button",{onClick:()=>r("/signin"),className:"btn-primary",style:{width:"100%"},children:"Sign In with Google"})]})]}),g.jsxs("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",fontSize:"0.9rem",marginTop:"1rem",cursor:"default"},onClick:()=>l(w=>w+1),children:[g.jsx("p",{children:"Stop Procrastinating v1.0.2"}),g.jsx("p",{children:"Build healthy habits, one day at a time."}),o>5&&g.jsx("p",{children:" You found a unicorn!"})]})]})]})})};function Z2(){return g.jsx(tT,{children:g.jsxs(DE,{children:[g.jsx(In,{path:"/",element:g.jsx(O2,{})}),g.jsx(In,{path:"/analysis",element:g.jsx(q2,{})}),g.jsx(In,{path:"/settings",element:g.jsx(X2,{})}),g.jsx(In,{path:"/signin",element:g.jsx(K2,{})}),g.jsx(In,{path:"/mood",element:g.jsx(M2,{})}),g.jsx(In,{path:"/tasks",element:g.jsx(F2,{})}),g.jsx(In,{path:"/add-task",element:g.jsx(U2,{})}),g.jsx(In,{path:"/complete/:taskId",element:g.jsx(z2,{})}),g.jsx(In,{path:"/schedule",element:g.jsx(B2,{})}),g.jsx(In,{path:"/reflect",element:g.jsx($2,{})}),g.jsx(In,{path:"/limit",element:g.jsx(W2,{})})]})})}b1.createRoot(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(N2,{children:g.jsx(Z2,{})})}));
